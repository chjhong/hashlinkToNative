// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

String Xml_get(Xml r0,String r1) {
	String r5, r8;
	haxe__ds__StringMap r10;
	$Xml r4;
	vdynamic *r9;
	int *r6;
	vbyte *r7;
	int r2, r3;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Element;
	if( r2 == r3 ) goto label$2066$11;
	r5 = (String)global$225;
	r2 = r0->nodeType;
	r6 = &r2;
	r7 = hl_itos(r2,r6);
	r8 = String___alloc__(r7,r2);
	r5 = String___add__(r5,r8);
	hl_throw((vdynamic*)r5);
	label$2066$11:
	r10 = r0->attributeMap;
	if( r10 == NULL ) hl_null_access();
	r9 = haxe_ds_StringMap_get(r10,r1);
	r5 = (String)r9;
	return r5;
}

void Xml_set(Xml r0,String r1,String r2) {
	String r7, r10;
	haxe__ds__StringMap r11;
	$Xml r6;
	int *r8;
	vbyte *r9;
	int r4, r5;
	r4 = r0->nodeType;
	r6 = ($Xml)global$224;
	r5 = r6->Element;
	if( r4 == r5 ) goto label$2067$11;
	r7 = (String)global$225;
	r4 = r0->nodeType;
	r8 = &r4;
	r9 = hl_itos(r4,r8);
	r10 = String___alloc__(r9,r4);
	r7 = String___add__(r7,r10);
	hl_throw((vdynamic*)r7);
	label$2067$11:
	r11 = r0->attributeMap;
	if( r11 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r11,r1,((vdynamic*)r2));
	return;
}

bool Xml_exists(Xml r0,String r1) {
	String r5, r8;
	haxe__ds__StringMap r10;
	bool r9;
	$Xml r4;
	int *r6;
	vbyte *r7;
	int r2, r3;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Element;
	if( r2 == r3 ) goto label$2068$11;
	r5 = (String)global$225;
	r2 = r0->nodeType;
	r6 = &r2;
	r7 = hl_itos(r2,r6);
	r8 = String___alloc__(r7,r2);
	r5 = String___add__(r5,r8);
	hl_throw((vdynamic*)r5);
	label$2068$11:
	r10 = r0->attributeMap;
	if( r10 == NULL ) hl_null_access();
	r9 = haxe_ds_StringMap_exists(r10,r1);
	return r9;
}

vdynamic* Xml_attributes(Xml r0) {
	String r4, r7;
	haxe__ds__StringMap r9;
	$Xml r3;
	vdynamic *r8;
	int *r5;
	vbyte *r6;
	int r1, r2;
	r1 = r0->nodeType;
	r3 = ($Xml)global$224;
	r2 = r3->Element;
	if( r1 == r2 ) goto label$2069$11;
	r4 = (String)global$225;
	r1 = r0->nodeType;
	r5 = &r1;
	r6 = hl_itos(r1,r5);
	r7 = String___alloc__(r6,r1);
	r4 = String___add__(r4,r7);
	hl_throw((vdynamic*)r4);
	label$2069$11:
	r9 = r0->attributeMap;
	if( r9 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_keys(r9);
	return r8;
}

vdynamic* Xml_elements(Xml r0) {
	String r4, r7;
	hl__types__ArrayObj r9, r12;
	hl_type *r11;
	Xml r14;
	$Xml r3;
	vdynamic *r8;
	int *r5;
	varray *r10;
	vbyte *r6;
	int r1, r2, r13;
	r1 = r0->nodeType;
	r3 = ($Xml)global$224;
	r2 = r3->Document;
	if( r1 == r2 ) goto label$2070$15;
	r1 = r0->nodeType;
	r3 = ($Xml)global$224;
	r2 = r3->Element;
	if( r1 == r2 ) goto label$2070$15;
	r4 = (String)global$227;
	r1 = r0->nodeType;
	r5 = &r1;
	r6 = hl_itos(r1,r5);
	r7 = String___alloc__(r6,r1);
	r4 = String___add__(r4,r7);
	hl_throw((vdynamic*)r4);
	label$2070$15:
	r11 = &type$384;
	r1 = 0;
	r10 = hl_alloc_array(r11,r1);
	r9 = hl_types_ArrayObj_alloc(r10);
	r1 = 0;
	r12 = r0->children;
	label$2070$21:
	if( r12 == NULL ) hl_null_access();
	r13 = r12->length;
	if( r1 >= r13 ) goto label$2070$41;
	r13 = r12->length;
	if( ((unsigned)r1) < ((unsigned)r13) ) goto label$2070$29;
	r14 = NULL;
	goto label$2070$32;
	label$2070$29:
	r10 = r12->array;
	r8 = ((vdynamic**)(r10 + 1))[r1];
	r14 = (Xml)r8;
	label$2070$32:
	++r1;
	if( r14 == NULL ) hl_null_access();
	r2 = r14->nodeType;
	r3 = ($Xml)global$224;
	r13 = r3->Element;
	if( r2 != r13 ) goto label$2070$40;
	if( r9 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r9,((vdynamic*)r14));
	label$2070$40:
	goto label$2070$21;
	label$2070$41:
	if( r9 == NULL ) hl_null_access();
	r8 = hl_types_ArrayObj_iterator(r9);
	return r8;
}

vdynamic* Xml_elementsNamed(Xml r0,String r1) {
	String r5, r8;
	hl__types__ArrayObj r10, r13;
	hl_type *r12;
	bool r16;
	Xml r15;
	$Xml r4;
	vdynamic *r9;
	int *r6;
	varray *r11;
	vbyte *r7;
	int r2, r3, r14;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Document;
	if( r2 == r3 ) goto label$2071$15;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Element;
	if( r2 == r3 ) goto label$2071$15;
	r5 = (String)global$227;
	r2 = r0->nodeType;
	r6 = &r2;
	r7 = hl_itos(r2,r6);
	r8 = String___alloc__(r7,r2);
	r5 = String___add__(r5,r8);
	hl_throw((vdynamic*)r5);
	label$2071$15:
	r12 = &type$384;
	r2 = 0;
	r11 = hl_alloc_array(r12,r2);
	r10 = hl_types_ArrayObj_alloc(r11);
	r2 = 0;
	r13 = r0->children;
	label$2071$21:
	if( r13 == NULL ) hl_null_access();
	r14 = r13->length;
	if( r2 >= r14 ) goto label$2071$60;
	r14 = r13->length;
	if( ((unsigned)r2) < ((unsigned)r14) ) goto label$2071$29;
	r15 = NULL;
	goto label$2071$32;
	label$2071$29:
	r11 = r13->array;
	r9 = ((vdynamic**)(r11 + 1))[r2];
	r15 = (Xml)r9;
	label$2071$32:
	++r2;
	if( r15 == NULL ) hl_null_access();
	r3 = r15->nodeType;
	r4 = ($Xml)global$224;
	r14 = r4->Element;
	if( r3 != r14 ) goto label$2071$55;
	r3 = r15->nodeType;
	r4 = ($Xml)global$224;
	r14 = r4->Element;
	if( r3 == r14 ) goto label$2071$49;
	r5 = (String)global$225;
	r3 = r15->nodeType;
	r6 = &r3;
	r7 = hl_itos(r3,r6);
	r8 = String___alloc__(r7,r3);
	r5 = String___add__(r5,r8);
	hl_throw((vdynamic*)r5);
	label$2071$49:
	r5 = r15->nodeName;
	if( r5 == r1 || (r5 && r1 && String___compare(r5,(vdynamic*)r1) == 0) ) goto label$2071$53;
	r16 = false;
	goto label$2071$54;
	label$2071$53:
	r16 = true;
	label$2071$54:
	goto label$2071$56;
	label$2071$55:
	r16 = false;
	label$2071$56:
	if( !r16 ) goto label$2071$59;
	if( r10 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_push(r10,((vdynamic*)r15));
	label$2071$59:
	goto label$2071$21;
	label$2071$60:
	if( r10 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_iterator(r10);
	return r9;
}

Xml Xml_firstElement(Xml r0) {
	String r4, r7;
	hl__types__ArrayObj r9;
	Xml r11;
	$Xml r3;
	vdynamic *r8;
	int *r5;
	varray *r12;
	vbyte *r6;
	int r1, r2, r10;
	r1 = r0->nodeType;
	r3 = ($Xml)global$224;
	r2 = r3->Document;
	if( r1 == r2 ) goto label$2072$15;
	r1 = r0->nodeType;
	r3 = ($Xml)global$224;
	r2 = r3->Element;
	if( r1 == r2 ) goto label$2072$15;
	r4 = (String)global$227;
	r1 = r0->nodeType;
	r5 = &r1;
	r6 = hl_itos(r1,r5);
	r7 = String___alloc__(r6,r1);
	r4 = String___add__(r4,r7);
	hl_throw((vdynamic*)r4);
	label$2072$15:
	r1 = 0;
	r9 = r0->children;
	label$2072$17:
	if( r9 == NULL ) hl_null_access();
	r10 = r9->length;
	if( r1 >= r10 ) goto label$2072$36;
	r10 = r9->length;
	if( ((unsigned)r1) < ((unsigned)r10) ) goto label$2072$25;
	r11 = NULL;
	goto label$2072$28;
	label$2072$25:
	r12 = r9->array;
	r8 = ((vdynamic**)(r12 + 1))[r1];
	r11 = (Xml)r8;
	label$2072$28:
	++r1;
	if( r11 == NULL ) hl_null_access();
	r2 = r11->nodeType;
	r3 = ($Xml)global$224;
	r10 = r3->Element;
	if( r2 != r10 ) goto label$2072$35;
	return r11;
	label$2072$35:
	goto label$2072$17;
	label$2072$36:
	r11 = NULL;
	return r11;
}

void Xml_addChild(Xml r0,Xml r1) {
	String r6, r9;
	hl__types__ArrayObj r12;
	bool r11;
	Xml r10;
	$Xml r5;
	int *r7;
	vbyte *r8;
	int r3, r4;
	r3 = r0->nodeType;
	r5 = ($Xml)global$224;
	r4 = r5->Document;
	if( r3 == r4 ) goto label$2073$15;
	r3 = r0->nodeType;
	r5 = ($Xml)global$224;
	r4 = r5->Element;
	if( r3 == r4 ) goto label$2073$15;
	r6 = (String)global$227;
	r3 = r0->nodeType;
	r7 = &r3;
	r8 = hl_itos(r3,r7);
	r9 = String___alloc__(r8,r3);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2073$15:
	if( r1 == NULL ) hl_null_access();
	r10 = r1->parent;
	if( !r10 ) goto label$2073$21;
	r10 = r1->parent;
	if( r10 == NULL ) hl_null_access();
	r11 = Xml_removeChild(r10,r1);
	label$2073$21:
	r12 = r0->children;
	if( r12 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_push(r12,((vdynamic*)r1));
	r1->parent = r0;
	return;
}

bool Xml_removeChild(Xml r0,Xml r1) {
	String r5, r8;
	hl__types__ArrayObj r10;
	bool r9;
	Xml r11;
	$Xml r4;
	int *r6;
	vbyte *r7;
	int r2, r3;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Document;
	if( r2 == r3 ) goto label$2074$15;
	r2 = r0->nodeType;
	r4 = ($Xml)global$224;
	r3 = r4->Element;
	if( r2 == r3 ) goto label$2074$15;
	r5 = (String)global$227;
	r2 = r0->nodeType;
	r6 = &r2;
	r7 = hl_itos(r2,r6);
	r8 = String___alloc__(r7,r2);
	r5 = String___add__(r5,r8);
	hl_throw((vdynamic*)r5);
	label$2074$15:
	r10 = r0->children;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_remove(r10,((vdynamic*)r1));
	if( !r9 ) goto label$2074$24;
	if( r1 == NULL ) hl_null_access();
	r11 = NULL;
	r1->parent = r11;
	r9 = true;
	return r9;
	label$2074$24:
	r9 = false;
	return r9;
}

String Xml_toString(Xml r0) {
	String r1;
	vdynamic *r2;
	r2 = NULL;
	r1 = haxe_xml_Printer_print(r0,r2);
	return r1;
}

vbyte* Xml___string(Xml r0) {
	String r2;
	vbyte *r1;
	r2 = Xml_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

void Xml_new(Xml r0,int r1) {
	haxe__ds__StringMap r6;
	hl__types__ArrayObj r3;
	hl_type *r5;
	varray *r4;
	int r2;
	r0->nodeType = r1;
	r5 = &type$384;
	r2 = 0;
	r4 = hl_alloc_array(r5,r2);
	r3 = hl_types_ArrayObj_alloc(r4);
	r0->children = r3;
	r6 = (haxe__ds__StringMap)hl_alloc_obj(haxe__ds__StringMap__val);
	haxe_ds_StringMap_new(r6);
	r0->attributeMap = r6;
	return;
}

Xml Xml_createDocument() {
	$Xml r2;
	Xml r0;
	int r1;
	r0 = (Xml)hl_alloc_obj(Xml__val);
	r2 = ($Xml)global$224;
	r1 = r2->Document;
	Xml_new(r0,r1);
	return r0;
}

Xml Xml_createProcessingInstruction(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->ProcessingInstruction;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Document;
	if( r2 == r5 ) goto label$2082$12;
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 != r5 ) goto label$2082$19;
	label$2082$12:
	r6 = (String)global$226;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2082$19:
	r1->nodeValue = r0;
	return r1;
}

Xml Xml_createDocType(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->DocType;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Document;
	if( r2 == r5 ) goto label$2081$12;
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 != r5 ) goto label$2081$19;
	label$2081$12:
	r6 = (String)global$226;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2081$19:
	r1->nodeValue = r0;
	return r1;
}

Xml Xml_createComment(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->Comment;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Document;
	if( r2 == r5 ) goto label$2080$12;
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 != r5 ) goto label$2080$19;
	label$2080$12:
	r6 = (String)global$226;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2080$19:
	r1->nodeValue = r0;
	return r1;
}

Xml Xml_createCData(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->CData;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Document;
	if( r2 == r5 ) goto label$2079$12;
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 != r5 ) goto label$2079$19;
	label$2079$12:
	r6 = (String)global$226;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2079$19:
	r1->nodeValue = r0;
	return r1;
}

Xml Xml_createPCData(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->PCData;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Document;
	if( r2 == r5 ) goto label$2078$12;
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 != r5 ) goto label$2078$19;
	label$2078$12:
	r6 = (String)global$226;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2078$19:
	r1->nodeValue = r0;
	return r1;
}

Xml Xml_createElement(String r0) {
	String r6, r9;
	$Xml r3;
	Xml r1;
	int *r7;
	vbyte *r8;
	int r2, r5;
	r1 = (Xml)hl_alloc_obj(Xml__val);
	r3 = ($Xml)global$224;
	r2 = r3->Element;
	Xml_new(r1,r2);
	r2 = r1->nodeType;
	r3 = ($Xml)global$224;
	r5 = r3->Element;
	if( r2 == r5 ) goto label$2077$15;
	r6 = (String)global$225;
	r2 = r1->nodeType;
	r7 = &r2;
	r8 = hl_itos(r2,r7);
	r9 = String___alloc__(r8,r2);
	r6 = String___add__(r6,r9);
	hl_throw((vdynamic*)r6);
	label$2077$15:
	r1->nodeName = r0;
	return r1;
}

Xml Xml_parse(String r0) {
	bool *r2;
	Xml r1;
	r2 = NULL;
	r1 = haxe_xml_Parser_parse(r0,r2);
	return r1;
}

