// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

String format_mp3_Tools_getFrameInfo(vvirtual* r0) {
	String r1, r4;
	vvirtual *r3;
	venum *r2, *r5, *r6, *r7, *r8, *r9;
	bool r10;
	if( r0 == NULL ) hl_null_access();
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[13] ? (*(venum**)(hl_vfields(r3)[13])) : (venum*)hl_dyn_getp(r3->value,485615783/*version*/,&type$431);
	r1 = Std_string(((vdynamic*)r2));
	r4 = (String)global$335;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r5 = hl_vfields(r3)[10] ? (*(venum**)(hl_vfields(r3)[10])) : (venum*)hl_dyn_getp(r3->value,264274784/*layer*/,&type$438);
	r4 = Std_string(((vdynamic*)r5));
	r1 = String___add__(r1,r4);
	r4 = (String)global$335;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r6 = hl_vfields(r3)[1] ? (*(venum**)(hl_vfields(r3)[1])) : (venum*)hl_dyn_getp(r3->value,405740998/*channelMode*/,&type$446);
	r4 = Std_string(((vdynamic*)r6));
	r1 = String___add__(r1,r4);
	r4 = (String)global$335;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r7 = hl_vfields(r3)[12] ? (*(venum**)(hl_vfields(r3)[12])) : (venum*)hl_dyn_getp(r3->value,372418284/*samplingRate*/,&type$434);
	r4 = Std_string(((vdynamic*)r7));
	r1 = String___add__(r1,r4);
	r4 = (String)global$336;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r8 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,-53479891/*bitrate*/,&type$437);
	r4 = Std_string(((vdynamic*)r8));
	r1 = String___add__(r1,r4);
	r4 = (String)global$337;
	r1 = String___add__(r1,r4);
	r4 = (String)global$338;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r9 = hl_vfields(r3)[3] ? (*(venum**)(hl_vfields(r3)[3])) : (venum*)hl_dyn_getp(r3->value,262448705/*emphasis*/,&type$448);
	r4 = Std_string(((vdynamic*)r9));
	r1 = String___add__(r1,r4);
	r4 = (String)global$335;
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[4] ? (*(bool*)(hl_vfields(r3)[4])) : (bool)hl_dyn_geti(r3->value,-80572784/*hasCrc*/,&type$7);
	if( !r10 ) goto label$2301$50;
	r4 = (String)global$339;
	goto label$2301$51;
	label$2301$50:
	r4 = (String)global$8;
	label$2301$51:
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[9] ? (*(bool*)(hl_vfields(r3)[9])) : (bool)hl_dyn_geti(r3->value,480631391/*isPadded*/,&type$7);
	if( !r10 ) goto label$2301$58;
	r4 = (String)global$340;
	goto label$2301$59;
	label$2301$58:
	r4 = (String)global$8;
	label$2301$59:
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[6] ? (*(bool*)(hl_vfields(r3)[6])) : (bool)hl_dyn_geti(r3->value,-195324543/*isIntensityStereo*/,&type$7);
	if( !r10 ) goto label$2301$66;
	r4 = (String)global$341;
	goto label$2301$67;
	label$2301$66:
	r4 = (String)global$8;
	label$2301$67:
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[7] ? (*(bool*)(hl_vfields(r3)[7])) : (bool)hl_dyn_geti(r3->value,-304952423/*isMSStereo*/,&type$7);
	if( !r10 ) goto label$2301$74;
	r4 = (String)global$342;
	goto label$2301$75;
	label$2301$74:
	r4 = (String)global$8;
	label$2301$75:
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[5] ? (*(bool*)(hl_vfields(r3)[5])) : (bool)hl_dyn_geti(r3->value,-448022702/*isCopyrighted*/,&type$7);
	if( !r10 ) goto label$2301$82;
	r4 = (String)global$343;
	goto label$2301$83;
	label$2301$82:
	r4 = (String)global$8;
	label$2301$83:
	r1 = String___add__(r1,r4);
	r3 = hl_vfields(r0)[1] ? (*(vvirtual**)(hl_vfields(r0)[1])) : (vvirtual*)hl_dyn_getp(r0->value,-50329203/*header*/,&type$930);
	if( r3 == NULL ) hl_null_access();
	r10 = hl_vfields(r3)[8] ? (*(bool*)(hl_vfields(r3)[8])) : (bool)hl_dyn_geti(r3->value,462899045/*isOriginal*/,&type$7);
	if( !r10 ) goto label$2301$90;
	r4 = (String)global$344;
	goto label$2301$91;
	label$2301$90:
	r4 = (String)global$8;
	label$2301$91:
	r1 = String___add__(r1,r4);
	return r1;
}

int format_mp3_Tools_getSampleCountHdr(vvirtual* r0) {
	venum *r2;
	int r1;
	if( r0 == NULL ) hl_null_access();
	r2 = hl_vfields(r0)[13] ? (*(venum**)(hl_vfields(r0)[13])) : (venum*)hl_dyn_getp(r0->value,485615783/*version*/,&type$431);
	r1 = format_mp3_MPEG_enum2Num(r2);
	r1 = format_mp3_Tools_getSampleCount(r1);
	return r1;
}

int format_mp3_Tools_getSampleCount(int r0) {
	int r1, r2;
	r2 = 3;
	if( r0 != r2 ) goto label$2300$4;
	r1 = 1152;
	return r1;
	label$2300$4:
	r1 = 576;
	return r1;
}

int format_mp3_Tools_getSampleDataSizeHdr(vvirtual* r0) {
	venum *r2, *r4, *r6;
	bool r7, r8;
	int r1, r3, r5;
	if( r0 == NULL ) hl_null_access();
	r2 = hl_vfields(r0)[13] ? (*(venum**)(hl_vfields(r0)[13])) : (venum*)hl_dyn_getp(r0->value,485615783/*version*/,&type$431);
	r1 = format_mp3_MPEG_enum2Num(r2);
	r4 = hl_vfields(r0)[0] ? (*(venum**)(hl_vfields(r0)[0])) : (venum*)hl_dyn_getp(r0->value,-53479891/*bitrate*/,&type$437);
	r3 = format_mp3_MPEG_bitrateEnum2Num(r4);
	r6 = hl_vfields(r0)[12] ? (*(venum**)(hl_vfields(r0)[12])) : (venum*)hl_dyn_getp(r0->value,372418284/*samplingRate*/,&type$434);
	r5 = format_mp3_MPEG_srEnum2Num(r6);
	r7 = hl_vfields(r0)[9] ? (*(bool*)(hl_vfields(r0)[9])) : (bool)hl_dyn_geti(r0->value,480631391/*isPadded*/,&type$7);
	r8 = hl_vfields(r0)[4] ? (*(bool*)(hl_vfields(r0)[4])) : (bool)hl_dyn_geti(r0->value,-80572784/*hasCrc*/,&type$7);
	r1 = format_mp3_Tools_getSampleDataSize(r1,r3,r5,r7,r8);
	return r1;
}

int format_mp3_Tools_getSampleDataSize(int r0,int r1,int r2,bool r3,bool r4) {
	int r5, r6;
	r6 = 3;
	if( r0 != r6 ) goto label$2299$4;
	r5 = 144;
	goto label$2299$5;
	label$2299$4:
	r5 = 72;
	label$2299$5:
	r5 = r5 * r1;
	r6 = 1000;
	r5 = r5 * r6;
	r5 = r2 == 0 ? 0 : r5 / r2;
	if( !r3 ) goto label$2299$12;
	r6 = 1;
	goto label$2299$13;
	label$2299$12:
	r6 = 0;
	label$2299$13:
	r5 = r5 + r6;
	if( !r4 ) goto label$2299$17;
	r6 = 2;
	goto label$2299$18;
	label$2299$17:
	r6 = 0;
	label$2299$18:
	r5 = r5 - r6;
	r6 = 4;
	r5 = r5 - r6;
	return r5;
}

bool format_mp3_Tools_isInvalidFrameHeader(vvirtual* r0) {
	venum *r1, *r2, *r3, *r4, *r5, *r6, *r8, *r9;
	bool r7;
	if( r0 == NULL ) hl_null_access();
	r1 = hl_vfields(r0)[13] ? (*(venum**)(hl_vfields(r0)[13])) : (venum*)hl_dyn_getp(r0->value,485615783/*version*/,&type$431);
	r2 = (venum*)global$272;
	if( r1 == r2 ) goto label$2296$20;
	r3 = hl_vfields(r0)[10] ? (*(venum**)(hl_vfields(r0)[10])) : (venum*)hl_dyn_getp(r0->value,264274784/*layer*/,&type$438);
	r4 = (venum*)global$314;
	if( r3 == r4 ) goto label$2296$20;
	r5 = hl_vfields(r0)[0] ? (*(venum**)(hl_vfields(r0)[0])) : (venum*)hl_dyn_getp(r0->value,-53479891/*bitrate*/,&type$437);
	r6 = (venum*)global$287;
	if( r5 == r6 ) goto label$2296$20;
	r5 = hl_vfields(r0)[0] ? (*(venum**)(hl_vfields(r0)[0])) : (venum*)hl_dyn_getp(r0->value,-53479891/*bitrate*/,&type$437);
	r6 = (venum*)global$288;
	if( r5 == r6 ) goto label$2296$20;
	r8 = hl_vfields(r0)[12] ? (*(venum**)(hl_vfields(r0)[12])) : (venum*)hl_dyn_getp(r0->value,372418284/*samplingRate*/,&type$434);
	r9 = (venum*)global$276;
	if( r8 == r9 ) goto label$2296$18;
	r7 = false;
	goto label$2296$19;
	label$2296$18:
	r7 = true;
	label$2296$19:
	return r7;
	label$2296$20:
	r7 = true;
	return r7;
}

venum* format_mp3_Tools_getSamplingRate(int r0,int r1) {
	hl__types__ArrayObj r2;
	venum *r7;
	format__mp3__$MPEG r3;
	vdynamic *r5;
	varray *r6;
	int r4;
	r3 = (format__mp3__$MPEG)global$271;
	r2 = r3->SamplingRates;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r4) ) goto label$2295$7;
	r2 = NULL;
	goto label$2295$10;
	label$2295$7:
	r6 = r2->array;
	r5 = ((vdynamic**)(r6 + 1))[r0];
	r2 = (hl__types__ArrayObj)hl_dyn_castp(&r5,&type$9,&type$46);
	label$2295$10:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$2295$15;
	r7 = NULL;
	goto label$2295$18;
	label$2295$15:
	r6 = r2->array;
	r5 = ((vdynamic**)(r6 + 1))[r1];
	r7 = (venum*)r5;
	label$2295$18:
	return r7;
}

venum* format_mp3_Tools_getBitrate(int r0,int r1,int r2) {
	format__mp3__$CLayer r5;
	hl__types__ArrayObj r8;
	venum *r6;
	format__mp3__$MPEG r4;
	vdynamic *r7;
	varray *r9;
	int r3;
	r4 = (format__mp3__$MPEG)global$271;
	r3 = r4->Reserved;
	if( r0 == r3 ) goto label$2294$6;
	r5 = (format__mp3__$CLayer)global$313;
	r3 = r5->LReserved;
	if( r1 != r3 ) goto label$2294$8;
	label$2294$6:
	r6 = (venum*)global$287;
	return r6;
	label$2294$8:
	r3 = 3;
	if( r0 != r3 ) goto label$2294$13;
	r4 = (format__mp3__$MPEG)global$271;
	r8 = r4->V1_Bitrates;
	goto label$2294$15;
	label$2294$13:
	r4 = (format__mp3__$MPEG)global$271;
	r8 = r4->V2_Bitrates;
	label$2294$15:
	if( r8 == NULL ) hl_null_access();
	r3 = r8->length;
	if( ((unsigned)r1) < ((unsigned)r3) ) goto label$2294$20;
	r8 = NULL;
	goto label$2294$23;
	label$2294$20:
	r9 = r8->array;
	r7 = ((vdynamic**)(r9 + 1))[r1];
	r8 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&type$9,&type$46);
	label$2294$23:
	if( r8 == NULL ) hl_null_access();
	r3 = r8->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$2294$28;
	r6 = NULL;
	goto label$2294$31;
	label$2294$28:
	r9 = r8->array;
	r7 = ((vdynamic**)(r9 + 1))[r2];
	r6 = (venum*)r7;
	label$2294$31:
	return r6;
}

