// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

String haxe_io_Path_toString(haxe__io__Path r0) {
	String r1, r2, r4;
	bool r3;
	r1 = r0->dir;
	if( r1 ) goto label$3154$4;
	r1 = (String)global$8;
	goto label$3154$11;
	label$3154$4:
	r1 = r0->dir;
	r3 = r0->backslash;
	if( !r3 ) goto label$3154$9;
	r2 = (String)global$196;
	goto label$3154$10;
	label$3154$9:
	r2 = (String)global$207;
	label$3154$10:
	r1 = String___add__(r1,r2);
	label$3154$11:
	r2 = r0->file;
	r1 = String___add__(r1,r2);
	r2 = r0->ext;
	if( r2 ) goto label$3154$17;
	r2 = (String)global$8;
	goto label$3154$20;
	label$3154$17:
	r2 = (String)global$210;
	r4 = r0->ext;
	r2 = String___add__(r2,r4);
	label$3154$20:
	r1 = String___add__(r1,r2);
	return r1;
}

vbyte* haxe_io_Path___string(haxe__io__Path r0) {
	String r2;
	vbyte *r1;
	r2 = haxe_io_Path_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

void haxe_io_Path_new(haxe__io__Path r0,String r1) {
	String r3, r8;
	bool r12;
	vdynamic *r9;
	vbyte *r6, *r7;
	int r4, r5, r10, r11, r13;
	if( !r1 ) goto label$3157$9;
	r4 = r1->length;
	r5 = 1;
	if( r4 != r5 ) goto label$3157$9;
	r6 = r1->bytes;
	r7 = (vbyte*)USTR(".");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$3157$19;
	label$3157$9:
	if( !r1 ) goto label$3157$18;
	r4 = r1->length;
	r5 = 2;
	if( r4 != r5 ) goto label$3157$18;
	r6 = r1->bytes;
	r7 = (vbyte*)USTR("..");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$3157$19;
	label$3157$18:
	goto label$3157$23;
	label$3157$19:
	r0->dir = r1;
	r3 = (String)global$8;
	r0->file = r3;
	return;
	label$3157$23:
	if( r1 == NULL ) hl_null_access();
	r8 = (String)global$207;
	r9 = NULL;
	r4 = String_lastIndexOf(r1,r8,r9);
	r8 = (String)global$196;
	r9 = NULL;
	r5 = String_lastIndexOf(r1,r8,r9);
	if( r4 >= r5 ) goto label$3157$43;
	r10 = 0;
	r9 = hl_alloc_dynamic(&type$3);
	r9->v.i = r5;
	r3 = String_substr(r1,r10,r9);
	r0->dir = r3;
	r11 = 1;
	r10 = r5 + r11;
	r9 = NULL;
	r3 = String_substr(r1,r10,r9);
	r1 = r3;
	r12 = true;
	r0->backslash = r12;
	goto label$3157$56;
	label$3157$43:
	if( r5 >= r4 ) goto label$3157$54;
	r10 = 0;
	r9 = hl_alloc_dynamic(&type$3);
	r9->v.i = r4;
	r3 = String_substr(r1,r10,r9);
	r0->dir = r3;
	r11 = 1;
	r10 = r4 + r11;
	r9 = NULL;
	r3 = String_substr(r1,r10,r9);
	r1 = r3;
	goto label$3157$56;
	label$3157$54:
	r3 = NULL;
	r0->dir = r3;
	label$3157$56:
	if( r1 == NULL ) hl_null_access();
	r8 = (String)global$210;
	r9 = NULL;
	r10 = String_lastIndexOf(r1,r8,r9);
	r13 = -1;
	if( r10 == r13 ) goto label$3157$72;
	r13 = 1;
	r11 = r10 + r13;
	r9 = NULL;
	r3 = String_substr(r1,r11,r9);
	r0->ext = r3;
	r11 = 0;
	r9 = hl_alloc_dynamic(&type$3);
	r9->v.i = r10;
	r3 = String_substr(r1,r11,r9);
	r0->file = r3;
	goto label$3157$75;
	label$3157$72:
	r3 = NULL;
	r0->ext = r3;
	r0->file = r1;
	label$3157$75:
	return;
}

bool haxe_io_Path_isAbsolute(String r0) {
	String r2, r3;
	bool r1;
	int r4;
	r3 = (String)global$207;
	r1 = StringTools_startsWith(r0,r3);
	if( !r1 ) goto label$1999$5;
	r1 = true;
	return r1;
	label$1999$5:
	if( r0 == NULL ) hl_null_access();
	r4 = 1;
	r2 = String_charAt(r0,r4);
	r3 = (String)global$440;
	if( r2 != r3 && (!r2 || !r3 || String___compare(r2,(vdynamic*)r3) != 0) ) goto label$1999$12;
	r1 = true;
	return r1;
	label$1999$12:
	r3 = (String)global$834;
	r1 = StringTools_startsWith(r0,r3);
	if( !r1 ) goto label$1999$17;
	r1 = true;
	return r1;
	label$1999$17:
	r1 = false;
	return r1;
}

String haxe_io_Path_removeTrailingSlashes(String r0) {
	String r3;
	bool r1;
	vdynamic *r2, *r6;
	int r4, r5;
	label$1992$0:
	r1 = true;
	if( !r1 ) goto label$1992$19;
	if( r0 == NULL ) hl_null_access();
	r4 = r0->length;
	r5 = 1;
	r4 = r4 - r5;
	r2 = String_charCodeAt(r0,r4);
	if( r2 ) goto label$1992$10;
	goto label$1992$19;
	label$1992$10:
	r4 = r2 ? r2->v.i : 0;
	switch(r4) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 27:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
		case 46:
		case 48:
		case 49:
		case 50:
		case 51:
		case 52:
		case 53:
		case 54:
		case 55:
		case 56:
		case 57:
		case 58:
		case 59:
		case 60:
		case 61:
		case 62:
		case 63:
		case 64:
		case 65:
		case 66:
		case 67:
		case 68:
		case 69:
		case 70:
		case 71:
		case 72:
		case 73:
		case 74:
		case 75:
		case 76:
		case 77:
		case 78:
		case 79:
		case 80:
		case 81:
		case 82:
		case 83:
		case 84:
		case 85:
		case 86:
		case 87:
		case 88:
		case 89:
		case 90:
		case 91:
			goto label$1992$19;
		case 47:
		case 92:
			r4 = 0;
			r5 = -1;
			r6 = hl_alloc_dynamic(&type$3);
			r6->v.i = r5;
			r3 = String_substr(r0,r4,r6);
			r0 = r3;
	}
	goto label$1992$0;
	label$1992$19:
	return r0;
}

String haxe_io_Path_addTrailingSlash(String r0) {
	String r2, r4;
	vdynamic *r5;
	int r1, r3, r6, r7;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r3 = 0;
	if( r1 != r3 ) goto label$1991$6;
	r2 = (String)global$207;
	return r2;
	label$1991$6:
	r4 = (String)global$207;
	r5 = NULL;
	r1 = String_lastIndexOf(r0,r4,r5);
	r4 = (String)global$196;
	r5 = NULL;
	r3 = String_lastIndexOf(r0,r4,r5);
	if( r1 >= r3 ) goto label$1991$21;
	r6 = r0->length;
	r7 = 1;
	r6 = r6 - r7;
	if( r3 == r6 ) goto label$1991$20;
	r4 = (String)global$196;
	r2 = String___add__(r0,r4);
	return r2;
	label$1991$20:
	return r0;
	label$1991$21:
	r6 = r0->length;
	r7 = 1;
	r6 = r6 - r7;
	if( r1 == r6 ) goto label$1991$28;
	r4 = (String)global$207;
	r2 = String___add__(r0,r4);
	return r2;
	label$1991$28:
	return r0;
}

String haxe_io_Path_normalize(String r0) {
	String r1, r3, r5, r13;
	hl__types__ArrayObj r4, r10;
	hl_type *r8;
	bool r15, r16, r20;
	StringBuf r14;
	vdynamic *r6;
	vbyte *r18;
	int r9, r11, r12, r17, r19;
	varray *r7;
	r1 = (String)global$207;
	if( r0 == NULL ) hl_null_access();
	r5 = (String)global$196;
	r4 = String_split(r0,r5);
	if( r4 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_join(r4,r1);
	if( r3 != r1 && (!r3 || !r1 || String___compare(r3,(vdynamic*)r1) != 0) ) goto label$3156$8;
	return r1;
	label$3156$8:
	r8 = &type$13;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r4 = hl_types_ArrayObj_alloc(r7);
	r9 = 0;
	if( r3 == NULL ) hl_null_access();
	r10 = String_split(r3,r1);
	label$3156$15:
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r9 >= r12 ) goto label$3156$53;
	r12 = r10->length;
	if( ((unsigned)r9) < ((unsigned)r12) ) goto label$3156$23;
	r3 = NULL;
	goto label$3156$26;
	label$3156$23:
	r7 = r10->array;
	r6 = ((vdynamic**)(r7 + 1))[r9];
	r3 = (String)r6;
	label$3156$26:
	++r9;
	r13 = (String)global$840;
	if( r3 != r13 && (!r3 || !r13 || String___compare(r3,(vdynamic*)r13) != 0) ) goto label$3156$48;
	if( r4 == NULL ) hl_null_access();
	r11 = r4->length;
	r12 = 0;
	if( r12 >= r11 ) goto label$3156$48;
	r11 = r4->length;
	r12 = 1;
	r11 = r11 - r12;
	r12 = r4->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$3156$40;
	r5 = NULL;
	goto label$3156$43;
	label$3156$40:
	r7 = r4->array;
	r6 = ((vdynamic**)(r7 + 1))[r11];
	r5 = (String)r6;
	label$3156$43:
	r13 = (String)global$840;
	if( r5 == r13 || (r5 && r13 && String___compare(r5,(vdynamic*)r13) == 0) ) goto label$3156$48;
	r6 = hl_types_ArrayObj_pop(r4);
	r5 = (String)r6;
	goto label$3156$52;
	label$3156$48:
	r13 = (String)global$210;
	if( r3 == r13 || (r3 && r13 && String___compare(r3,(vdynamic*)r13) == 0) ) goto label$3156$52;
	if( r4 == NULL ) hl_null_access();
	r11 = hl_types_ArrayObj_push(r4,((vdynamic*)r3));
	label$3156$52:
	goto label$3156$15;
	label$3156$53:
	if( r4 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_join(r4,r1);
	r14 = (StringBuf)hl_alloc_obj(StringBuf__val);
	StringBuf_new(r14);
	r15 = false;
	r16 = false;
	r9 = 0;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->length;
	label$3156$62:
	if( r9 >= r11 ) goto label$3156$104;
	r12 = r9;
	++r9;
	if( r3 == NULL ) hl_null_access();
	r18 = r3->bytes;
	r19 = 1;
	r17 = r12 << r19;
	r17 = *(unsigned short*)(r18 + r17);
	switch(r17) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 27:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
		case 46:
		case 48:
		case 49:
		case 50:
		case 51:
		case 52:
		case 53:
		case 54:
		case 55:
		case 56:
		case 57:
			r20 = false;
			r15 = r20;
			if( !r16 ) goto label$3156$80;
			if( r14 == NULL ) hl_null_access();
			r5 = (String)global$207;
			StringBuf_add(r14,((vdynamic*)r5));
			r20 = false;
			r16 = r20;
			label$3156$80:
			if( r14 == NULL ) hl_null_access();
			StringBuf_addChar(r14,r17);
			goto label$3156$103;
		case 47:
			if( r15 ) goto label$3156$87;
			r20 = true;
			r16 = r20;
			goto label$3156$97;
			label$3156$87:
			r20 = false;
			r15 = r20;
			if( !r16 ) goto label$3156$95;
			if( r14 == NULL ) hl_null_access();
			r5 = (String)global$207;
			StringBuf_add(r14,((vdynamic*)r5));
			r20 = false;
			r16 = r20;
			label$3156$95:
			if( r14 == NULL ) hl_null_access();
			StringBuf_addChar(r14,r17);
			label$3156$97:
			goto label$3156$103;
		case 58:
			if( r14 == NULL ) hl_null_access();
			r5 = (String)global$440;
			StringBuf_add(r14,((vdynamic*)r5));
			r20 = true;
			r15 = r20;
	}
	label$3156$103:
	goto label$3156$62;
	label$3156$104:
	if( r14 == NULL ) hl_null_access();
	r5 = StringBuf_toString(r14);
	return r5;
}

String haxe_io_Path_join(hl__types__ArrayObj r0) {
	String r6, r11, r12;
	hl__types__ArrayObj r1;
	vclosure *r2, *r3;
	vdynamic *r7;
	varray *r8;
	int r4, r5, r9, r10;
	if( r0 == NULL ) hl_null_access();
	r2 = &cl$3158;
	if( r2 ) goto label$2000$5;
	r3 = NULL;
	goto label$2000$6;
	label$2000$5:
	r3 = hl_alloc_closure_ptr(&type$3016,fun$3159,r2);
	label$2000$6:
	r1 = hl_types_ArrayObj_filter(r0,r3);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->length;
	r5 = 0;
	if( r4 != r5 ) goto label$2000$13;
	r6 = (String)global$8;
	return r6;
	label$2000$13:
	r4 = 0;
	r5 = r1->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$2000$18;
	r6 = NULL;
	goto label$2000$21;
	label$2000$18:
	r8 = r1->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r6 = (String)r7;
	label$2000$21:
	r4 = 1;
	r5 = r1->length;
	label$2000$23:
	if( r4 >= r5 ) goto label$2000$39;
	r11 = haxe_io_Path_addTrailingSlash(r6);
	if( r1 == NULL ) hl_null_access();
	r9 = r4;
	++r4;
	r10 = r1->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$2000$33;
	r12 = NULL;
	goto label$2000$36;
	label$2000$33:
	r8 = r1->array;
	r7 = ((vdynamic**)(r8 + 1))[r9];
	r12 = (String)r7;
	label$2000$36:
	r11 = String___add__(r11,r12);
	r6 = r11;
	goto label$2000$23;
	label$2000$39:
	r11 = haxe_io_Path_normalize(r6);
	return r11;
}

String haxe_io_Path_withExtension(String r0,String r1) {
	String r3;
	haxe__io__Path r2;
	r2 = (haxe__io__Path)hl_alloc_obj(haxe__io__Path__val);
	haxe_io_Path_new(r2,r0);
	r2->ext = r1;
	r3 = haxe_io_Path_toString(r2);
	return r3;
}

String haxe_io_Path_directory(String r0) {
	String r2;
	haxe__io__Path r1;
	r1 = (haxe__io__Path)hl_alloc_obj(haxe__io__Path__val);
	haxe_io_Path_new(r1,r0);
	r2 = r1->dir;
	if( r2 ) goto label$2005$6;
	r2 = (String)global$8;
	return r2;
	label$2005$6:
	r2 = r1->dir;
	return r2;
}

