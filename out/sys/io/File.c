// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

sys__io__FileOutput sys_io_File_append(String r0,bool* r1) {
	String r5, r9;
	sys__io__FileOutput r10;
	SysError r8;
	bool r2;
	hl_fdesc *r3;
	int r6;
	vbyte *r4;
	if( r1 ) goto label$3598$3;
	r2 = true;
	goto label$3598$4;
	label$3598$3:
	r2 = *r1;
	label$3598$4:
	r4 = Sys_getPath(r0);
	r6 = 2;
	r3 = hl_file_open(r4,r6,r2);
	if( r3 ) goto label$3598$15;
	r8 = (SysError)hl_alloc_obj(SysError__val);
	r5 = (String)global$1616;
	r5 = String___add__(r5,r0);
	r9 = (String)global$1618;
	r5 = String___add__(r5,r9);
	SysError_new(r8,r5);
	hl_throw((vdynamic*)r8);
	label$3598$15:
	r10 = (sys__io__FileOutput)hl_alloc_obj(sys__io__FileOutput__val);
	sys_io_FileOutput_new(r10,r3);
	return r10;
}

sys__io__FileOutput sys_io_File_write(String r0,bool* r1) {
	String r5, r9;
	sys__io__FileOutput r10;
	SysError r8;
	bool r2;
	hl_fdesc *r3;
	int r6;
	vbyte *r4;
	if( r1 ) goto label$4104$3;
	r2 = true;
	goto label$4104$4;
	label$4104$3:
	r2 = *r1;
	label$4104$4:
	r4 = Sys_getPath(r0);
	r6 = 1;
	r3 = hl_file_open(r4,r6,r2);
	if( r3 ) goto label$4104$15;
	r8 = (SysError)hl_alloc_obj(SysError__val);
	r5 = (String)global$1616;
	r5 = String___add__(r5,r0);
	r9 = (String)global$1617;
	r5 = String___add__(r5,r9);
	SysError_new(r8,r5);
	hl_throw((vdynamic*)r8);
	label$4104$15:
	r10 = (sys__io__FileOutput)hl_alloc_obj(sys__io__FileOutput__val);
	sys_io_FileOutput_new(r10,r3);
	return r10;
}

sys__io__FileInput sys_io_File_read(String r0,bool* r1) {
	String r5;
	SysError r8;
	bool r2;
	hl_fdesc *r3;
	sys__io__FileInput r9;
	int r6;
	vbyte *r4;
	if( r1 ) goto label$3599$3;
	r2 = true;
	goto label$3599$4;
	label$3599$3:
	r2 = *r1;
	label$3599$4:
	r4 = Sys_getPath(r0);
	r6 = 0;
	r3 = hl_file_open(r4,r6,r2);
	if( r3 ) goto label$3599$13;
	r8 = (SysError)hl_alloc_obj(SysError__val);
	r5 = (String)global$1616;
	r5 = String___add__(r5,r0);
	SysError_new(r8,r5);
	hl_throw((vdynamic*)r8);
	label$3599$13:
	r9 = (sys__io__FileInput)hl_alloc_obj(sys__io__FileInput__val);
	sys_io_FileInput_new(r9,r3);
	return r9;
}

void sys_io_File_saveBytes(String r0,haxe__io__Bytes r1) {
	bool *r3;
	sys__io__FileOutput r2;
	r3 = NULL;
	r2 = sys_io_File_write(r0,r3);
	if( r2 == NULL ) hl_null_access();
	haxe_io_Output_write(((haxe__io__Output)r2),r1);
	sys_io_FileOutput_close(r2);
	return;
}

void sys_io_File_saveContent(String r0,String r1) {
	bool *r3;
	sys__io__FileOutput r2;
	venum *r5;
	r3 = NULL;
	r2 = sys_io_File_write(r0,r3);
	if( r2 == NULL ) hl_null_access();
	r5 = NULL;
	haxe_io_Output_writeString(((haxe__io__Output)r2),r1,r5);
	sys_io_FileOutput_close(r2);
	return;
}

haxe__io__Bytes sys_io_File_getBytes(String r0) {
	String r4;
	SysError r6;
	haxe__io__Bytes r7;
	int *r5;
	vbyte *r3;
	int r1;
	r1 = 0;
	r3 = Sys_getPath(r0);
	r5 = &r1;
	r3 = hl_file_contents(r3,r5);
	if( r3 ) goto label$3253$10;
	r6 = (SysError)hl_alloc_obj(SysError__val);
	r4 = (String)global$1615;
	r4 = String___add__(r4,r0);
	SysError_new(r6,r4);
	hl_throw((vdynamic*)r6);
	label$3253$10:
	r7 = (haxe__io__Bytes)hl_alloc_obj(haxe__io__Bytes__val);
	haxe_io_Bytes_new(r7,r3,r1);
	return r7;
}

