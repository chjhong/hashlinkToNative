// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

vvirtual* hxsl_Clone_tvar(hxsl__Clone r0,vvirtual* r1) {
	String r10;
	hl__types__ArrayObj r13;
	vvirtual *r5, *r7, *r8, *r12;
	venum *r9, *r11;
	haxe__ds__IntMap r3;
	vdynamic *r2;
	int r4;
	r3 = r0->varMap;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(int*)(hl_vfields(r1)[0])) : (int)hl_dyn_geti(r1->value,23515/*id*/,&type$3);
	r2 = haxe_ds_IntMap_get(r3,r4);
	r5 = hl_to_virtual(&type$146,(vdynamic*)r2);
	if( !r5 ) goto label$3930$8;
	return r5;
	label$3930$8:
	r8 = hl_alloc_virtual(&type$3859);
	r4 = hxsl_Tools_allocVarId();
	if( hl_vfields(r8)[0] ) *(int*)(hl_vfields(r8)[0]) = (int)r4; else hl_dyn_seti(r8->value,23515/*id*/,&type$3,r4);
	r9 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
	if( hl_vfields(r8)[3] ) *(venum**)(hl_vfields(r8)[3]) = (venum*)r9; else hl_dyn_setp(r8->value,218690500/*type*/,&type$148,r9);
	r10 = hl_vfields(r1)[2] ? (*(String*)(hl_vfields(r1)[2])) : (String)hl_dyn_getp(r1->value,150958933/*name*/,&type$13);
	if( hl_vfields(r8)[2] ) *(String*)(hl_vfields(r8)[2]) = (String)r10; else hl_dyn_setp(r8->value,150958933/*name*/,&type$13,r10);
	r11 = hl_vfields(r1)[1] ? (*(venum**)(hl_vfields(r1)[1])) : (venum*)hl_dyn_getp(r1->value,118088286/*kind*/,&type$147);
	if( hl_vfields(r8)[1] ) *(venum**)(hl_vfields(r8)[1]) = (venum*)r11; else hl_dyn_setp(r8->value,118088286/*kind*/,&type$147,r11);
	r7 = hl_to_virtual(&type$146,(vdynamic*)r8);
	r5 = r7;
	r3 = r0->varMap;
	if( r3 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(int*)(hl_vfields(r1)[0])) : (int)hl_dyn_geti(r1->value,23515/*id*/,&type$3);
	haxe_ds_IntMap_set(r3,r4,((vdynamic*)r5));
	r7 = hl_vfields(r1)[3] ? (*(vvirtual**)(hl_vfields(r1)[3])) : (vvirtual*)hl_dyn_getp(r1->value,-310508246/*parent*/,&type$146);
	if( !r7 ) goto label$3930$29;
	if( r5 == NULL ) hl_null_access();
	r12 = hl_vfields(r1)[3] ? (*(vvirtual**)(hl_vfields(r1)[3])) : (vvirtual*)hl_dyn_getp(r1->value,-310508246/*parent*/,&type$146);
	r12 = hxsl_Clone_tvar(r0,r12);
	if( hl_vfields(r5)[3] ) *(vvirtual**)(hl_vfields(r5)[3]) = (vvirtual*)r12; else hl_dyn_setp(r5->value,-310508246/*parent*/,&type$146,r12);
	label$3930$29:
	r13 = hl_vfields(r1)[4] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[4])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,476822680/*qualifiers*/,&type$46);
	if( !r13 ) goto label$3930$36;
	if( r5 == NULL ) hl_null_access();
	r13 = hl_vfields(r1)[4] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[4])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,476822680/*qualifiers*/,&type$46);
	if( r13 == NULL ) hl_null_access();
	r13 = hl_types_ArrayObj_copy(r13);
	if( hl_vfields(r5)[4] ) *(hl__types__ArrayObj*)(hl_vfields(r5)[4]) = (hl__types__ArrayObj)r13; else hl_dyn_setp(r5->value,476822680/*qualifiers*/,&type$46,r13);
	label$3930$36:
	if( r5 == NULL ) hl_null_access();
	r9 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
	r9 = hxsl_Clone_ttype(r0,r9);
	if( hl_vfields(r5)[5] ) *(venum**)(hl_vfields(r5)[5]) = (venum*)r9; else hl_dyn_setp(r5->value,218690500/*type*/,&type$148,r9);
	return r5;
}

vvirtual* hxsl_Clone_tfun(hxsl__Clone r0,vvirtual* r1) {
	hl__types__ArrayObj r6, r10;
	vvirtual *r3, *r5, *r13, *r15;
	hl_type *r8;
	venum *r2, *r4;
	vdynamic *r14;
	int r9, r11, r12;
	varray *r7;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[4] ? (*(venum**)(hl_vfields(r1)[4])) : (venum*)hl_dyn_getp(r1->value,5691745/*ret*/,&type$148);
	r2 = hxsl_Clone_ttype(r0,r2);
	r4 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,118088286/*kind*/,&type$824);
	r5 = hl_vfields(r1)[3] ? (*(vvirtual**)(hl_vfields(r1)[3])) : (vvirtual*)hl_dyn_getp(r1->value,5691731/*ref*/,&type$146);
	r5 = hxsl_Clone_tvar(r0,r5);
	r8 = &type$146;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r6 = hl_types_ArrayObj_alloc(r7);
	r9 = 0;
	r10 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,7638631/*args*/,&type$46);
	label$3931$12:
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r9 >= r12 ) goto label$3931$29;
	if( r6 == NULL ) hl_null_access();
	r11 = r9;
	++r9;
	r12 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$3931$23;
	r13 = NULL;
	goto label$3931$26;
	label$3931$23:
	r7 = r10->array;
	r14 = ((vdynamic**)(r7 + 1))[r11];
	r13 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$3931$26:
	r13 = hxsl_Clone_tvar(r0,r13);
	r11 = hl_types_ArrayObj_push(r6,((vdynamic*)r13));
	goto label$3931$12;
	label$3931$29:
	r3 = hl_alloc_virtual(&type$3863);
	if( hl_vfields(r3)[4] ) *(venum**)(hl_vfields(r3)[4]) = (venum*)r2; else hl_dyn_setp(r3->value,5691745/*ret*/,&type$148,r2);
	if( hl_vfields(r3)[2] ) *(venum**)(hl_vfields(r3)[2]) = (venum*)r4; else hl_dyn_setp(r3->value,118088286/*kind*/,&type$824,r4);
	if( hl_vfields(r3)[3] ) *(vvirtual**)(hl_vfields(r3)[3]) = (vvirtual*)r5; else hl_dyn_setp(r3->value,5691731/*ref*/,&type$146,r5);
	if( hl_vfields(r3)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r3)[0]) = (hl__types__ArrayObj)r6; else hl_dyn_setp(r3->value,7638631/*args*/,&type$46,r6);
	if( r1 == NULL ) hl_null_access();
	r15 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,52297279/*expr*/,&type$812);
	r15 = hxsl_Clone_texpr(r0,r15);
	if( hl_vfields(r3)[1] ) *(vvirtual**)(hl_vfields(r3)[1]) = (vvirtual*)r15; else hl_dyn_setp(r3->value,52297279/*expr*/,&type$812,r15);
	return r3;
}

venum* hxsl_Clone_ttype(hxsl__Clone r0,venum* r1) {
	String r19;
	vvirtual *r12, *r14, *r15, *r17, *r18;
	hl__types__ArrayObj r5, r6, r11, r13;
	hl_type *r8;
	venum *r3, *r20, *r21, *r22, *r23;
	vdynamic *r4;
	varray *r7;
	int r2, r9, r10, r16;
	if( r1 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r1);
	switch(r2) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
			return r1;
		case 13:
			r5 = ((hxsl_Type_TStruct*)r1)->p0;
			r8 = &type$146;
			r2 = 0;
			r7 = hl_alloc_array(r8,r2);
			r6 = hl_types_ArrayObj_alloc(r7);
			r2 = 0;
			label$3932$10:
			if( r5 == NULL ) hl_null_access();
			r10 = r5->length;
			if( r2 >= r10 ) goto label$3932$27;
			if( r6 == NULL ) hl_null_access();
			r9 = r2;
			++r2;
			r10 = r5->length;
			if( ((unsigned)r9) < ((unsigned)r10) ) goto label$3932$21;
			r12 = NULL;
			goto label$3932$24;
			label$3932$21:
			r7 = r5->array;
			r4 = ((vdynamic**)(r7 + 1))[r9];
			r12 = hl_to_virtual(&type$146,(vdynamic*)r4);
			label$3932$24:
			r12 = hxsl_Clone_tvar(r0,r12);
			r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r12));
			goto label$3932$10;
			label$3932$27:
			r3 = hl_alloc_enum(&type$148,13);
			((hxsl_Type_TStruct*)r3)->p0 = r6;
			return r3;
		case 14:
			r5 = ((hxsl_Type_TFun*)r1)->p0;
			r8 = &type$3864;
			r2 = 0;
			r7 = hl_alloc_array(r8,r2);
			r6 = hl_types_ArrayObj_alloc(r7);
			r2 = 0;
			label$3932$35:
			if( r5 == NULL ) hl_null_access();
			r10 = r5->length;
			if( r2 >= r10 ) goto label$3932$85;
			r10 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r10) ) goto label$3932$43;
			r14 = NULL;
			goto label$3932$46;
			label$3932$43:
			r7 = r5->array;
			r4 = ((vdynamic**)(r7 + 1))[r2];
			r14 = hl_to_virtual(&type$3864,(vdynamic*)r4);
			label$3932$46:
			++r2;
			r8 = &type$3895;
			r9 = 0;
			r7 = hl_alloc_array(r8,r9);
			r11 = hl_types_ArrayObj_alloc(r7);
			r9 = 0;
			if( r14 == NULL ) hl_null_access();
			r13 = hl_vfields(r14)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r14)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r14->value,7638631/*args*/,&type$46);
			label$3932$54:
			if( r13 == NULL ) hl_null_access();
			r16 = r13->length;
			if( r9 >= r16 ) goto label$3932$76;
			r16 = r13->length;
			if( ((unsigned)r9) < ((unsigned)r16) ) goto label$3932$62;
			r17 = NULL;
			goto label$3932$65;
			label$3932$62:
			r7 = r13->array;
			r4 = ((vdynamic**)(r7 + 1))[r9];
			r17 = hl_to_virtual(&type$3895,(vdynamic*)r4);
			label$3932$65:
			++r9;
			if( r11 == NULL ) hl_null_access();
			r18 = hl_alloc_virtual(&type$3895);
			if( r17 == NULL ) hl_null_access();
			r19 = hl_vfields(r17)[0] ? (*(String*)(hl_vfields(r17)[0])) : (String)hl_dyn_getp(r17->value,150958933/*name*/,&type$13);
			if( hl_vfields(r18)[0] ) *(String*)(hl_vfields(r18)[0]) = (String)r19; else hl_dyn_setp(r18->value,150958933/*name*/,&type$13,r19);
			r3 = hl_vfields(r17)[1] ? (*(venum**)(hl_vfields(r17)[1])) : (venum*)hl_dyn_getp(r17->value,218690500/*type*/,&type$148);
			r3 = hxsl_Clone_ttype(r0,r3);
			if( hl_vfields(r18)[1] ) *(venum**)(hl_vfields(r18)[1]) = (venum*)r3; else hl_dyn_setp(r18->value,218690500/*type*/,&type$148,r3);
			r10 = hl_types_ArrayObj_push(r11,((vdynamic*)r18));
			goto label$3932$54;
			label$3932$76:
			if( r6 == NULL ) hl_null_access();
			r15 = hl_alloc_virtual(&type$3864);
			if( hl_vfields(r15)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r15)[0]) = (hl__types__ArrayObj)r11; else hl_dyn_setp(r15->value,7638631/*args*/,&type$46,r11);
			if( r14 == NULL ) hl_null_access();
			r3 = hl_vfields(r14)[1] ? (*(venum**)(hl_vfields(r14)[1])) : (venum*)hl_dyn_getp(r14->value,5691745/*ret*/,&type$148);
			r3 = hxsl_Clone_ttype(r0,r3);
			if( hl_vfields(r15)[1] ) *(venum**)(hl_vfields(r15)[1]) = (venum*)r3; else hl_dyn_setp(r15->value,5691745/*ret*/,&type$148,r3);
			r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r15));
			goto label$3932$35;
			label$3932$85:
			r3 = hl_alloc_enum(&type$148,14);
			((hxsl_Type_TFun*)r3)->p0 = r6;
			return r3;
		case 15:
			r20 = ((hxsl_Type_TArray*)r1)->p1;
			r3 = ((hxsl_Type_TArray*)r1)->p0;
			r3 = hxsl_Clone_ttype(r0,r3);
			r21 = r20;
			if( r20 == NULL ) hl_null_access();
			r2 = HL__ENUM_INDEX__(r20);
			switch(r2) {
				default:
					goto label$3932$101;
				case 0:
					r21 = r20;
					goto label$3932$101;
				case 1:
					r12 = ((hxsl_SizeDecl_SVar*)r20)->p0;
					r12 = hxsl_Clone_tvar(r0,r12);
					r22 = hl_alloc_enum(&type$150,1);
					((hxsl_SizeDecl_SVar*)r22)->p0 = r12;
					r21 = r22;
			}
			label$3932$101:
			r23 = hl_alloc_enum(&type$148,15);
			((hxsl_Type_TArray*)r23)->p0 = r3;
			((hxsl_Type_TArray*)r23)->p1 = r21;
			return r23;
	}
}

vvirtual* hxsl_Clone_texpr(hxsl__Clone r0,vvirtual* r1) {
	vvirtual *r2, *r4, *r6, *r10;
	venum *r5, *r7, *r9;
	vclosure *r3;
	int r8;
	r3 = hl_alloc_closure_ptr(&type$3896,hxsl_Clone_texpr,r0);
	r2 = hxsl_Tools_map(r1,r3);
	if( r2 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r5 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
	r5 = hxsl_Clone_ttype(r0,r5);
	if( hl_vfields(r2)[2] ) *(venum**)(hl_vfields(r2)[2]) = (venum*)r5; else hl_dyn_setp(r2->value,116/*t*/,&type$148,r5);
	r7 = hl_vfields(r2)[0] ? (*(venum**)(hl_vfields(r2)[0])) : (venum*)hl_dyn_getp(r2->value,101/*e*/,&type$813);
	if( r7 == NULL ) hl_null_access();
	r8 = HL__ENUM_INDEX__(r7);
	switch(r8) {
		default:
		case 0:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
			r9 = hl_vfields(r2)[0] ? (*(venum**)(hl_vfields(r2)[0])) : (venum*)hl_dyn_getp(r2->value,101/*e*/,&type$813);
			goto label$3933$27;
		case 1:
			r10 = ((hxsl_TExprDef_TVar*)r7)->p0;
			r10 = hxsl_Clone_tvar(r0,r10);
			r9 = hl_alloc_enum(&type$813,1);
			((hxsl_TExprDef_TVar*)r9)->p0 = r10;
			goto label$3933$27;
		case 7:
			r10 = ((hxsl_TExprDef_TVarDecl*)r7)->p0;
			r10 = hxsl_Clone_tvar(r0,r10);
			r4 = ((hxsl_TExprDef_TVarDecl*)r7)->p1;
			r9 = hl_alloc_enum(&type$813,7);
			((hxsl_TExprDef_TVarDecl*)r9)->p0 = r10;
			((hxsl_TExprDef_TVarDecl*)r9)->p1 = r4;
			goto label$3933$27;
		case 13:
			r10 = ((hxsl_TExprDef_TFor*)r7)->p0;
			r10 = hxsl_Clone_tvar(r0,r10);
			r4 = ((hxsl_TExprDef_TFor*)r7)->p1;
			r6 = ((hxsl_TExprDef_TFor*)r7)->p2;
			r9 = hl_alloc_enum(&type$813,13);
			((hxsl_TExprDef_TFor*)r9)->p0 = r10;
			((hxsl_TExprDef_TFor*)r9)->p1 = r4;
			((hxsl_TExprDef_TFor*)r9)->p2 = r6;
	}
	label$3933$27:
	if( hl_vfields(r2)[0] ) *(venum**)(hl_vfields(r2)[0]) = (venum*)r9; else hl_dyn_setp(r2->value,101/*e*/,&type$813,r9);
	return r2;
}

vvirtual* hxsl_Clone_shader(hxsl__Clone r0,vvirtual* r1) {
	String r2;
	hl__types__ArrayObj r4, r8, r11;
	vvirtual *r3, *r12, *r14;
	hl_type *r6;
	vdynamic *r13;
	int r7, r9, r10;
	varray *r5;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,150958933/*name*/,&type$13);
	r6 = &type$146;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r7 = 0;
	r8 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$3929$8:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	if( r7 >= r10 ) goto label$3929$25;
	if( r4 == NULL ) hl_null_access();
	r9 = r7;
	++r7;
	r10 = r8->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$3929$19;
	r12 = NULL;
	goto label$3929$22;
	label$3929$19:
	r5 = r8->array;
	r13 = ((vdynamic**)(r5 + 1))[r9];
	r12 = hl_to_virtual(&type$146,(vdynamic*)r13);
	label$3929$22:
	r12 = hxsl_Clone_tvar(r0,r12);
	r9 = hl_types_ArrayObj_push(r4,((vdynamic*)r12));
	goto label$3929$8;
	label$3929$25:
	r6 = &type$3863;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r8 = hl_types_ArrayObj_alloc(r5);
	r7 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	label$3929$32:
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	if( r7 >= r10 ) goto label$3929$49;
	if( r8 == NULL ) hl_null_access();
	r9 = r7;
	++r7;
	r10 = r11->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$3929$43;
	r14 = NULL;
	goto label$3929$46;
	label$3929$43:
	r5 = r11->array;
	r13 = ((vdynamic**)(r5 + 1))[r9];
	r14 = hl_to_virtual(&type$3863,(vdynamic*)r13);
	label$3929$46:
	r14 = hxsl_Clone_tfun(r0,r14);
	r9 = hl_types_ArrayObj_push(r8,((vdynamic*)r14));
	goto label$3929$32;
	label$3929$49:
	r3 = hl_alloc_virtual(&type$144);
	if( hl_vfields(r3)[1] ) *(String*)(hl_vfields(r3)[1]) = (String)r2; else hl_dyn_setp(r3->value,150958933/*name*/,&type$13,r2);
	if( hl_vfields(r3)[2] ) *(hl__types__ArrayObj*)(hl_vfields(r3)[2]) = (hl__types__ArrayObj)r4; else hl_dyn_setp(r3->value,239676598/*vars*/,&type$46,r4);
	if( hl_vfields(r3)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r3)[0]) = (hl__types__ArrayObj)r8; else hl_dyn_setp(r3->value,63237214/*funs*/,&type$46,r8);
	return r3;
}

void hxsl_Clone_new(hxsl__Clone r0) {
	haxe__ds__IntMap r1;
	r1 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r1);
	r0->varMap = r1;
	return;
}

vvirtual* hxsl_Clone_shaderData(vvirtual* r0) {
	vvirtual *r1;
	hxsl__Clone r2;
	r2 = (hxsl__Clone)hl_alloc_obj(hxsl__Clone__val);
	hxsl_Clone_new(r2);
	r1 = hxsl_Clone_shader(r2,r0);
	return r1;
}

