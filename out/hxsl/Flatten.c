// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

vvirtual* hxsl_Flatten_flatten(hxsl__Flatten r0,vvirtual* r1,venum* r2,bool r3) {
	String r18, r29, r33;
	haxe__ds__ObjectMap r32;
	vvirtual *r11, *r12, *r13, *r15, *r17, *r21, *r23;
	hl__types__ArrayObj r4, r24, r25, r27;
	venum *r19, *r20, *r22, *r31, *r34;
	hl_type *r6;
	hxsl___Flatten__Alloc r35;
	hl__types__ArrayBytes_Float r9;
	double r30;
	vclosure *r28;
	vdynamic *r16;
	vbyte *r10;
	int r7, r14, r26;
	varray *r5;
	r6 = &type$146;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r0->globals = r4;
	r6 = &type$146;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r0->params = r4;
	r6 = &type$146;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r0->outVars = r4;
	if( !r3 ) goto label$3908$132;
	r7 = 0;
	r10 = hl_alloc_bytes(r7);
	r7 = 0;
	r7 = 0;
	r9 = hl_types_ArrayBase_allocF64(r10,r7);
	r0->consts = r9;
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	if( r4 == NULL ) hl_null_access();
	r7 = 0;
	r14 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r14) ) goto label$3908$30;
	r15 = NULL;
	goto label$3908$33;
	label$3908$30:
	r5 = r4->array;
	r16 = ((vdynamic**)(r5 + 1))[r7];
	r15 = hl_to_virtual(&type$3863,(vdynamic*)r16);
	label$3908$33:
	if( r15 == NULL ) hl_null_access();
	r12 = hl_vfields(r15)[1] ? (*(vvirtual**)(hl_vfields(r15)[1])) : (vvirtual*)hl_dyn_getp(r15->value,52297279/*expr*/,&type$812);
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[1] ? (*(vvirtual**)(hl_vfields(r12)[1])) : (vvirtual*)hl_dyn_getp(r12->value,112/*p*/,&type$800);
	r17 = hl_alloc_virtual(&type$3859);
	r7 = hxsl_Tools_allocVarId();
	if( hl_vfields(r17)[0] ) *(int*)(hl_vfields(r17)[0]) = (int)r7; else hl_dyn_seti(r17->value,23515/*id*/,&type$3,r7);
	r18 = (String)global$672;
	if( hl_vfields(r17)[2] ) *(String*)(hl_vfields(r17)[2]) = (String)r18; else hl_dyn_setp(r17->value,150958933/*name*/,&type$13,r18);
	r19 = (venum*)global$1410;
	if( hl_vfields(r17)[1] ) *(venum**)(hl_vfields(r17)[1]) = (venum*)r19; else hl_dyn_setp(r17->value,118088286/*kind*/,&type$147,r19);
	r20 = NULL;
	if( hl_vfields(r17)[3] ) *(venum**)(hl_vfields(r17)[3]) = (venum*)r20; else hl_dyn_setp(r17->value,218690500/*type*/,&type$148,r20);
	r21 = hl_to_virtual(&type$146,(vdynamic*)r17);
	r12 = hl_alloc_virtual(&type$812);
	r22 = hl_alloc_enum(&type$813,1);
	((hxsl_TExprDef_TVar*)r22)->p0 = r21;
	if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r22; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r22);
	r20 = NULL;
	if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r20; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r20);
	if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r11; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r11);
	r0->econsts = r12;
	r18 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,150958933/*name*/,&type$13);
	r4 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	if( r4 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_copy(r4);
	r6 = &type$3863;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r24 = hl_types_ArrayObj_alloc(r5);
	r7 = 0;
	r25 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	label$3908$64:
	if( r25 == NULL ) hl_null_access();
	r26 = r25->length;
	if( r7 >= r26 ) goto label$3908$82;
	if( r24 == NULL ) hl_null_access();
	r14 = r7;
	++r7;
	r26 = r25->length;
	if( ((unsigned)r14) < ((unsigned)r26) ) goto label$3908$75;
	r15 = NULL;
	goto label$3908$78;
	label$3908$75:
	r5 = r25->array;
	r16 = ((vdynamic**)(r5 + 1))[r14];
	r15 = hl_to_virtual(&type$3863,(vdynamic*)r16);
	label$3908$78:
	r28 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapConsts,r0);
	r15 = hxsl_Flatten_mapFun(r0,r15,r28);
	r14 = hl_types_ArrayObj_push(r24,((vdynamic*)r15));
	goto label$3908$64;
	label$3908$82:
	r13 = hl_alloc_virtual(&type$144);
	if( hl_vfields(r13)[1] ) *(String*)(hl_vfields(r13)[1]) = (String)r18; else hl_dyn_setp(r13->value,150958933/*name*/,&type$13,r18);
	if( hl_vfields(r13)[2] ) *(hl__types__ArrayObj*)(hl_vfields(r13)[2]) = (hl__types__ArrayObj)r4; else hl_dyn_setp(r13->value,239676598/*vars*/,&type$46,r4);
	if( hl_vfields(r13)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r13)[0]) = (hl__types__ArrayObj)r24; else hl_dyn_setp(r13->value,63237214/*funs*/,&type$46,r24);
	r1 = r13;
	r7 = 0;
	r25 = hl_vfields(r13)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r13)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r13->value,239676598/*vars*/,&type$46);
	label$3908$89:
	if( r25 == NULL ) hl_null_access();
	r26 = r25->length;
	if( r7 >= r26 ) goto label$3908$112;
	r14 = r7;
	++r7;
	r26 = r25->length;
	if( ((unsigned)r14) < ((unsigned)r26) ) goto label$3908$99;
	r23 = NULL;
	goto label$3908$102;
	label$3908$99:
	r5 = r25->array;
	r16 = ((vdynamic**)(r5 + 1))[r14];
	r23 = hl_to_virtual(&type$146,(vdynamic*)r16);
	label$3908$102:
	if( r23 == NULL ) hl_null_access();
	r20 = hl_vfields(r23)[5] ? (*(venum**)(hl_vfields(r23)[5])) : (venum*)hl_dyn_getp(r23->value,218690500/*type*/,&type$148);
	if( r20 == NULL ) hl_null_access();
	r14 = HL__ENUM_INDEX__(r20);
	r26 = 9;
	if( r14 != r26 ) goto label$3908$111;
	r14 = 255;
	r30 = (double)r14;
	r12 = hxsl_Flatten_allocConst(r0,r30,r11);
	label$3908$111:
	goto label$3908$89;
	label$3908$112:
	r9 = r0->consts;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->length;
	r14 = 0;
	if( r14 >= r7 ) goto label$3908$132;
	if( r21 == NULL ) hl_null_access();
	r12 = r0->econsts;
	if( r12 == NULL ) hl_null_access();
	r20 = (venum*)global$673;
	r9 = r0->consts;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->length;
	r31 = hl_alloc_enum(&type$150,0);
	((hxsl_SizeDecl_SConst*)r31)->p0 = r7;
	{ venum *tmp;
	tmp = hl_alloc_enum(&type$148,15);
	((hxsl_Type_TArray*)tmp)->p0 = r20;
	((hxsl_Type_TArray*)tmp)->p1 = r31;
	r20 = tmp; };
	if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r20; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r20);
	if( hl_vfields(r21)[5] ) *(venum**)(hl_vfields(r21)[5]) = (venum*)r20; else hl_dyn_setp(r21->value,218690500/*type*/,&type$148,r20);
	if( r1 == NULL ) hl_null_access();
	r25 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	if( r25 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r25,((vdynamic*)r21));
	label$3908$132:
	r32 = (haxe__ds__ObjectMap)hl_alloc_obj(haxe__ds__ObjectMap__val);
	haxe_ds_ObjectMap_new(r32);
	r0->varMap = r32;
	r32 = (haxe__ds__ObjectMap)hl_alloc_obj(haxe__ds__ObjectMap__val);
	haxe_ds_ObjectMap_new(r32);
	r0->allocData = r32;
	r7 = 0;
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$3908$141:
	if( r4 == NULL ) hl_null_access();
	r26 = r4->length;
	if( r7 >= r26 ) goto label$3908$156;
	r14 = r7;
	++r7;
	r26 = r4->length;
	if( ((unsigned)r14) < ((unsigned)r26) ) goto label$3908$151;
	r21 = NULL;
	goto label$3908$154;
	label$3908$151:
	r5 = r4->array;
	r16 = ((vdynamic**)(r5 + 1))[r14];
	r21 = hl_to_virtual(&type$146,(vdynamic*)r16);
	label$3908$154:
	hxsl_Flatten_gatherVar(r0,r21);
	goto label$3908$141;
	label$3908$156:
	if( r2 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r2);
	switch(r7) {
		default:
			r18 = (String)global$319;
			hl_throw((vdynamic*)r18);
		case 0:
			r29 = (String)global$1411;
			r18 = r29;
			goto label$3908$166;
		case 1:
			r29 = (String)global$1412;
			r18 = r29;
	}
	label$3908$166:
	r33 = (String)global$1413;
	r29 = String___add__(r29,r33);
	r19 = (venum*)global$1410;
	r4 = r0->globals;
	r34 = (venum*)global$1356;
	r21 = hxsl_Flatten_pack(r0,r29,r19,r4,r34);
	r33 = (String)global$1414;
	r29 = String___add__(r18,r33);
	r19 = (venum*)global$1375;
	r4 = r0->params;
	r34 = (venum*)global$1356;
	r21 = hxsl_Flatten_pack(r0,r29,r19,r4,r34);
	r4 = r0->globals;
	if( r4 == NULL ) hl_null_access();
	r24 = r0->params;
	r4 = hl_types_ArrayObj_concat(r4,r24);
	r33 = (String)global$1415;
	r29 = String___add__(r18,r33);
	r20 = (venum*)global$1416;
	r24 = hxsl_Flatten_packTextures(r0,r29,r4,r20);
	if( r24 == NULL ) hl_null_access();
	r33 = (String)global$1417;
	r29 = String___add__(r18,r33);
	r20 = (venum*)global$1418;
	r25 = hxsl_Flatten_packTextures(r0,r29,r4,r20);
	r24 = hl_types_ArrayObj_concat(r24,r25);
	if( r24 == NULL ) hl_null_access();
	r33 = (String)global$1419;
	r29 = String___add__(r18,r33);
	r20 = (venum*)global$1420;
	r25 = hxsl_Flatten_packTextures(r0,r29,r4,r20);
	r24 = hl_types_ArrayObj_concat(r24,r25);
	hxsl_Flatten_packBuffers(r0,r4);
	r6 = &type$3863;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r25 = hl_types_ArrayObj_alloc(r5);
	r7 = 0;
	if( r1 == NULL ) hl_null_access();
	r27 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	label$3908$206:
	if( r27 == NULL ) hl_null_access();
	r26 = r27->length;
	if( r7 >= r26 ) goto label$3908$224;
	if( r25 == NULL ) hl_null_access();
	r14 = r7;
	++r7;
	r26 = r27->length;
	if( ((unsigned)r14) < ((unsigned)r26) ) goto label$3908$217;
	r15 = NULL;
	goto label$3908$220;
	label$3908$217:
	r5 = r27->array;
	r16 = ((vdynamic**)(r5 + 1))[r14];
	r15 = hl_to_virtual(&type$3863,(vdynamic*)r16);
	label$3908$220:
	r28 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapExpr,r0);
	r15 = hxsl_Flatten_mapFun(r0,r15,r28);
	r14 = hl_types_ArrayObj_push(r25,((vdynamic*)r15));
	goto label$3908$206;
	label$3908$224:
	r7 = 0;
	label$3908$225:
	if( r24 == NULL ) hl_null_access();
	r26 = r24->length;
	if( r7 >= r26 ) goto label$3908$244;
	r14 = r7;
	++r7;
	r26 = r24->length;
	if( ((unsigned)r14) < ((unsigned)r26) ) goto label$3908$235;
	r35 = NULL;
	goto label$3908$238;
	label$3908$235:
	r5 = r24->array;
	r16 = ((vdynamic**)(r5 + 1))[r14];
	r35 = (hxsl___Flatten__Alloc)r16;
	label$3908$238:
	if( r35 == NULL ) hl_null_access();
	r14 = r35->pos;
	r26 = 2;
	r14 = r14 >> r26;
	r35->pos = r14;
	goto label$3908$225;
	label$3908$244:
	r13 = hl_alloc_virtual(&type$144);
	if( r1 == NULL ) hl_null_access();
	r29 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,150958933/*name*/,&type$13);
	if( hl_vfields(r13)[1] ) *(String*)(hl_vfields(r13)[1]) = (String)r29; else hl_dyn_setp(r13->value,150958933/*name*/,&type$13,r29);
	r27 = r0->outVars;
	if( hl_vfields(r13)[2] ) *(hl__types__ArrayObj*)(hl_vfields(r13)[2]) = (hl__types__ArrayObj)r27; else hl_dyn_setp(r13->value,239676598/*vars*/,&type$46,r27);
	if( hl_vfields(r13)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r13)[0]) = (hl__types__ArrayObj)r25; else hl_dyn_setp(r13->value,63237214/*funs*/,&type$46,r25);
	return r13;
}

vvirtual* hxsl_Flatten_mapFun(hxsl__Flatten r0,vvirtual* r1,vclosure* r2) {
	hl__types__ArrayObj r6;
	vvirtual *r3, *r7, *r8;
	venum *r4, *r5;
	r3 = hl_alloc_virtual(&type$3863);
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,118088286/*kind*/,&type$824);
	if( hl_vfields(r3)[2] ) *(venum**)(hl_vfields(r3)[2]) = (venum*)r4; else hl_dyn_setp(r3->value,118088286/*kind*/,&type$824,r4);
	r5 = hl_vfields(r1)[4] ? (*(venum**)(hl_vfields(r1)[4])) : (venum*)hl_dyn_getp(r1->value,5691745/*ret*/,&type$148);
	if( hl_vfields(r3)[4] ) *(venum**)(hl_vfields(r3)[4]) = (venum*)r5; else hl_dyn_setp(r3->value,5691745/*ret*/,&type$148,r5);
	r6 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,7638631/*args*/,&type$46);
	if( hl_vfields(r3)[0] ) *(hl__types__ArrayObj*)(hl_vfields(r3)[0]) = (hl__types__ArrayObj)r6; else hl_dyn_setp(r3->value,7638631/*args*/,&type$46,r6);
	r7 = hl_vfields(r1)[3] ? (*(vvirtual**)(hl_vfields(r1)[3])) : (vvirtual*)hl_dyn_getp(r1->value,5691731/*ref*/,&type$146);
	if( hl_vfields(r3)[3] ) *(vvirtual**)(hl_vfields(r3)[3]) = (vvirtual*)r7; else hl_dyn_setp(r3->value,5691731/*ref*/,&type$146,r7);
	if( r2 == NULL ) hl_null_access();
	r8 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,52297279/*expr*/,&type$812);
	r8 = r2->hasValue ? ((vvirtual* (*)(vdynamic*,vvirtual*))r2->fun)((vdynamic*)r2->value,r8) : ((vvirtual* (*)(vvirtual*))r2->fun)(r8);
	if( hl_vfields(r3)[1] ) *(vvirtual**)(hl_vfields(r3)[1]) = (vvirtual*)r8; else hl_dyn_setp(r3->value,52297279/*expr*/,&type$812,r8);
	return r3;
}

vvirtual* hxsl_Flatten_mapExpr(hxsl__Flatten r0,vvirtual* r1) {
	String r24;
	haxe__ds__ObjectMap r10;
	hl__types__ArrayObj r28;
	vvirtual *r3, *r8, *r13, *r16, *r25, *r26, *r33;
	hl_type *r30;
	venum *r2, *r6, *r12, *r14, *r17, *r18, *r19, *r20, *r21, *r27, *r32, *r34;
	hxsl__Error r23;
	hxsl___Flatten__Alloc r11;
	vclosure *r7;
	vdynamic *r9;
	varray *r29;
	int r5, r15, r22, r31;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r2 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r2);
	switch(r5) {
		default:
		case 0:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
			r7 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapExpr,r0);
			r3 = hxsl_Tools_map(r1,r7);
			r1 = r3;
			goto label$3910$137;
		case 1:
			r8 = ((hxsl_TExprDef_TVar*)r2)->p0;
			r10 = r0->varMap;
			if( r10 == NULL ) hl_null_access();
			r9 = haxe_ds_ObjectMap_get(r10,((vdynamic*)r8));
			r11 = (hxsl___Flatten__Alloc)r9;
			if( r11 ) goto label$3910$17;
			r3 = r1;
			goto label$3910$22;
			label$3910$17:
			if( r8 == NULL ) hl_null_access();
			r12 = hl_vfields(r8)[5] ? (*(venum**)(hl_vfields(r8)[5])) : (venum*)hl_dyn_getp(r8->value,218690500/*type*/,&type$148);
			r13 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			r14 = hl_alloc_enum(&type$3939,0);
			((hxsl_ARead_AIndex*)r14)->p0 = r11;
			r3 = hxsl_Flatten_access(r0,r11,r12,r13,r14);
			label$3910$22:
			r1 = r3;
			goto label$3910$137;
		case 16:
			r3 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r6 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r6 == NULL ) hl_null_access();
			r5 = HL__ENUM_INDEX__(r6);
			r15 = 1;
			if( r5 != r15 ) goto label$3910$134;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			r16 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r16 == NULL ) hl_null_access();
			r13 = hl_vfields(r16)[1] ? (*(vvirtual**)(hl_vfields(r16)[1])) : (vvirtual*)hl_dyn_getp(r16->value,112/*p*/,&type$800);
			r16 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r16 == NULL ) hl_null_access();
			r6 = hl_vfields(r16)[0] ? (*(venum**)(hl_vfields(r16)[0])) : (venum*)hl_dyn_getp(r16->value,101/*e*/,&type$813);
			r8 = ((hxsl_TExprDef_TVar*)r6)->p0;
			if( r3 == NULL ) hl_null_access();
			r6 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r6 == NULL ) hl_null_access();
			r5 = HL__ENUM_INDEX__(r6);
			r15 = 0;
			if( r5 != r15 ) goto label$3910$50;
			r18 = ((hxsl_TExprDef_TConst*)r6)->p0;
			if( r18 == NULL ) hl_null_access();
			r5 = HL__ENUM_INDEX__(r18);
			r15 = 2;
			if( r5 == r15 ) goto label$3910$130;
			label$3910$50:
			r10 = r0->varMap;
			if( r10 == NULL ) hl_null_access();
			r9 = haxe_ds_ObjectMap_get(r10,((vdynamic*)r8));
			r11 = (hxsl___Flatten__Alloc)r9;
			if( r11 ) goto label$3910$56;
			goto label$3910$129;
			label$3910$56:
			if( r8 == NULL ) hl_null_access();
			r12 = hl_vfields(r8)[5] ? (*(venum**)(hl_vfields(r8)[5])) : (venum*)hl_dyn_getp(r8->value,218690500/*type*/,&type$148);
			if( r12 == NULL ) hl_null_access();
			r5 = HL__ENUM_INDEX__(r12);
			r15 = 15;
			if( r5 != r15 ) goto label$3910$127;
			r19 = ((hxsl_Type_TArray*)r12)->p0;
			if( r11 == NULL ) hl_null_access();
			r21 = r11->_t;
			r5 = hxsl_Flatten_varSize(r0,r19,r21);
			r22 = 0;
			if( r5 == r22 ) goto label$3910$72;
			r22 = 3;
			r15 = r5 & r22;
			r22 = 0;
			if( r15 == r22 ) goto label$3910$77;
			label$3910$72:
			r23 = (hxsl__Error)hl_alloc_obj(hxsl__Error__val);
			r24 = (String)global$1422;
			r25 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			hxsl_Error_new(r23,r24,r25);
			hl_throw((vdynamic*)r23);
			label$3910$77:
			r22 = 2;
			r15 = r5 >> r22;
			r5 = r15;
			r16 = hxsl_Flatten_mapExpr(r0,r3);
			r3 = r16;
			r16 = hl_alloc_virtual(&type$812);
			r26 = hl_alloc_virtual(&type$812);
			r27 = (venum*)global$1423;
			r17 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r17)->p0 = r27;
			if( hl_vfields(r26)[0] ) *(venum**)(hl_vfields(r26)[0]) = (venum*)r17; else hl_dyn_setp(r26->value,101/*e*/,&type$813,r17);
			r30 = &type$3864;
			r15 = 0;
			r29 = hl_alloc_array(r30,r15);
			r28 = hl_types_ArrayObj_alloc(r29);
			r20 = hl_alloc_enum(&type$148,14);
			((hxsl_Type_TFun*)r20)->p0 = r28;
			if( hl_vfields(r26)[2] ) *(venum**)(hl_vfields(r26)[2]) = (venum*)r20; else hl_dyn_setp(r26->value,116/*t*/,&type$148,r20);
			if( hl_vfields(r26)[1] ) *(vvirtual**)(hl_vfields(r26)[1]) = (vvirtual*)r13; else hl_dyn_setp(r26->value,112/*p*/,&type$800,r13);
			r30 = &type$812;
			r15 = 1;
			r29 = hl_alloc_array(r30,r15);
			r15 = 0;
			((vvirtual**)(r29 + 1))[r15] = r3;
			r28 = hl_types_ArrayObj_alloc(r29);
			r17 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r17)->p0 = r26;
			((hxsl_TExprDef_TCall*)r17)->p1 = r28;
			if( hl_vfields(r16)[0] ) *(venum**)(hl_vfields(r16)[0]) = (venum*)r17; else hl_dyn_setp(r16->value,101/*e*/,&type$813,r17);
			r20 = (venum*)global$1352;
			if( hl_vfields(r16)[2] ) *(venum**)(hl_vfields(r16)[2]) = (venum*)r20; else hl_dyn_setp(r16->value,116/*t*/,&type$148,r20);
			if( hl_vfields(r16)[1] ) *(vvirtual**)(hl_vfields(r16)[1]) = (vvirtual*)r13; else hl_dyn_setp(r16->value,112/*p*/,&type$800,r13);
			r31 = 1;
			if( r5 != r31 ) goto label$3910$109;
			r26 = r16;
			goto label$3910$123;
			label$3910$109:
			r26 = hl_alloc_virtual(&type$812);
			r32 = (venum*)global$1424;
			r33 = hl_alloc_virtual(&type$812);
			r18 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r18)->p0 = r5;
			r17 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r17)->p0 = r18;
			if( hl_vfields(r33)[0] ) *(venum**)(hl_vfields(r33)[0]) = (venum*)r17; else hl_dyn_setp(r33->value,101/*e*/,&type$813,r17);
			r34 = (venum*)global$1352;
			if( hl_vfields(r33)[2] ) *(venum**)(hl_vfields(r33)[2]) = (venum*)r34; else hl_dyn_setp(r33->value,116/*t*/,&type$148,r34);
			if( hl_vfields(r33)[1] ) *(vvirtual**)(hl_vfields(r33)[1]) = (vvirtual*)r13; else hl_dyn_setp(r33->value,112/*p*/,&type$800,r13);
			r17 = hl_alloc_enum(&type$813,5);
			((hxsl_TExprDef_TBinop*)r17)->p0 = r32;
			((hxsl_TExprDef_TBinop*)r17)->p1 = r16;
			((hxsl_TExprDef_TBinop*)r17)->p2 = r33;
			if( hl_vfields(r26)[0] ) *(venum**)(hl_vfields(r26)[0]) = (venum*)r17; else hl_dyn_setp(r26->value,101/*e*/,&type$813,r17);
			r34 = (venum*)global$1352;
			if( hl_vfields(r26)[2] ) *(venum**)(hl_vfields(r26)[2]) = (venum*)r34; else hl_dyn_setp(r26->value,116/*t*/,&type$148,r34);
			if( hl_vfields(r26)[1] ) *(vvirtual**)(hl_vfields(r26)[1]) = (vvirtual*)r13; else hl_dyn_setp(r26->value,112/*p*/,&type$800,r13);
			label$3910$123:
			r14 = hl_alloc_enum(&type$3939,1);
			((hxsl_ARead_AOffset*)r14)->p0 = r11;
			((hxsl_ARead_AOffset*)r14)->p1 = r5;
			((hxsl_ARead_AOffset*)r14)->p2 = r26;
			r26 = hxsl_Flatten_access(r0,r11,r19,r13,r14);
			r1 = r26;
			goto label$3910$129;
			label$3910$127:
			r24 = (String)global$319;
			hl_throw((vdynamic*)r24);
			label$3910$129:
			goto label$3910$133;
			label$3910$130:
			r7 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapExpr,r0);
			r16 = hxsl_Tools_map(r1,r7);
			r1 = r16;
			label$3910$133:
			goto label$3910$137;
			label$3910$134:
			r7 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapExpr,r0);
			r3 = hxsl_Tools_map(r1,r7);
			r1 = r3;
	}
	label$3910$137:
	r3 = hxsl_Flatten_optimize(r0,r1);
	return r3;
}

vvirtual* hxsl_Flatten_mapConsts(hxsl__Flatten r0,vvirtual* r1) {
	hl__types__ArrayObj r18;
	vvirtual *r3, *r9, *r21, *r23, *r24;
	venum *r2, *r5, *r6, *r10, *r16, *r17, *r20, *r22, *r25;
	$Math r11;
	hl__types__ArrayBytes_Float r13;
	vclosure *r26;
	double r8, r12;
	vdynamic *r7;
	varray *r19;
	vbyte *r14;
	int r4, r15;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r2 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r2);
	switch(r4) {
		default:
		case 1:
		case 3:
		case 4:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
			goto label$3911$441;
		case 0:
			r6 = ((hxsl_TExprDef_TConst*)r2)->p0;
			if( r6 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r6);
			switch(r4) {
				default:
				case 0:
				case 1:
					return r1;
				case 2:
					r4 = ((hxsl_Const_CInt*)r6)->p0;
					r8 = (double)r4;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					return r3;
				case 3:
					r8 = ((hxsl_Const_CFloat*)r6)->p0;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					return r3;
			}
		case 2:
			r10 = ((hxsl_TExprDef_TGlobal*)r2)->p0;
			if( r10 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r10);
			switch(r4) {
				default:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 7:
				case 8:
				case 11:
				case 12:
				case 13:
				case 14:
				case 15:
				case 16:
				case 17:
				case 18:
				case 19:
				case 20:
				case 21:
				case 22:
				case 23:
				case 25:
				case 26:
				case 27:
				case 28:
				case 29:
				case 30:
				case 31:
				case 32:
				case 33:
				case 34:
				case 35:
				case 36:
				case 37:
				case 38:
				case 39:
				case 40:
				case 41:
				case 42:
				case 43:
				case 44:
				case 45:
				case 46:
				case 47:
				case 48:
				case 49:
				case 50:
				case 51:
					goto label$3911$228;
				case 0:
					r11 = ($Math)global$168;
					r8 = r11->PI;
					r4 = 180;
					r12 = (double)r4;
					r8 = r8 / r12;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 1:
					r4 = 180;
					r8 = (double)r4;
					r11 = ($Math)global$168;
					r12 = r11->PI;
					r8 = r8 / r12;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 9:
					r8 = 1.4426950408889634;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 10:
					r8 = 0.69314718055994529;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 24:
					r4 = 1;
					r8 = (double)r4;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 52:
					r4 = 32;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r15 = 1;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = 255;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = 65025;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = 16581375;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 4;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					r4 = 32;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r8 = 0.0039215686274509803;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 0.0039215686274509803;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 0.0039215686274509803;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = 0;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 4;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					goto label$3911$228;
				case 53:
					r4 = 32;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r15 = 1;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 0.0039215686274509803;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 1.5378700499807768e-005;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 6.0308629411010845e-008;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 4;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					goto label$3911$228;
				case 54:
					r4 = 1;
					r8 = (double)r4;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					r8 = 0.5;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 55:
					r8 = 0.5;
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConst(r0,r8,r9);
					goto label$3911$228;
				case 56:
					r4 = 16;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r8 = 0.5;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = 0.5;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 2;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					r4 = 16;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r8 = 0.5;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r8 = -0.5;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 2;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					goto label$3911$228;
				case 57:
					r4 = 16;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r15 = 2;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = -2;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 2;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
					r4 = 16;
					r14 = hl_alloc_bytes(r4);
					r4 = 0;
					r15 = -1;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r15 = 1;
					r8 = (double)r15;
					r15 = 3;
					r15 = r4 << r15;
					*(double*)(r14 + r15) = r8;
					++r4;
					r4 = 2;
					r13 = hl_types_ArrayBase_allocF64(r14,r4);
					r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
					r3 = hxsl_Flatten_allocConsts(r0,r13,r9);
			}
			label$3911$228:
			goto label$3911$441;
		case 5:
			r16 = ((hxsl_TExprDef_TBinop*)r2)->p0;
			if( r16 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r16);
			r15 = 1;
			if( r4 != r15 ) goto label$3911$245;
			r3 = ((hxsl_TExprDef_TBinop*)r2)->p2;
			if( r3 == NULL ) hl_null_access();
			r17 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
			if( r17 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r17);
			r15 = 8;
			if( r4 != r15 ) goto label$3911$245;
			r4 = 1;
			r8 = (double)r4;
			r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			r3 = hxsl_Flatten_allocConst(r0,r8,r9);
			label$3911$245:
			goto label$3911$441;
		case 8:
			r3 = ((hxsl_TExprDef_TCall*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r15 = 2;
			if( r4 != r15 ) goto label$3911$399;
			r3 = ((hxsl_TExprDef_TCall*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r10 = ((hxsl_TExprDef_TGlobal*)r5)->p0;
			if( r10 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r10);
			r15 = 40;
			if( r4 != r15 ) goto label$3911$399;
			r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r18 == NULL ) hl_null_access();
			r4 = r18->length;
			r15 = 2;
			if( r4 != r15 ) goto label$3911$399;
			r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r18 == NULL ) hl_null_access();
			r4 = 0;
			r15 = r18->length;
			if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$273;
			r3 = NULL;
			goto label$3911$276;
			label$3911$273:
			r19 = r18->array;
			r7 = ((vdynamic**)(r19 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
			label$3911$276:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r15 = 1;
			if( r4 != r15 ) goto label$3911$399;
			r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r18 == NULL ) hl_null_access();
			r4 = 0;
			r15 = r18->length;
			if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$289;
			r3 = NULL;
			goto label$3911$292;
			label$3911$289:
			r19 = r18->array;
			r7 = ((vdynamic**)(r19 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
			label$3911$292:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r21 = ((hxsl_TExprDef_TVar*)r5)->p0;
			if( r21 == NULL ) hl_null_access();
			r20 = hl_vfields(r21)[1] ? (*(venum**)(hl_vfields(r21)[1])) : (venum*)hl_dyn_getp(r21->value,118088286/*kind*/,&type$147);
			if( r20 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r20);
			switch(r4) {
				default:
					goto label$3911$399;
				case 0:
				case 1:
				case 2:
				case 3:
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 0;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$308;
					r3 = NULL;
					goto label$3911$311;
					label$3911$308:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$311:
					if( r3 == NULL ) hl_null_access();
					r17 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
					if( r17 == NULL ) hl_null_access();
					r4 = HL__ENUM_INDEX__(r17);
					r15 = 5;
					if( r4 != r15 ) goto label$3911$399;
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 0;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$324;
					r3 = NULL;
					goto label$3911$327;
					label$3911$324:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$327:
					if( r3 == NULL ) hl_null_access();
					r17 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
					r4 = ((hxsl_Type_TVec*)r17)->p0;
					r15 = 3;
					if( r4 != r15 ) goto label$3911$399;
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 0;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$339;
					r3 = NULL;
					goto label$3911$342;
					label$3911$339:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$342:
					if( r3 == NULL ) hl_null_access();
					r17 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
					r22 = ((hxsl_Type_TVec*)r17)->p1;
					if( r22 == NULL ) hl_null_access();
					r4 = HL__ENUM_INDEX__(r22);
					r15 = 1;
					if( r4 != r15 ) goto label$3911$399;
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 1;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$356;
					r3 = NULL;
					goto label$3911$359;
					label$3911$356:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$359:
					if( r3 == NULL ) hl_null_access();
					r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
					if( r5 == NULL ) hl_null_access();
					r4 = HL__ENUM_INDEX__(r5);
					r15 = 0;
					if( r4 != r15 ) goto label$3911$399;
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 1;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$372;
					r3 = NULL;
					goto label$3911$375;
					label$3911$372:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$375:
					if( r3 == NULL ) hl_null_access();
					r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
					r6 = ((hxsl_TExprDef_TConst*)r5)->p0;
					if( r6 == NULL ) hl_null_access();
					r4 = HL__ENUM_INDEX__(r6);
					r15 = 2;
					if( r4 != r15 ) goto label$3911$399;
					r18 = ((hxsl_TExprDef_TCall*)r2)->p1;
					if( r18 == NULL ) hl_null_access();
					r4 = 1;
					r15 = r18->length;
					if( ((unsigned)r4) < ((unsigned)r15) ) goto label$3911$389;
					r3 = NULL;
					goto label$3911$392;
					label$3911$389:
					r19 = r18->array;
					r7 = ((vdynamic**)(r19 + 1))[r4];
					r3 = hl_to_virtual(&type$812,(vdynamic*)r7);
					label$3911$392:
					if( r3 == NULL ) hl_null_access();
					r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
					r6 = ((hxsl_TExprDef_TConst*)r5)->p0;
					r4 = ((hxsl_Const_CInt*)r6)->p0;
					r15 = 1;
					if( r4 != r15 ) goto label$3911$399;
					return r1;
			}
			label$3911$399:
			goto label$3911$441;
		case 16:
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r15 = 0;
			if( r4 != r15 ) goto label$3911$426;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r6 = ((hxsl_TExprDef_TConst*)r5)->p0;
			if( r6 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r6);
			r15 = 2;
			if( r4 != r15 ) goto label$3911$426;
			r3 = hl_alloc_virtual(&type$812);
			r23 = ((hxsl_TExprDef_TArray*)r2)->p0;
			r23 = hxsl_Flatten_mapConsts(r0,r23);
			r24 = ((hxsl_TExprDef_TArray*)r2)->p1;
			r5 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r5)->p0 = r23;
			((hxsl_TExprDef_TArray*)r5)->p1 = r24;
			if( hl_vfields(r3)[0] ) *(venum**)(hl_vfields(r3)[0]) = (venum*)r5; else hl_dyn_setp(r3->value,101/*e*/,&type$813,r5);
			r17 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
			if( hl_vfields(r3)[2] ) *(venum**)(hl_vfields(r3)[2]) = (venum*)r17; else hl_dyn_setp(r3->value,116/*t*/,&type$148,r17);
			r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			if( hl_vfields(r3)[1] ) *(vvirtual**)(hl_vfields(r3)[1]) = (vvirtual*)r9; else hl_dyn_setp(r3->value,112/*p*/,&type$800,r9);
			return r3;
			label$3911$426:
			r3 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r17 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
			if( r17 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r17);
			r15 = 15;
			if( r4 != r15 ) goto label$3911$441;
			r25 = ((hxsl_Type_TArray*)r17)->p0;
			r22 = (venum*)global$1356;
			r4 = hxsl_Flatten_varSize(r0,r25,r22);
			r15 = 2;
			r4 = r4 >> r15;
			r8 = (double)r4;
			r9 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			r3 = hxsl_Flatten_allocConst(r0,r8,r9);
	}
	label$3911$441:
	r26 = hl_alloc_closure_ptr(&type$3938,hxsl_Flatten_mapConsts,r0);
	r3 = hxsl_Tools_map(r1,r26);
	return r3;
}

vvirtual* hxsl_Flatten_allocConst(hxsl__Flatten r0,double r1,vvirtual* r2) {
	vvirtual *r8, *r10, *r11;
	venum *r9, *r12, *r13;
	hl__types__ArrayBytes_Float r4;
	vdynamic *r5;
	int r3, r6, r7;
	r4 = r0->consts;
	if( r4 == NULL ) hl_null_access();
	r5 = NULL;
	r3 = hl_types_ArrayBytes_Float_indexOf(r4,r1,r5);
	r7 = 0;
	if( r3 >= r7 ) goto label$3912$13;
	r4 = r0->consts;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	r3 = r6;
	r4 = r0->consts;
	if( r4 == NULL ) hl_null_access();
	r6 = hl_types_ArrayBytes_Float_push(r4,r1);
	label$3912$13:
	r8 = hl_alloc_virtual(&type$812);
	r10 = r0->econsts;
	r11 = hl_alloc_virtual(&type$812);
	r12 = hl_alloc_enum(&type$814,2);
	((hxsl_Const_CInt*)r12)->p0 = r3;
	r9 = hl_alloc_enum(&type$813,0);
	((hxsl_TExprDef_TConst*)r9)->p0 = r12;
	if( hl_vfields(r11)[0] ) *(venum**)(hl_vfields(r11)[0]) = (venum*)r9; else hl_dyn_setp(r11->value,101/*e*/,&type$813,r9);
	r13 = (venum*)global$1352;
	if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r13; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r13);
	if( hl_vfields(r11)[1] ) *(vvirtual**)(hl_vfields(r11)[1]) = (vvirtual*)r2; else hl_dyn_setp(r11->value,112/*p*/,&type$800,r2);
	r9 = hl_alloc_enum(&type$813,16);
	((hxsl_TExprDef_TArray*)r9)->p0 = r10;
	((hxsl_TExprDef_TArray*)r9)->p1 = r11;
	if( hl_vfields(r8)[0] ) *(venum**)(hl_vfields(r8)[0]) = (venum*)r9; else hl_dyn_setp(r8->value,101/*e*/,&type$813,r9);
	r13 = (venum*)global$673;
	if( hl_vfields(r8)[2] ) *(venum**)(hl_vfields(r8)[2]) = (venum*)r13; else hl_dyn_setp(r8->value,116/*t*/,&type$148,r13);
	if( hl_vfields(r8)[1] ) *(vvirtual**)(hl_vfields(r8)[1]) = (vvirtual*)r2; else hl_dyn_setp(r8->value,112/*p*/,&type$800,r2);
	return r8;
}

vvirtual* hxsl_Flatten_allocConsts(hxsl__Flatten r0,hl__types__ArrayBytes_Float r1,vvirtual* r2) {
	String r20;
	hl__types__ArrayObj r28;
	vvirtual *r21, *r23, *r24, *r31, *r32;
	hl_type *r30;
	venum *r22, *r25, *r26, *r27, *r33;
	bool r13, r19;
	hxsl__Flatten r3;
	hl__types__ArrayBytes_Float r5;
	double r16, r18;
	varray *r29;
	vbyte *r17;
	int r4, r6, r7, r8, r9, r10, r11, r12, r14, r15;
	r3 = r0;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->length;
	r6 = 1;
	r4 = r4 - r6;
	r6 = 3;
	r4 = r4 & r6;
	r6 = -1;
	r7 = 0;
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->length;
	r9 = r1->length;
	r10 = 1;
	r9 = r9 - r10;
	r8 = r8 - r9;
	label$3913$16:
	if( r7 >= r8 ) goto label$3913$64;
	r9 = r7;
	++r7;
	r11 = 2;
	r10 = r9 >> r11;
	r11 = r9 + r4;
	r12 = 2;
	r11 = r11 >> r12;
	if( r10 == r11 ) goto label$3913$27;
	goto label$3913$16;
	label$3913$27:
	r13 = true;
	r10 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = r1->length;
	label$3913$31:
	if( r10 >= r11 ) goto label$3913$60;
	r12 = r10;
	++r10;
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r14 = r9 + r12;
	r15 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$3913$42;
	r16 = 0.;
	goto label$3913$46;
	label$3913$42:
	r17 = r5->bytes;
	r15 = 3;
	r15 = r14 << r15;
	r16 = *(double*)(r17 + r15);
	label$3913$46:
	if( r1 == NULL ) hl_null_access();
	r15 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r15) ) goto label$3913$51;
	r18 = 0.;
	goto label$3913$55;
	label$3913$51:
	r17 = r1->bytes;
	r15 = 3;
	r15 = r12 << r15;
	r18 = *(double*)(r17 + r15);
	label$3913$55:
	if( r16 == r18 ) goto label$3913$59;
	r19 = false;
	r13 = r19;
	goto label$3913$60;
	label$3913$59:
	goto label$3913$31;
	label$3913$60:
	if( !r13 ) goto label$3913$63;
	r6 = r9;
	goto label$3913$64;
	label$3913$63:
	goto label$3913$16;
	label$3913$64:
	r8 = 0;
	if( r6 >= r8 ) goto label$3913$108;
	label$3913$66:
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	r8 = 2;
	r7 = r7 >> r8;
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->length;
	r8 = r8 + r4;
	r9 = 2;
	r8 = r8 >> r9;
	if( r7 == r8 ) goto label$3913$85;
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r7 = 0;
	r16 = (double)r7;
	r7 = hl_types_ArrayBytes_Float_push(r5,r16);
	goto label$3913$66;
	label$3913$85:
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	r6 = r7;
	r7 = 0;
	label$3913$90:
	if( r1 == NULL ) hl_null_access();
	r9 = r1->length;
	if( r7 >= r9 ) goto label$3913$108;
	r5 = r0->consts;
	if( r5 == NULL ) hl_null_access();
	r8 = r7;
	++r7;
	r9 = r1->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$3913$102;
	r16 = 0.;
	goto label$3913$106;
	label$3913$102:
	r17 = r1->bytes;
	r9 = 3;
	r9 = r8 << r9;
	r16 = *(double*)(r17 + r9);
	label$3913$106:
	r8 = hl_types_ArrayBytes_Float_push(r5,r16);
	goto label$3913$90;
	label$3913$108:
	if( r1 == NULL ) hl_null_access();
	r7 = r1->length;
	switch(r7) {
		default:
		case 0:
			r20 = (String)global$319;
			hl_throw((vdynamic*)r20);
		case 1:
			r21 = hl_alloc_virtual(&type$812);
			if( r3 == NULL ) hl_null_access();
			r23 = r3->econsts;
			r24 = hl_alloc_virtual(&type$812);
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r6;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r23;
			((hxsl_TExprDef_TArray*)r22)->p1 = r24;
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r22; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r26; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r2; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r2);
			return r21;
		case 2:
			r21 = hl_alloc_virtual(&type$812);
			r23 = hl_alloc_virtual(&type$812);
			r27 = (venum*)global$1361;
			r22 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r22)->p0 = r27;
			if( hl_vfields(r23)[0] ) *(venum**)(hl_vfields(r23)[0]) = (venum*)r22; else hl_dyn_setp(r23->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1357;
			if( hl_vfields(r23)[2] ) *(venum**)(hl_vfields(r23)[2]) = (venum*)r26; else hl_dyn_setp(r23->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r23)[1] ) *(vvirtual**)(hl_vfields(r23)[1]) = (vvirtual*)r2; else hl_dyn_setp(r23->value,112/*p*/,&type$800,r2);
			r30 = &type$812;
			r7 = 2;
			r29 = hl_alloc_array(r30,r7);
			r24 = hl_alloc_virtual(&type$812);
			if( r3 == NULL ) hl_null_access();
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r6;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 0;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 1;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 1;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r28 = hl_types_ArrayObj_alloc(r29);
			r22 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r22)->p0 = r23;
			((hxsl_TExprDef_TCall*)r22)->p1 = r28;
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r22; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r22);
			r7 = 2;
			r33 = (venum*)global$1356;
			r26 = hl_alloc_enum(&type$148,5);
			((hxsl_Type_TVec*)r26)->p0 = r7;
			((hxsl_Type_TVec*)r26)->p1 = r33;
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r26; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r2; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r2);
			return r21;
		case 3:
			r21 = hl_alloc_virtual(&type$812);
			r23 = hl_alloc_virtual(&type$812);
			r27 = (venum*)global$1362;
			r22 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r22)->p0 = r27;
			if( hl_vfields(r23)[0] ) *(venum**)(hl_vfields(r23)[0]) = (venum*)r22; else hl_dyn_setp(r23->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1357;
			if( hl_vfields(r23)[2] ) *(venum**)(hl_vfields(r23)[2]) = (venum*)r26; else hl_dyn_setp(r23->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r23)[1] ) *(vvirtual**)(hl_vfields(r23)[1]) = (vvirtual*)r2; else hl_dyn_setp(r23->value,112/*p*/,&type$800,r2);
			r30 = &type$812;
			r7 = 3;
			r29 = hl_alloc_array(r30,r7);
			r24 = hl_alloc_virtual(&type$812);
			if( r3 == NULL ) hl_null_access();
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r6;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 0;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 1;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 1;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 2;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 2;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r28 = hl_types_ArrayObj_alloc(r29);
			r22 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r22)->p0 = r23;
			((hxsl_TExprDef_TCall*)r22)->p1 = r28;
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r22; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r22);
			r7 = 3;
			r33 = (venum*)global$1356;
			r26 = hl_alloc_enum(&type$148,5);
			((hxsl_Type_TVec*)r26)->p0 = r7;
			((hxsl_Type_TVec*)r26)->p1 = r33;
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r26; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r2; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r2);
			return r21;
		case 4:
			r21 = hl_alloc_virtual(&type$812);
			r23 = hl_alloc_virtual(&type$812);
			r27 = (venum*)global$1363;
			r22 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r22)->p0 = r27;
			if( hl_vfields(r23)[0] ) *(venum**)(hl_vfields(r23)[0]) = (venum*)r22; else hl_dyn_setp(r23->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1357;
			if( hl_vfields(r23)[2] ) *(venum**)(hl_vfields(r23)[2]) = (venum*)r26; else hl_dyn_setp(r23->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r23)[1] ) *(vvirtual**)(hl_vfields(r23)[1]) = (vvirtual*)r2; else hl_dyn_setp(r23->value,112/*p*/,&type$800,r2);
			r30 = &type$812;
			r7 = 4;
			r29 = hl_alloc_array(r30,r7);
			r24 = hl_alloc_virtual(&type$812);
			if( r3 == NULL ) hl_null_access();
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r6;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 0;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 1;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 1;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 3;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 2;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r24 = hl_alloc_virtual(&type$812);
			r31 = r3->econsts;
			r32 = hl_alloc_virtual(&type$812);
			r8 = 4;
			r7 = r6 + r8;
			r25 = hl_alloc_enum(&type$814,2);
			((hxsl_Const_CInt*)r25)->p0 = r7;
			r22 = hl_alloc_enum(&type$813,0);
			((hxsl_TExprDef_TConst*)r22)->p0 = r25;
			if( hl_vfields(r32)[0] ) *(venum**)(hl_vfields(r32)[0]) = (venum*)r22; else hl_dyn_setp(r32->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$1352;
			if( hl_vfields(r32)[2] ) *(venum**)(hl_vfields(r32)[2]) = (venum*)r26; else hl_dyn_setp(r32->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r32)[1] ) *(vvirtual**)(hl_vfields(r32)[1]) = (vvirtual*)r2; else hl_dyn_setp(r32->value,112/*p*/,&type$800,r2);
			r22 = hl_alloc_enum(&type$813,16);
			((hxsl_TExprDef_TArray*)r22)->p0 = r31;
			((hxsl_TExprDef_TArray*)r22)->p1 = r32;
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r22; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r22);
			r26 = (venum*)global$673;
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r26; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r2; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r2);
			r7 = 3;
			((vvirtual**)(r29 + 1))[r7] = r24;
			r28 = hl_types_ArrayObj_alloc(r29);
			r22 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r22)->p0 = r23;
			((hxsl_TExprDef_TCall*)r22)->p1 = r28;
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r22; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r22);
			r7 = 4;
			r33 = (venum*)global$1356;
			r26 = hl_alloc_enum(&type$148,5);
			((hxsl_Type_TVec*)r26)->p0 = r7;
			((hxsl_Type_TVec*)r26)->p1 = r33;
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r26; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r26);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r2; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r2);
			return r21;
	}
}

vvirtual* hxsl_Flatten_mkInt(hxsl__Flatten r0,int r1,vvirtual* r2) {
	vvirtual *r3;
	venum *r4, *r5, *r6;
	r3 = hl_alloc_virtual(&type$812);
	r5 = hl_alloc_enum(&type$814,2);
	((hxsl_Const_CInt*)r5)->p0 = r1;
	r4 = hl_alloc_enum(&type$813,0);
	((hxsl_TExprDef_TConst*)r4)->p0 = r5;
	if( hl_vfields(r3)[0] ) *(venum**)(hl_vfields(r3)[0]) = (venum*)r4; else hl_dyn_setp(r3->value,101/*e*/,&type$813,r4);
	r6 = (venum*)global$1352;
	if( hl_vfields(r3)[2] ) *(venum**)(hl_vfields(r3)[2]) = (venum*)r6; else hl_dyn_setp(r3->value,116/*t*/,&type$148,r6);
	if( hl_vfields(r3)[1] ) *(vvirtual**)(hl_vfields(r3)[1]) = (vvirtual*)r2; else hl_dyn_setp(r3->value,112/*p*/,&type$800,r2);
	return r3;
}

vvirtual* hxsl_Flatten_readIndex(hxsl__Flatten r0,hxsl___Flatten__Alloc r1,int r2,vvirtual* r3) {
	vvirtual *r4, *r6, *r7, *r9;
	venum *r5, *r8, *r10, *r13;
	int r11, r12;
	r4 = hl_alloc_virtual(&type$812);
	r6 = hl_alloc_virtual(&type$812);
	if( r1 == NULL ) hl_null_access();
	r7 = r1->g;
	r5 = hl_alloc_enum(&type$813,1);
	((hxsl_TExprDef_TVar*)r5)->p0 = r7;
	if( hl_vfields(r6)[0] ) *(venum**)(hl_vfields(r6)[0]) = (venum*)r5; else hl_dyn_setp(r6->value,101/*e*/,&type$813,r5);
	r7 = r1->g;
	if( r7 == NULL ) hl_null_access();
	r8 = hl_vfields(r7)[5] ? (*(venum**)(hl_vfields(r7)[5])) : (venum*)hl_dyn_getp(r7->value,218690500/*type*/,&type$148);
	if( hl_vfields(r6)[2] ) *(venum**)(hl_vfields(r6)[2]) = (venum*)r8; else hl_dyn_setp(r6->value,116/*t*/,&type$148,r8);
	if( hl_vfields(r6)[1] ) *(vvirtual**)(hl_vfields(r6)[1]) = (vvirtual*)r3; else hl_dyn_setp(r6->value,112/*p*/,&type$800,r3);
	r9 = hl_alloc_virtual(&type$812);
	r11 = r1->pos;
	r12 = 2;
	r11 = r11 >> r12;
	r11 = r11 + r2;
	r10 = hl_alloc_enum(&type$814,2);
	((hxsl_Const_CInt*)r10)->p0 = r11;
	r5 = hl_alloc_enum(&type$813,0);
	((hxsl_TExprDef_TConst*)r5)->p0 = r10;
	if( hl_vfields(r9)[0] ) *(venum**)(hl_vfields(r9)[0]) = (venum*)r5; else hl_dyn_setp(r9->value,101/*e*/,&type$813,r5);
	r8 = (venum*)global$1352;
	if( hl_vfields(r9)[2] ) *(venum**)(hl_vfields(r9)[2]) = (venum*)r8; else hl_dyn_setp(r9->value,116/*t*/,&type$148,r8);
	if( hl_vfields(r9)[1] ) *(vvirtual**)(hl_vfields(r9)[1]) = (vvirtual*)r3; else hl_dyn_setp(r9->value,112/*p*/,&type$800,r3);
	r5 = hl_alloc_enum(&type$813,16);
	((hxsl_TExprDef_TArray*)r5)->p0 = r6;
	((hxsl_TExprDef_TArray*)r5)->p1 = r9;
	if( hl_vfields(r4)[0] ) *(venum**)(hl_vfields(r4)[0]) = (venum*)r5; else hl_dyn_setp(r4->value,101/*e*/,&type$813,r5);
	r11 = 4;
	r13 = r1->_t;
	r8 = hl_alloc_enum(&type$148,5);
	((hxsl_Type_TVec*)r8)->p0 = r11;
	((hxsl_Type_TVec*)r8)->p1 = r13;
	if( hl_vfields(r4)[2] ) *(venum**)(hl_vfields(r4)[2]) = (venum*)r8; else hl_dyn_setp(r4->value,116/*t*/,&type$148,r8);
	if( hl_vfields(r4)[1] ) *(vvirtual**)(hl_vfields(r4)[1]) = (vvirtual*)r3; else hl_dyn_setp(r4->value,112/*p*/,&type$800,r3);
	return r4;
}

vvirtual* hxsl_Flatten_readOffset(hxsl__Flatten r0,hxsl___Flatten__Alloc r1,int r2,vvirtual* r3,int r4,vvirtual* r5) {
	vvirtual *r8, *r10, *r11, *r13, *r16;
	venum *r9, *r12, *r15, *r17, *r18;
	int r6, r7, r14;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->pos;
	r7 = 2;
	r6 = r6 >> r7;
	r6 = r6 + r4;
	r8 = hl_alloc_virtual(&type$812);
	r10 = hl_alloc_virtual(&type$812);
	r11 = r1->g;
	r9 = hl_alloc_enum(&type$813,1);
	((hxsl_TExprDef_TVar*)r9)->p0 = r11;
	if( hl_vfields(r10)[0] ) *(venum**)(hl_vfields(r10)[0]) = (venum*)r9; else hl_dyn_setp(r10->value,101/*e*/,&type$813,r9);
	r11 = r1->g;
	if( r11 == NULL ) hl_null_access();
	r12 = hl_vfields(r11)[5] ? (*(venum**)(hl_vfields(r11)[5])) : (venum*)hl_dyn_getp(r11->value,218690500/*type*/,&type$148);
	if( hl_vfields(r10)[2] ) *(venum**)(hl_vfields(r10)[2]) = (venum*)r12; else hl_dyn_setp(r10->value,116/*t*/,&type$148,r12);
	if( hl_vfields(r10)[1] ) *(vvirtual**)(hl_vfields(r10)[1]) = (vvirtual*)r5; else hl_dyn_setp(r10->value,112/*p*/,&type$800,r5);
	r14 = 0;
	if( r6 != r14 ) goto label$3916$19;
	r13 = r3;
	goto label$3916$33;
	label$3916$19:
	r13 = hl_alloc_virtual(&type$812);
	r15 = (venum*)global$1425;
	r16 = hl_alloc_virtual(&type$812);
	r17 = hl_alloc_enum(&type$814,2);
	((hxsl_Const_CInt*)r17)->p0 = r6;
	r9 = hl_alloc_enum(&type$813,0);
	((hxsl_TExprDef_TConst*)r9)->p0 = r17;
	if( hl_vfields(r16)[0] ) *(venum**)(hl_vfields(r16)[0]) = (venum*)r9; else hl_dyn_setp(r16->value,101/*e*/,&type$813,r9);
	r12 = (venum*)global$1352;
	if( hl_vfields(r16)[2] ) *(venum**)(hl_vfields(r16)[2]) = (venum*)r12; else hl_dyn_setp(r16->value,116/*t*/,&type$148,r12);
	if( hl_vfields(r16)[1] ) *(vvirtual**)(hl_vfields(r16)[1]) = (vvirtual*)r5; else hl_dyn_setp(r16->value,112/*p*/,&type$800,r5);
	r9 = hl_alloc_enum(&type$813,5);
	((hxsl_TExprDef_TBinop*)r9)->p0 = r15;
	((hxsl_TExprDef_TBinop*)r9)->p1 = r3;
	((hxsl_TExprDef_TBinop*)r9)->p2 = r16;
	if( hl_vfields(r13)[0] ) *(venum**)(hl_vfields(r13)[0]) = (venum*)r9; else hl_dyn_setp(r13->value,101/*e*/,&type$813,r9);
	r12 = (venum*)global$1352;
	if( hl_vfields(r13)[2] ) *(venum**)(hl_vfields(r13)[2]) = (venum*)r12; else hl_dyn_setp(r13->value,116/*t*/,&type$148,r12);
	if( hl_vfields(r13)[1] ) *(vvirtual**)(hl_vfields(r13)[1]) = (vvirtual*)r5; else hl_dyn_setp(r13->value,112/*p*/,&type$800,r5);
	label$3916$33:
	r9 = hl_alloc_enum(&type$813,16);
	((hxsl_TExprDef_TArray*)r9)->p0 = r10;
	((hxsl_TExprDef_TArray*)r9)->p1 = r13;
	if( hl_vfields(r8)[0] ) *(venum**)(hl_vfields(r8)[0]) = (venum*)r9; else hl_dyn_setp(r8->value,101/*e*/,&type$813,r9);
	r7 = 4;
	r18 = r1->_t;
	r12 = hl_alloc_enum(&type$148,5);
	((hxsl_Type_TVec*)r12)->p0 = r7;
	((hxsl_Type_TVec*)r12)->p1 = r18;
	if( hl_vfields(r8)[2] ) *(venum**)(hl_vfields(r8)[2]) = (venum*)r12; else hl_dyn_setp(r8->value,116/*t*/,&type$148,r12);
	if( hl_vfields(r8)[1] ) *(vvirtual**)(hl_vfields(r8)[1]) = (vvirtual*)r5; else hl_dyn_setp(r8->value,112/*p*/,&type$800,r5);
	return r8;
}

vvirtual* hxsl_Flatten_access(hxsl__Flatten r0,hxsl___Flatten__Alloc r1,venum* r2,vvirtual* r3,venum* r4) {
	String r27, r28;
	hxsl__$Tools r35;
	hl__types__ArrayObj r30, r34;
	vvirtual *r11, *r12, *r14, *r15, *r16, *r17, *r21, *r24, *r25, *r41, *r42, *r43;
	hl_type *r32;
	venum *r7, *r9, *r13, *r18, *r20, *r23, *r37, *r38, *r39, *r40, *r44;
	bool r8;
	hxsl___Flatten__Alloc r10;
	double r45, r46;
	vdynamic *r26;
	varray *r31;
	int r6, r19, r22, r29, r33, r36, r47;
	if( r2 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r2);
	switch(r6) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
			r8 = hxsl_Tools_isSampler(r2);
			if( !r8 ) goto label$3917$85;
			if( r4 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$82;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r14;
					((hxsl_TExprDef_TArray*)r13)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					r6 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r6;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r7; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$82;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$60;
					r21 = r12;
					goto label$3917$74;
					label$3917$60:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r13; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r7; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r13)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r13)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r13)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r13; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r7; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$74:
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r17;
					((hxsl_TExprDef_TArray*)r13)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r19 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$82:
			if( r11 == NULL ) hl_null_access();
			if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r2; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r2);
			return r11;
			label$3917$85:
			if( r1 == NULL ) hl_null_access();
			r20 = r1->_t;
			r6 = hxsl_Flatten_varSize(r0,r2,r20);
			r22 = 4;
			if( r22 >= r6 ) goto label$3917$97;
			r27 = (String)global$1426;
			r28 = hxsl_Tools_toString(r2);
			r27 = String___add__(r27,r28);
			r16 = NULL;
			r26 = hxsl_Error_t(r27,r16);
			r11 = hl_to_virtual(&type$812,(vdynamic*)r26);
			return r11;
			label$3917$97:
			if( r4 == NULL ) hl_null_access();
			r19 = HL__ENUM_INDEX__(r4);
			switch(r19) {
				default:
					goto label$3917$174;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r19 = r10->pos;
					r22 = 2;
					r19 = r19 >> r22;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r19;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r14;
					((hxsl_TExprDef_TArray*)r13)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					r19 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r7; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$174;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r19 = r10->pos;
					r22 = 2;
					r19 = r19 >> r22;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r29 = 0;
					if( r19 != r29 ) goto label$3917$152;
					r21 = r12;
					goto label$3917$166;
					label$3917$152:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r19;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r13; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r7; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r13)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r13)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r13)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r13; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r7; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$166:
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r17;
					((hxsl_TExprDef_TArray*)r13)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r22 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r22;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$174:
			r22 = 4;
			if( r6 != r22 ) goto label$3917$184;
			r19 = r1->pos;
			r22 = 3;
			r19 = r19 & r22;
			r22 = 0;
			if( r19 == r22 ) goto label$3917$183;
			r27 = (String)global$319;
			hl_throw((vdynamic*)r27);
			label$3917$183:
			goto label$3917$218;
			label$3917$184:
			r32 = &type$582;
			r19 = 0;
			r31 = hl_alloc_array(r32,r19);
			r30 = hl_types_ArrayObj_alloc(r31);
			r19 = 0;
			r22 = r6;
			label$3917$190:
			if( r19 >= r22 ) goto label$3917$212;
			if( r30 == NULL ) hl_null_access();
			r35 = (hxsl__$Tools)global$1346;
			r34 = r35->SWIZ;
			if( r34 == NULL ) hl_null_access();
			r29 = r19;
			++r19;
			if( r1 == NULL ) hl_null_access();
			r33 = r1->pos;
			r36 = 3;
			r33 = r33 & r36;
			r29 = r29 + r33;
			r33 = r34->length;
			if( ((unsigned)r29) < ((unsigned)r33) ) goto label$3917$207;
			r37 = NULL;
			goto label$3917$210;
			label$3917$207:
			r31 = r34->array;
			r26 = ((vdynamic**)(r31 + 1))[r29];
			r37 = (venum*)r26;
			label$3917$210:
			r29 = hl_types_ArrayObj_push(r30,((vdynamic*)r37));
			goto label$3917$190;
			label$3917$212:
			r12 = hl_alloc_virtual(&type$812);
			r13 = hl_alloc_enum(&type$813,9);
			((hxsl_TExprDef_TSwiz*)r13)->p0 = r11;
			((hxsl_TExprDef_TSwiz*)r13)->p1 = r30;
			if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
			if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
			if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
			r11 = r12;
			label$3917$218:
			if( r2 == NULL ) hl_null_access();
			r19 = HL__ENUM_INDEX__(r2);
			switch(r19) {
				default:
				case 0:
				case 2:
				case 3:
				case 4:
					goto label$3917$304;
				case 1:
					if( r11 == NULL ) hl_null_access();
					r7 = (venum*)global$673;
					if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r7; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r7);
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					r38 = (venum*)global$1423;
					r13 = hl_alloc_enum(&type$813,2);
					((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r32 = &type$3864;
					r19 = 0;
					r31 = hl_alloc_array(r32,r19);
					r30 = hl_types_ArrayObj_alloc(r31);
					r7 = hl_alloc_enum(&type$148,14);
					((hxsl_Type_TFun*)r7)->p0 = r30;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r32 = &type$812;
					r19 = 1;
					r31 = hl_alloc_array(r32,r19);
					r19 = 0;
					((vvirtual**)(r31 + 1))[r19] = r11;
					r30 = hl_types_ArrayObj_alloc(r31);
					r13 = hl_alloc_enum(&type$813,8);
					((hxsl_TExprDef_TCall*)r13)->p0 = r14;
					((hxsl_TExprDef_TCall*)r13)->p1 = r30;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$304;
				case 5:
					r20 = ((hxsl_Type_TVec*)r2)->p1;
					if( r20 == NULL ) hl_null_access();
					r19 = HL__ENUM_INDEX__(r20);
					r22 = 0;
					if( r19 != r22 ) goto label$3917$304;
					r19 = ((hxsl_Type_TVec*)r2)->p0;
					if( r11 == NULL ) hl_null_access();
					r20 = (venum*)global$1356;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r7; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r7);
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					r32 = &type$815;
					r22 = 3;
					r31 = hl_alloc_array(r32,r22);
					r38 = (venum*)global$1427;
					r22 = 0;
					((venum**)(r31 + 1))[r22] = r38;
					r38 = (venum*)global$1428;
					r22 = 1;
					((venum**)(r31 + 1))[r22] = r38;
					r38 = (venum*)global$1429;
					r22 = 2;
					((venum**)(r31 + 1))[r22] = r38;
					r30 = hl_types_ArrayObj_alloc(r31);
					if( r30 == NULL ) hl_null_access();
					r29 = 2;
					r22 = r19 - r29;
					r29 = r30->length;
					if( ((unsigned)r22) < ((unsigned)r29) ) goto label$3917$281;
					r38 = NULL;
					goto label$3917$284;
					label$3917$281:
					r31 = r30->array;
					r26 = ((vdynamic**)(r31 + 1))[r22];
					r38 = (venum*)r26;
					label$3917$284:
					r13 = hl_alloc_enum(&type$813,2);
					((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r32 = &type$3864;
					r22 = 0;
					r31 = hl_alloc_array(r32,r22);
					r30 = hl_types_ArrayObj_alloc(r31);
					r7 = hl_alloc_enum(&type$148,14);
					((hxsl_Type_TFun*)r7)->p0 = r30;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r32 = &type$812;
					r22 = 1;
					r31 = hl_alloc_array(r32,r22);
					r22 = 0;
					((vvirtual**)(r31 + 1))[r22] = r11;
					r30 = hl_types_ArrayObj_alloc(r31);
					r13 = hl_alloc_enum(&type$813,8);
					((hxsl_TExprDef_TCall*)r13)->p0 = r14;
					((hxsl_TExprDef_TCall*)r13)->p1 = r30;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
			}
			label$3917$304:
			return r11;
		case 6:
			r7 = (venum*)global$1430;
			r11 = hxsl_Flatten_access(r0,r1,r7,r3,r4);
			r12 = hl_alloc_virtual(&type$812);
			r14 = hl_alloc_virtual(&type$812);
			r38 = (venum*)global$1431;
			r13 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
			if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
			r32 = &type$3864;
			r6 = 0;
			r31 = hl_alloc_array(r32,r6);
			r30 = hl_types_ArrayObj_alloc(r31);
			r7 = hl_alloc_enum(&type$148,14);
			((hxsl_Type_TFun*)r7)->p0 = r30;
			if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
			if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
			r32 = &type$812;
			r6 = 1;
			r31 = hl_alloc_array(r32,r6);
			r6 = 0;
			((vvirtual**)(r31 + 1))[r6] = r11;
			r30 = hl_types_ArrayObj_alloc(r31);
			r13 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r13)->p0 = r14;
			((hxsl_TExprDef_TCall*)r13)->p1 = r30;
			if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
			r7 = (venum*)global$1432;
			if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r7; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r7);
			if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
			return r12;
		case 7:
			r38 = (venum*)global$1433;
			r13 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
			r32 = &type$3864;
			r6 = 0;
			r31 = hl_alloc_array(r32,r6);
			r30 = hl_types_ArrayObj_alloc(r31);
			r7 = hl_alloc_enum(&type$148,14);
			((hxsl_Type_TFun*)r7)->p0 = r30;
			if( r4 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$415;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r14;
					((hxsl_TExprDef_TArray*)r39)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r39; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r40; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$415;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$393;
					r21 = r12;
					goto label$3917$407;
					label$3917$393:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$407:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r17;
					((hxsl_TExprDef_TArray*)r39)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$415:
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$495;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r21 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 1;
					r6 = r6 + r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r17;
					((hxsl_TExprDef_TArray*)r39)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r12 = r14;
					goto label$3917$495;
				case 1:
					r14 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 1;
					r6 = r6 + r19;
					r17 = hl_alloc_virtual(&type$812);
					r21 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$473;
					r24 = r14;
					goto label$3917$487;
					label$3917$473:
					r24 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r41 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r41)[0] ) *(venum**)(hl_vfields(r41)[0]) = (venum*)r39; else hl_dyn_setp(r41->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r41)[2] ) *(venum**)(hl_vfields(r41)[2]) = (venum*)r40; else hl_dyn_setp(r41->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r41)[1] ) *(vvirtual**)(hl_vfields(r41)[1]) = (vvirtual*)r3; else hl_dyn_setp(r41->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r14;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r41;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					label$3917$487:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r21;
					((hxsl_TExprDef_TArray*)r39)->p1 = r24;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r12 = r17;
			}
			label$3917$495:
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$575;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r17 = hl_alloc_virtual(&type$812);
					r21 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r24 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 2;
					r6 = r6 + r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r21;
					((hxsl_TExprDef_TArray*)r39)->p1 = r24;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r14 = r17;
					goto label$3917$575;
				case 1:
					r17 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 2;
					r6 = r6 + r19;
					r21 = hl_alloc_virtual(&type$812);
					r24 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$553;
					r25 = r17;
					goto label$3917$567;
					label$3917$553:
					r25 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r42 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r42)[0] ) *(venum**)(hl_vfields(r42)[0]) = (venum*)r39; else hl_dyn_setp(r42->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r42)[2] ) *(venum**)(hl_vfields(r42)[2]) = (venum*)r40; else hl_dyn_setp(r42->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r42)[1] ) *(vvirtual**)(hl_vfields(r42)[1]) = (vvirtual*)r3; else hl_dyn_setp(r42->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r17;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r42;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					label$3917$567:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r24;
					((hxsl_TExprDef_TArray*)r39)->p1 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r14 = r21;
			}
			label$3917$575:
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$655;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r21 = hl_alloc_virtual(&type$812);
					r24 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r25 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 3;
					r6 = r6 + r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r24;
					((hxsl_TExprDef_TArray*)r39)->p1 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r17 = r21;
					goto label$3917$655;
				case 1:
					r21 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 3;
					r6 = r6 + r19;
					r24 = hl_alloc_virtual(&type$812);
					r25 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$633;
					r41 = r21;
					goto label$3917$647;
					label$3917$633:
					r41 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r43 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r43)[0] ) *(venum**)(hl_vfields(r43)[0]) = (venum*)r39; else hl_dyn_setp(r43->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r43)[2] ) *(venum**)(hl_vfields(r43)[2]) = (venum*)r40; else hl_dyn_setp(r43->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r43)[1] ) *(vvirtual**)(hl_vfields(r43)[1]) = (vvirtual*)r3; else hl_dyn_setp(r43->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r21;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r43;
					if( hl_vfields(r41)[0] ) *(venum**)(hl_vfields(r41)[0]) = (venum*)r39; else hl_dyn_setp(r41->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r41)[2] ) *(venum**)(hl_vfields(r41)[2]) = (venum*)r40; else hl_dyn_setp(r41->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r41)[1] ) *(vvirtual**)(hl_vfields(r41)[1]) = (vvirtual*)r3; else hl_dyn_setp(r41->value,112/*p*/,&type$800,r3);
					label$3917$647:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r25;
					((hxsl_TExprDef_TArray*)r39)->p1 = r41;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r17 = r24;
			}
			label$3917$655:
			r21 = hl_alloc_virtual(&type$812);
			r24 = hl_alloc_virtual(&type$812);
			if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r13; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r13);
			if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r7; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r7);
			if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
			r32 = &type$812;
			r6 = 4;
			r31 = hl_alloc_array(r32,r6);
			r6 = 0;
			((vvirtual**)(r31 + 1))[r6] = r11;
			r6 = 1;
			((vvirtual**)(r31 + 1))[r6] = r12;
			r6 = 2;
			((vvirtual**)(r31 + 1))[r6] = r14;
			r6 = 3;
			((vvirtual**)(r31 + 1))[r6] = r17;
			r30 = hl_types_ArrayObj_alloc(r31);
			r39 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r39)->p0 = r24;
			((hxsl_TExprDef_TCall*)r39)->p1 = r30;
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
			r40 = (venum*)global$1434;
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
			return r21;
		case 8:
			r38 = (venum*)global$1435;
			r13 = hl_alloc_enum(&type$813,2);
			((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
			r32 = &type$3864;
			r6 = 0;
			r31 = hl_alloc_array(r32,r6);
			r30 = hl_types_ArrayObj_alloc(r31);
			r7 = hl_alloc_enum(&type$148,14);
			((hxsl_Type_TFun*)r7)->p0 = r30;
			if( r4 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$762;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r14;
					((hxsl_TExprDef_TArray*)r39)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r39; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r40; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$762;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$740;
					r21 = r12;
					goto label$3917$754;
					label$3917$740:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$754:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r17;
					((hxsl_TExprDef_TArray*)r39)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$762:
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$842;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r21 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 1;
					r6 = r6 + r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r17;
					((hxsl_TExprDef_TArray*)r39)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r39; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r40; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r12 = r14;
					goto label$3917$842;
				case 1:
					r14 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 1;
					r6 = r6 + r19;
					r17 = hl_alloc_virtual(&type$812);
					r21 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$820;
					r24 = r14;
					goto label$3917$834;
					label$3917$820:
					r24 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r41 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r41)[0] ) *(venum**)(hl_vfields(r41)[0]) = (venum*)r39; else hl_dyn_setp(r41->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r41)[2] ) *(venum**)(hl_vfields(r41)[2]) = (venum*)r40; else hl_dyn_setp(r41->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r41)[1] ) *(vvirtual**)(hl_vfields(r41)[1]) = (vvirtual*)r3; else hl_dyn_setp(r41->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r14;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r41;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					label$3917$834:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r21;
					((hxsl_TExprDef_TArray*)r39)->p1 = r24;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r12 = r17;
			}
			label$3917$842:
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$922;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r17 = hl_alloc_virtual(&type$812);
					r21 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r24 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 2;
					r6 = r6 + r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r21;
					((hxsl_TExprDef_TArray*)r39)->p1 = r24;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
					r6 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r6;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r14 = r17;
					goto label$3917$922;
				case 1:
					r17 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r19 = 2;
					r6 = r6 + r19;
					r21 = hl_alloc_virtual(&type$812);
					r24 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r39 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r39)->p0 = r15;
					if( hl_vfields(r24)[0] ) *(venum**)(hl_vfields(r24)[0]) = (venum*)r39; else hl_dyn_setp(r24->value,101/*e*/,&type$813,r39);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r40 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r24)[2] ) *(venum**)(hl_vfields(r24)[2]) = (venum*)r40; else hl_dyn_setp(r24->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r24)[1] ) *(vvirtual**)(hl_vfields(r24)[1]) = (vvirtual*)r3; else hl_dyn_setp(r24->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$900;
					r25 = r17;
					goto label$3917$914;
					label$3917$900:
					r25 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r42 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r39 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r39)->p0 = r18;
					if( hl_vfields(r42)[0] ) *(venum**)(hl_vfields(r42)[0]) = (venum*)r39; else hl_dyn_setp(r42->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r42)[2] ) *(venum**)(hl_vfields(r42)[2]) = (venum*)r40; else hl_dyn_setp(r42->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r42)[1] ) *(vvirtual**)(hl_vfields(r42)[1]) = (vvirtual*)r3; else hl_dyn_setp(r42->value,112/*p*/,&type$800,r3);
					r39 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r39)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r39)->p1 = r17;
					((hxsl_TExprDef_TBinop*)r39)->p2 = r42;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r39; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r39);
					r40 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r40; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					label$3917$914:
					r39 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r39)->p0 = r24;
					((hxsl_TExprDef_TArray*)r39)->p1 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r39; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r39);
					r19 = 4;
					r20 = r10->_t;
					r40 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r40)->p0 = r19;
					((hxsl_Type_TVec*)r40)->p1 = r20;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r40; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r40);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					r14 = r21;
			}
			label$3917$922:
			r17 = hl_alloc_virtual(&type$812);
			r21 = hl_alloc_virtual(&type$812);
			if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r13; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r13);
			if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r7; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r7);
			if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
			r32 = &type$812;
			r6 = 3;
			r31 = hl_alloc_array(r32,r6);
			r6 = 0;
			((vvirtual**)(r31 + 1))[r6] = r11;
			r6 = 1;
			((vvirtual**)(r31 + 1))[r6] = r12;
			r6 = 2;
			((vvirtual**)(r31 + 1))[r6] = r14;
			r30 = hl_types_ArrayObj_alloc(r31);
			r39 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r39)->p0 = r21;
			((hxsl_TExprDef_TCall*)r39)->p1 = r30;
			if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r39; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r39);
			r40 = (venum*)global$1430;
			if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r40; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r40);
			if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
			return r17;
		case 15:
			r44 = ((hxsl_Type_TArray*)r2)->p1;
			if( r44 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r44);
			r19 = 0;
			if( r6 != r19 ) goto label$3917$986;
			r7 = ((hxsl_Type_TArray*)r2)->p0;
			r44 = ((hxsl_Type_TArray*)r2)->p1;
			r6 = ((hxsl_SizeDecl_SConst*)r44)->p0;
			if( r1 == NULL ) hl_null_access();
			r19 = r1->size;
			r45 = (double)r19;
			r46 = (double)r6;
			r45 = r45 / r46;
			r19 = (int)r45;
			r32 = &type$812;
			r22 = 0;
			r31 = hl_alloc_array(r32,r22);
			r30 = hl_types_ArrayObj_alloc(r31);
			r22 = 0;
			r29 = r6;
			label$3917$963:
			if( r22 >= r29 ) goto label$3917$980;
			r10 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
			if( r1 == NULL ) hl_null_access();
			r15 = r1->g;
			r20 = r1->_t;
			r33 = r1->pos;
			r47 = r22;
			++r22;
			r36 = r19 * r47;
			r33 = r33 + r36;
			hxsl__Flatten_Alloc_new(r10,r15,r20,r33,r19);
			if( r30 == NULL ) hl_null_access();
			r9 = hl_alloc_enum(&type$3939,0);
			((hxsl_ARead_AIndex*)r9)->p0 = r10;
			r11 = hxsl_Flatten_access(r0,r10,r7,r3,r9);
			r33 = hl_types_ArrayObj_push(r30,((vdynamic*)r11));
			goto label$3917$963;
			label$3917$980:
			r11 = hl_alloc_virtual(&type$812);
			r13 = hl_alloc_enum(&type$813,17);
			((hxsl_TExprDef_TArrayDecl*)r13)->p0 = r30;
			if( hl_vfields(r11)[0] ) *(venum**)(hl_vfields(r11)[0]) = (venum*)r13; else hl_dyn_setp(r11->value,101/*e*/,&type$813,r13);
			if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r7; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r7);
			if( hl_vfields(r11)[1] ) *(vvirtual**)(hl_vfields(r11)[1]) = (vvirtual*)r3; else hl_dyn_setp(r11->value,112/*p*/,&type$800,r3);
			return r11;
			label$3917$986:
			r8 = hxsl_Tools_isSampler(r2);
			if( !r8 ) goto label$3917$1068;
			if( r4 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r4);
			switch(r6) {
				default:
					goto label$3917$1065;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r14;
					((hxsl_TExprDef_TArray*)r13)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					r6 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r6;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r7; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$1065;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r6 = r10->pos;
					r19 = 2;
					r6 = r6 >> r19;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r22 = 0;
					if( r6 != r22 ) goto label$3917$1043;
					r21 = r12;
					goto label$3917$1057;
					label$3917$1043:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r6;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r13; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r7; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r13)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r13)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r13)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r13; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r7; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$1057:
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r17;
					((hxsl_TExprDef_TArray*)r13)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r19 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$1065:
			if( r11 == NULL ) hl_null_access();
			if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r2; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r2);
			return r11;
			label$3917$1068:
			if( r1 == NULL ) hl_null_access();
			r20 = r1->_t;
			r6 = hxsl_Flatten_varSize(r0,r2,r20);
			r22 = 4;
			if( r22 >= r6 ) goto label$3917$1080;
			r27 = (String)global$1426;
			r28 = hxsl_Tools_toString(r2);
			r27 = String___add__(r27,r28);
			r16 = NULL;
			r26 = hxsl_Error_t(r27,r16);
			r11 = hl_to_virtual(&type$812,(vdynamic*)r26);
			return r11;
			label$3917$1080:
			if( r4 == NULL ) hl_null_access();
			r19 = HL__ENUM_INDEX__(r4);
			switch(r19) {
				default:
					goto label$3917$1157;
				case 0:
					r10 = ((hxsl_ARead_AIndex*)r4)->p0;
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					if( r10 == NULL ) hl_null_access();
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r17 = hl_alloc_virtual(&type$812);
					r19 = r10->pos;
					r22 = 2;
					r19 = r19 >> r22;
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r19;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r14;
					((hxsl_TExprDef_TArray*)r13)->p1 = r17;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					r19 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r7; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$1157;
				case 1:
					r12 = ((hxsl_ARead_AOffset*)r4)->p2;
					r10 = ((hxsl_ARead_AOffset*)r4)->p0;
					if( r10 == NULL ) hl_null_access();
					r19 = r10->pos;
					r22 = 2;
					r19 = r19 >> r22;
					r14 = hl_alloc_virtual(&type$812);
					r17 = hl_alloc_virtual(&type$812);
					r15 = r10->g;
					r13 = hl_alloc_enum(&type$813,1);
					((hxsl_TExprDef_TVar*)r13)->p0 = r15;
					if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r13; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r13);
					r15 = r10->g;
					if( r15 == NULL ) hl_null_access();
					r7 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
					if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r7; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r3; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r3);
					r29 = 0;
					if( r19 != r29 ) goto label$3917$1135;
					r21 = r12;
					goto label$3917$1149;
					label$3917$1135:
					r21 = hl_alloc_virtual(&type$812);
					r23 = (venum*)global$1425;
					r25 = hl_alloc_virtual(&type$812);
					r18 = hl_alloc_enum(&type$814,2);
					((hxsl_Const_CInt*)r18)->p0 = r19;
					r13 = hl_alloc_enum(&type$813,0);
					((hxsl_TExprDef_TConst*)r13)->p0 = r18;
					if( hl_vfields(r25)[0] ) *(venum**)(hl_vfields(r25)[0]) = (venum*)r13; else hl_dyn_setp(r25->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r25)[2] ) *(venum**)(hl_vfields(r25)[2]) = (venum*)r7; else hl_dyn_setp(r25->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r25)[1] ) *(vvirtual**)(hl_vfields(r25)[1]) = (vvirtual*)r3; else hl_dyn_setp(r25->value,112/*p*/,&type$800,r3);
					r13 = hl_alloc_enum(&type$813,5);
					((hxsl_TExprDef_TBinop*)r13)->p0 = r23;
					((hxsl_TExprDef_TBinop*)r13)->p1 = r12;
					((hxsl_TExprDef_TBinop*)r13)->p2 = r25;
					if( hl_vfields(r21)[0] ) *(venum**)(hl_vfields(r21)[0]) = (venum*)r13; else hl_dyn_setp(r21->value,101/*e*/,&type$813,r13);
					r7 = (venum*)global$1352;
					if( hl_vfields(r21)[2] ) *(venum**)(hl_vfields(r21)[2]) = (venum*)r7; else hl_dyn_setp(r21->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r21)[1] ) *(vvirtual**)(hl_vfields(r21)[1]) = (vvirtual*)r3; else hl_dyn_setp(r21->value,112/*p*/,&type$800,r3);
					label$3917$1149:
					r13 = hl_alloc_enum(&type$813,16);
					((hxsl_TExprDef_TArray*)r13)->p0 = r17;
					((hxsl_TExprDef_TArray*)r13)->p1 = r21;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r22 = 4;
					r20 = r10->_t;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r22;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r11 = r14;
			}
			label$3917$1157:
			r22 = 4;
			if( r6 != r22 ) goto label$3917$1167;
			r19 = r1->pos;
			r22 = 3;
			r19 = r19 & r22;
			r22 = 0;
			if( r19 == r22 ) goto label$3917$1166;
			r27 = (String)global$319;
			hl_throw((vdynamic*)r27);
			label$3917$1166:
			goto label$3917$1201;
			label$3917$1167:
			r32 = &type$582;
			r19 = 0;
			r31 = hl_alloc_array(r32,r19);
			r30 = hl_types_ArrayObj_alloc(r31);
			r19 = 0;
			r22 = r6;
			label$3917$1173:
			if( r19 >= r22 ) goto label$3917$1195;
			if( r30 == NULL ) hl_null_access();
			r35 = (hxsl__$Tools)global$1346;
			r34 = r35->SWIZ;
			if( r34 == NULL ) hl_null_access();
			r29 = r19;
			++r19;
			if( r1 == NULL ) hl_null_access();
			r33 = r1->pos;
			r36 = 3;
			r33 = r33 & r36;
			r29 = r29 + r33;
			r33 = r34->length;
			if( ((unsigned)r29) < ((unsigned)r33) ) goto label$3917$1190;
			r37 = NULL;
			goto label$3917$1193;
			label$3917$1190:
			r31 = r34->array;
			r26 = ((vdynamic**)(r31 + 1))[r29];
			r37 = (venum*)r26;
			label$3917$1193:
			r29 = hl_types_ArrayObj_push(r30,((vdynamic*)r37));
			goto label$3917$1173;
			label$3917$1195:
			r12 = hl_alloc_virtual(&type$812);
			r13 = hl_alloc_enum(&type$813,9);
			((hxsl_TExprDef_TSwiz*)r13)->p0 = r11;
			((hxsl_TExprDef_TSwiz*)r13)->p1 = r30;
			if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
			if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
			if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
			r11 = r12;
			label$3917$1201:
			if( r2 == NULL ) hl_null_access();
			r19 = HL__ENUM_INDEX__(r2);
			switch(r19) {
				default:
				case 0:
				case 2:
				case 3:
				case 4:
					goto label$3917$1287;
				case 1:
					if( r11 == NULL ) hl_null_access();
					r7 = (venum*)global$673;
					if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r7; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r7);
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					r38 = (venum*)global$1423;
					r13 = hl_alloc_enum(&type$813,2);
					((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r32 = &type$3864;
					r19 = 0;
					r31 = hl_alloc_array(r32,r19);
					r30 = hl_types_ArrayObj_alloc(r31);
					r7 = hl_alloc_enum(&type$148,14);
					((hxsl_Type_TFun*)r7)->p0 = r30;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r32 = &type$812;
					r19 = 1;
					r31 = hl_alloc_array(r32,r19);
					r19 = 0;
					((vvirtual**)(r31 + 1))[r19] = r11;
					r30 = hl_types_ArrayObj_alloc(r31);
					r13 = hl_alloc_enum(&type$813,8);
					((hxsl_TExprDef_TCall*)r13)->p0 = r14;
					((hxsl_TExprDef_TCall*)r13)->p1 = r30;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
					goto label$3917$1287;
				case 5:
					r20 = ((hxsl_Type_TVec*)r2)->p1;
					if( r20 == NULL ) hl_null_access();
					r19 = HL__ENUM_INDEX__(r20);
					r22 = 0;
					if( r19 != r22 ) goto label$3917$1287;
					r19 = ((hxsl_Type_TVec*)r2)->p0;
					if( r11 == NULL ) hl_null_access();
					r20 = (venum*)global$1356;
					r7 = hl_alloc_enum(&type$148,5);
					((hxsl_Type_TVec*)r7)->p0 = r19;
					((hxsl_Type_TVec*)r7)->p1 = r20;
					if( hl_vfields(r11)[2] ) *(venum**)(hl_vfields(r11)[2]) = (venum*)r7; else hl_dyn_setp(r11->value,116/*t*/,&type$148,r7);
					r12 = hl_alloc_virtual(&type$812);
					r14 = hl_alloc_virtual(&type$812);
					r32 = &type$815;
					r22 = 3;
					r31 = hl_alloc_array(r32,r22);
					r38 = (venum*)global$1427;
					r22 = 0;
					((venum**)(r31 + 1))[r22] = r38;
					r38 = (venum*)global$1428;
					r22 = 1;
					((venum**)(r31 + 1))[r22] = r38;
					r38 = (venum*)global$1429;
					r22 = 2;
					((venum**)(r31 + 1))[r22] = r38;
					r30 = hl_types_ArrayObj_alloc(r31);
					if( r30 == NULL ) hl_null_access();
					r29 = 2;
					r22 = r19 - r29;
					r29 = r30->length;
					if( ((unsigned)r22) < ((unsigned)r29) ) goto label$3917$1264;
					r38 = NULL;
					goto label$3917$1267;
					label$3917$1264:
					r31 = r30->array;
					r26 = ((vdynamic**)(r31 + 1))[r22];
					r38 = (venum*)r26;
					label$3917$1267:
					r13 = hl_alloc_enum(&type$813,2);
					((hxsl_TExprDef_TGlobal*)r13)->p0 = r38;
					if( hl_vfields(r14)[0] ) *(venum**)(hl_vfields(r14)[0]) = (venum*)r13; else hl_dyn_setp(r14->value,101/*e*/,&type$813,r13);
					r32 = &type$3864;
					r22 = 0;
					r31 = hl_alloc_array(r32,r22);
					r30 = hl_types_ArrayObj_alloc(r31);
					r7 = hl_alloc_enum(&type$148,14);
					((hxsl_Type_TFun*)r7)->p0 = r30;
					if( hl_vfields(r14)[2] ) *(venum**)(hl_vfields(r14)[2]) = (venum*)r7; else hl_dyn_setp(r14->value,116/*t*/,&type$148,r7);
					if( hl_vfields(r14)[1] ) *(vvirtual**)(hl_vfields(r14)[1]) = (vvirtual*)r3; else hl_dyn_setp(r14->value,112/*p*/,&type$800,r3);
					r32 = &type$812;
					r22 = 1;
					r31 = hl_alloc_array(r32,r22);
					r22 = 0;
					((vvirtual**)(r31 + 1))[r22] = r11;
					r30 = hl_types_ArrayObj_alloc(r31);
					r13 = hl_alloc_enum(&type$813,8);
					((hxsl_TExprDef_TCall*)r13)->p0 = r14;
					((hxsl_TExprDef_TCall*)r13)->p1 = r30;
					if( hl_vfields(r12)[0] ) *(venum**)(hl_vfields(r12)[0]) = (venum*)r13; else hl_dyn_setp(r12->value,101/*e*/,&type$813,r13);
					if( hl_vfields(r12)[2] ) *(venum**)(hl_vfields(r12)[2]) = (venum*)r2; else hl_dyn_setp(r12->value,116/*t*/,&type$148,r2);
					if( hl_vfields(r12)[1] ) *(vvirtual**)(hl_vfields(r12)[1]) = (vvirtual*)r3; else hl_dyn_setp(r12->value,112/*p*/,&type$800,r3);
					r11 = r12;
			}
			label$3917$1287:
			return r11;
	}
}

vvirtual* hxsl_Flatten_optimize(hxsl__Flatten r0,vvirtual* r1) {
	String r18;
	hl__types__ArrayObj r8;
	vvirtual *r3, *r17, *r19;
	venum *r2, *r5, *r7, *r13, *r15, *r16, *r20;
	vdynamic *r9;
	varray *r10;
	int r4, r6, r11, r12, r14;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r2 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r2);
	switch(r4) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
			goto label$3918$197;
		case 8:
			r3 = ((hxsl_TExprDef_TCall*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r6 = 2;
			if( r4 != r6 ) goto label$3918$149;
			r3 = ((hxsl_TExprDef_TCall*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r7 = ((hxsl_TExprDef_TGlobal*)r5)->p0;
			if( r7 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r7);
			r6 = 50;
			if( r4 != r6 ) goto label$3918$149;
			r8 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r8 == NULL ) hl_null_access();
			r4 = r8->length;
			r6 = 1;
			if( r4 != r6 ) goto label$3918$149;
			r8 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r8 == NULL ) hl_null_access();
			r4 = 0;
			r6 = r8->length;
			if( ((unsigned)r4) < ((unsigned)r6) ) goto label$3918$33;
			r3 = NULL;
			goto label$3918$36;
			label$3918$33:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$36:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r6 = 8;
			if( r4 != r6 ) goto label$3918$149;
			r8 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r8 == NULL ) hl_null_access();
			r4 = 0;
			r6 = r8->length;
			if( ((unsigned)r4) < ((unsigned)r6) ) goto label$3918$49;
			r3 = NULL;
			goto label$3918$52;
			label$3918$49:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$52:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r3 = ((hxsl_TExprDef_TCall*)r5)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r6 = 2;
			if( r4 != r6 ) goto label$3918$149;
			r8 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r8 == NULL ) hl_null_access();
			r4 = 0;
			r6 = r8->length;
			if( ((unsigned)r4) < ((unsigned)r6) ) goto label$3918$68;
			r3 = NULL;
			goto label$3918$71;
			label$3918$68:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$71:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r3 = ((hxsl_TExprDef_TCall*)r5)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r7 = ((hxsl_TExprDef_TGlobal*)r5)->p0;
			if( r7 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r7);
			r6 = 49;
			if( r4 != r6 ) goto label$3918$149;
			r8 = ((hxsl_TExprDef_TCall*)r2)->p1;
			if( r8 == NULL ) hl_null_access();
			r4 = 0;
			r6 = r8->length;
			if( ((unsigned)r4) < ((unsigned)r6) ) goto label$3918$88;
			r3 = NULL;
			goto label$3918$91;
			label$3918$88:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$91:
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r8 = ((hxsl_TExprDef_TCall*)r5)->p1;
			r4 = 0;
			r6 = 0;
			label$3918$96:
			r12 = 4;
			if( r6 >= r12 ) goto label$3918$119;
			if( r8 == NULL ) hl_null_access();
			r12 = r8->length;
			r14 = 1;
			r12 = r12 - r14;
			r12 = r12 - r4;
			r14 = r8->length;
			if( ((unsigned)r12) < ((unsigned)r14) ) goto label$3918$108;
			r3 = NULL;
			goto label$3918$111;
			label$3918$108:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r12];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$111:
			if( r3 == NULL ) hl_null_access();
			r13 = hl_vfields(r3)[2] ? (*(venum**)(hl_vfields(r3)[2])) : (venum*)hl_dyn_getp(r3->value,116/*t*/,&type$148);
			r15 = (venum*)global$1356;
			r12 = hxsl_Flatten_varSize(r0,r13,r15);
			r11 = r6 + r12;
			r6 = r11;
			++r4;
			goto label$3918$96;
			label$3918$119:
			r12 = 4;
			if( r6 != r12 ) goto label$3918$149;
			r11 = 0;
			r12 = r4;
			label$3918$123:
			if( r11 >= r12 ) goto label$3918$130;
			++r11;
			if( r8 == NULL ) hl_null_access();
			r9 = hl_types_ArrayObj_pop(r8);
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			goto label$3918$123;
			label$3918$130:
			if( r1 == NULL ) hl_null_access();
			r5 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r11 = HL__ENUM_INDEX__(r5);
			r12 = 8;
			if( r11 != r12 ) goto label$3918$139;
			r17 = ((hxsl_TExprDef_TCall*)r5)->p0;
			r3 = r17;
			goto label$3918$141;
			label$3918$139:
			r18 = (String)global$319;
			hl_throw((vdynamic*)r18);
			label$3918$141:
			r17 = hl_alloc_virtual(&type$812);
			r16 = hl_alloc_enum(&type$813,8);
			((hxsl_TExprDef_TCall*)r16)->p0 = r3;
			((hxsl_TExprDef_TCall*)r16)->p1 = r8;
			if( hl_vfields(r17)[0] ) *(venum**)(hl_vfields(r17)[0]) = (venum*)r16; else hl_dyn_setp(r17->value,101/*e*/,&type$813,r16);
			r13 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
			if( hl_vfields(r17)[2] ) *(venum**)(hl_vfields(r17)[2]) = (venum*)r13; else hl_dyn_setp(r17->value,116/*t*/,&type$148,r13);
			r19 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			if( hl_vfields(r17)[1] ) *(vvirtual**)(hl_vfields(r17)[1]) = (vvirtual*)r19; else hl_dyn_setp(r17->value,112/*p*/,&type$800,r19);
			return r17;
			label$3918$149:
			goto label$3918$197;
		case 16:
			r3 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r6 = 17;
			if( r4 != r6 ) goto label$3918$197;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			if( r5 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r5);
			r6 = 0;
			if( r4 != r6 ) goto label$3918$197;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r20 = ((hxsl_TExprDef_TConst*)r5)->p0;
			if( r20 == NULL ) hl_null_access();
			r4 = HL__ENUM_INDEX__(r20);
			r6 = 2;
			if( r4 != r6 ) goto label$3918$197;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p0;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r8 = ((hxsl_TExprDef_TArrayDecl*)r5)->p0;
			r3 = ((hxsl_TExprDef_TArray*)r2)->p1;
			if( r3 == NULL ) hl_null_access();
			r5 = hl_vfields(r3)[0] ? (*(venum**)(hl_vfields(r3)[0])) : (venum*)hl_dyn_getp(r3->value,101/*e*/,&type$813);
			r20 = ((hxsl_TExprDef_TConst*)r5)->p0;
			r4 = ((hxsl_Const_CInt*)r20)->p0;
			r11 = 0;
			if( r4 < r11 ) goto label$3918$194;
			if( r8 == NULL ) hl_null_access();
			r11 = r8->length;
			if( r4 >= r11 ) goto label$3918$194;
			r11 = r8->length;
			if( ((unsigned)r4) < ((unsigned)r11) ) goto label$3918$190;
			r3 = NULL;
			goto label$3918$193;
			label$3918$190:
			r10 = r8->array;
			r9 = ((vdynamic**)(r10 + 1))[r4];
			r3 = hl_to_virtual(&type$812,(vdynamic*)r9);
			label$3918$193:
			return r3;
			label$3918$194:
			r18 = (String)global$1436;
			r19 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			r9 = hxsl_Error_t(r18,r19);
	}
	label$3918$197:
	return r1;
}

hl__types__ArrayObj hxsl_Flatten_packTextures(hxsl__Flatten r0,String r1,hl__types__ArrayObj r2,venum* r3) {
	haxe__ds__ObjectMap r20;
	vvirtual *r6, *r11, *r15;
	hl__types__ArrayObj r4, r14;
	venum *r8, *r9, *r17, *r19, *r21;
	hxsl___Flatten__Alloc r18;
	vdynamic *r10;
	varray *r16;
	int r7, r12, r13;
	r4 = (hl__types__ArrayObj)hl_alloc_obj(hl__types__ArrayObj__val);
	hl_types_ArrayObj_new(r4);
	r6 = hl_alloc_virtual(&type$3859);
	r7 = hxsl_Tools_allocVarId();
	if( hl_vfields(r6)[0] ) *(int*)(hl_vfields(r6)[0]) = (int)r7; else hl_dyn_seti(r6->value,23515/*id*/,&type$3,r7);
	if( hl_vfields(r6)[2] ) *(String*)(hl_vfields(r6)[2]) = (String)r1; else hl_dyn_setp(r6->value,150958933/*name*/,&type$13,r1);
	if( hl_vfields(r6)[3] ) *(venum**)(hl_vfields(r6)[3]) = (venum*)r3; else hl_dyn_setp(r6->value,218690500/*type*/,&type$148,r3);
	r9 = (venum*)global$1375;
	if( hl_vfields(r6)[1] ) *(venum**)(hl_vfields(r6)[1]) = (venum*)r9; else hl_dyn_setp(r6->value,118088286/*kind*/,&type$147,r9);
	r11 = hl_to_virtual(&type$146,(vdynamic*)r6);
	r7 = 0;
	label$3919$11:
	if( r2 == NULL ) hl_null_access();
	r13 = r2->length;
	if( r7 >= r13 ) goto label$3919$48;
	r13 = r2->length;
	if( ((unsigned)r7) < ((unsigned)r13) ) goto label$3919$19;
	r15 = NULL;
	goto label$3919$22;
	label$3919$19:
	r16 = r2->array;
	r10 = ((vdynamic**)(r16 + 1))[r7];
	r15 = hl_to_virtual(&type$146,(vdynamic*)r10);
	label$3919$22:
	++r7;
	if( r15 == NULL ) hl_null_access();
	r8 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
	if( r8 == r3 ) goto label$3919$34;
	r17 = (venum*)global$1416;
	if( r3 != r17 ) goto label$3919$33;
	r8 = hl_vfields(r15)[5] ? (*(venum**)(hl_vfields(r15)[5])) : (venum*)hl_dyn_getp(r15->value,218690500/*type*/,&type$148);
	if( r8 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r8);
	r13 = 17;
	if( r12 == r13 ) goto label$3919$34;
	label$3919$33:
	goto label$3919$11;
	label$3919$34:
	r18 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
	r19 = NULL;
	if( r4 == NULL ) hl_null_access();
	r12 = r4->length;
	r13 = 2;
	r12 = r12 << r13;
	r13 = 1;
	hxsl__Flatten_Alloc_new(r18,r11,r19,r12,r13);
	r18->v = r15;
	r20 = r0->varMap;
	if( r20 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r20,((vdynamic*)r15),((vdynamic*)r18));
	r12 = hl_types_ArrayObj_push(r4,((vdynamic*)r18));
	goto label$3919$11;
	label$3919$48:
	if( r11 == NULL ) hl_null_access();
	if( r4 == NULL ) hl_null_access();
	r7 = r4->length;
	r21 = hl_alloc_enum(&type$150,0);
	((hxsl_SizeDecl_SConst*)r21)->p0 = r7;
	r8 = hl_alloc_enum(&type$148,15);
	((hxsl_Type_TArray*)r8)->p0 = r3;
	((hxsl_Type_TArray*)r8)->p1 = r21;
	if( hl_vfields(r11)[5] ) *(venum**)(hl_vfields(r11)[5]) = (venum*)r8; else hl_dyn_setp(r11->value,218690500/*type*/,&type$148,r8);
	r7 = r4->length;
	r12 = 0;
	if( r12 >= r7 ) goto label$3919$63;
	r14 = r0->outVars;
	if( r14 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r14,((vdynamic*)r11));
	r20 = r0->allocData;
	if( r20 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r20,((vdynamic*)r11),((vdynamic*)r4));
	label$3919$63:
	return r4;
}

void hxsl_Flatten_packBuffers(hxsl__Flatten r0,hl__types__ArrayObj r1) {
	String r6;
	haxe__ds__ObjectMap r19;
	vvirtual *r4, *r10, *r14;
	hl__types__ArrayObj r2, r13;
	venum *r7, *r8, *r17, *r18;
	hxsl___Flatten__Alloc r16;
	vdynamic *r9;
	varray *r15;
	int r5, r11, r12;
	r2 = (hl__types__ArrayObj)hl_alloc_obj(hl__types__ArrayObj__val);
	hl_types_ArrayObj_new(r2);
	r4 = hl_alloc_virtual(&type$3859);
	r5 = hxsl_Tools_allocVarId();
	if( hl_vfields(r4)[0] ) *(int*)(hl_vfields(r4)[0]) = (int)r5; else hl_dyn_seti(r4->value,23515/*id*/,&type$3,r5);
	r6 = (String)global$1437;
	if( hl_vfields(r4)[2] ) *(String*)(hl_vfields(r4)[2]) = (String)r6; else hl_dyn_setp(r4->value,150958933/*name*/,&type$13,r6);
	r7 = (venum*)global$1357;
	if( hl_vfields(r4)[3] ) *(venum**)(hl_vfields(r4)[3]) = (venum*)r7; else hl_dyn_setp(r4->value,218690500/*type*/,&type$148,r7);
	r8 = (venum*)global$1375;
	if( hl_vfields(r4)[1] ) *(venum**)(hl_vfields(r4)[1]) = (venum*)r8; else hl_dyn_setp(r4->value,118088286/*kind*/,&type$147,r8);
	r10 = hl_to_virtual(&type$146,(vdynamic*)r4);
	r5 = 0;
	label$3920$13:
	if( r1 == NULL ) hl_null_access();
	r12 = r1->length;
	if( r5 >= r12 ) goto label$3920$43;
	r12 = r1->length;
	if( ((unsigned)r5) < ((unsigned)r12) ) goto label$3920$21;
	r14 = NULL;
	goto label$3920$24;
	label$3920$21:
	r15 = r1->array;
	r9 = ((vdynamic**)(r15 + 1))[r5];
	r14 = hl_to_virtual(&type$146,(vdynamic*)r9);
	label$3920$24:
	++r5;
	if( r14 == NULL ) hl_null_access();
	r7 = hl_vfields(r14)[5] ? (*(venum**)(hl_vfields(r14)[5])) : (venum*)hl_dyn_getp(r14->value,218690500/*type*/,&type$148);
	if( r7 == NULL ) hl_null_access();
	r11 = HL__ENUM_INDEX__(r7);
	r12 = 16;
	if( r11 != r12 ) goto label$3920$42;
	r16 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
	r17 = NULL;
	if( r2 == NULL ) hl_null_access();
	r11 = r2->length;
	r12 = 1;
	hxsl__Flatten_Alloc_new(r16,r10,r17,r11,r12);
	r16->v = r14;
	r11 = hl_types_ArrayObj_push(r2,((vdynamic*)r16));
	r13 = r0->outVars;
	if( r13 == NULL ) hl_null_access();
	r11 = hl_types_ArrayObj_push(r13,((vdynamic*)r14));
	label$3920$42:
	goto label$3920$13;
	label$3920$43:
	if( r10 == NULL ) hl_null_access();
	r7 = (venum*)global$1357;
	r5 = 0;
	r18 = hl_alloc_enum(&type$150,0);
	((hxsl_SizeDecl_SConst*)r18)->p0 = r5;
	{ venum *tmp;
	tmp = hl_alloc_enum(&type$148,16);
	((hxsl_Type_TBuffer*)tmp)->p0 = r7;
	((hxsl_Type_TBuffer*)tmp)->p1 = r18;
	r7 = tmp; };
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	r18 = hl_alloc_enum(&type$150,0);
	((hxsl_SizeDecl_SConst*)r18)->p0 = r5;
	{ venum *tmp;
	tmp = hl_alloc_enum(&type$148,15);
	((hxsl_Type_TArray*)tmp)->p0 = r7;
	((hxsl_Type_TArray*)tmp)->p1 = r18;
	r7 = tmp; };
	if( hl_vfields(r10)[5] ) *(venum**)(hl_vfields(r10)[5]) = (venum*)r7; else hl_dyn_setp(r10->value,218690500/*type*/,&type$148,r7);
	r19 = r0->allocData;
	if( r19 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r19,((vdynamic*)r10),((vdynamic*)r2));
	return;
}

vvirtual* hxsl_Flatten_pack(hxsl__Flatten r0,String r1,venum* r2,hl__types__ArrayObj r3,venum* r4) {
	haxe__ds__ObjectMap r26;
	vvirtual *r8, *r12, *r16, *r19;
	hl__types__ArrayObj r5, r15;
	venum *r10, *r27;
	bool r18;
	hxsl___Flatten__Alloc r20, r23, r24;
	vdynamic *r11, *r25;
	varray *r17;
	int r7, r9, r13, r14, r21, r22;
	r5 = (hl__types__ArrayObj)hl_alloc_obj(hl__types__ArrayObj__val);
	hl_types_ArrayObj_new(r5);
	r7 = 0;
	r8 = hl_alloc_virtual(&type$3859);
	r9 = hxsl_Tools_allocVarId();
	if( hl_vfields(r8)[0] ) *(int*)(hl_vfields(r8)[0]) = (int)r9; else hl_dyn_seti(r8->value,23515/*id*/,&type$3,r9);
	if( hl_vfields(r8)[2] ) *(String*)(hl_vfields(r8)[2]) = (String)r1; else hl_dyn_setp(r8->value,150958933/*name*/,&type$13,r1);
	r9 = 0;
	r10 = hl_alloc_enum(&type$148,5);
	((hxsl_Type_TVec*)r10)->p0 = r9;
	((hxsl_Type_TVec*)r10)->p1 = r4;
	if( hl_vfields(r8)[3] ) *(venum**)(hl_vfields(r8)[3]) = (venum*)r10; else hl_dyn_setp(r8->value,218690500/*type*/,&type$148,r10);
	if( hl_vfields(r8)[1] ) *(venum**)(hl_vfields(r8)[1]) = (venum*)r2; else hl_dyn_setp(r8->value,118088286/*kind*/,&type$147,r2);
	r12 = hl_to_virtual(&type$146,(vdynamic*)r8);
	r9 = 0;
	label$3921$13:
	if( r3 == NULL ) hl_null_access();
	r14 = r3->length;
	if( r9 >= r14 ) goto label$3921$107;
	r14 = r3->length;
	if( ((unsigned)r9) < ((unsigned)r14) ) goto label$3921$21;
	r16 = NULL;
	goto label$3921$24;
	label$3921$21:
	r17 = r3->array;
	r11 = ((vdynamic**)(r17 + 1))[r9];
	r16 = hl_to_virtual(&type$146,(vdynamic*)r11);
	label$3921$24:
	++r9;
	if( r16 == NULL ) hl_null_access();
	r10 = hl_vfields(r16)[5] ? (*(venum**)(hl_vfields(r16)[5])) : (venum*)hl_dyn_getp(r16->value,218690500/*type*/,&type$148);
	r18 = hxsl_Tools_isSampler(r10);
	if( r18 ) goto label$3921$34;
	r10 = hl_vfields(r16)[5] ? (*(venum**)(hl_vfields(r16)[5])) : (venum*)hl_dyn_getp(r16->value,218690500/*type*/,&type$148);
	if( r10 == NULL ) hl_null_access();
	r13 = HL__ENUM_INDEX__(r10);
	r14 = 16;
	if( r13 != r14 ) goto label$3921$35;
	label$3921$34:
	goto label$3921$13;
	label$3921$35:
	r10 = hl_vfields(r16)[5] ? (*(venum**)(hl_vfields(r16)[5])) : (venum*)hl_dyn_getp(r16->value,218690500/*type*/,&type$148);
	r13 = hxsl_Flatten_varSize(r0,r10,r4);
	r20 = NULL;
	r14 = 0;
	label$3921$39:
	if( r5 == NULL ) hl_null_access();
	r22 = r5->length;
	if( r14 >= r22 ) goto label$3921$63;
	r22 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r22) ) goto label$3921$47;
	r23 = NULL;
	goto label$3921$50;
	label$3921$47:
	r17 = r5->array;
	r11 = ((vdynamic**)(r17 + 1))[r14];
	r23 = (hxsl___Flatten__Alloc)r11;
	label$3921$50:
	++r14;
	if( r23 == NULL ) hl_null_access();
	r19 = r23->v;
	if( r19 ) goto label$3921$62;
	r21 = r23->size;
	if( r21 < r13 ) goto label$3921$62;
	if( !r20 ) goto label$3921$61;
	if( r20 == NULL ) hl_null_access();
	r21 = r20->size;
	r22 = r23->size;
	if( r22 >= r21 ) goto label$3921$62;
	label$3921$61:
	r20 = r23;
	label$3921$62:
	goto label$3921$39;
	label$3921$63:
	if( !r20 ) goto label$3921$84;
	if( r20 == NULL ) hl_null_access();
	r14 = r20->size;
	r14 = r14 - r13;
	r22 = 0;
	if( r22 >= r14 ) goto label$3921$79;
	r25 = NULL;
	r21 = hl_types_ArrayObj_indexOf(r5,((vdynamic*)r20),r25);
	r22 = 1;
	r21 = r21 + r22;
	r23 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
	r22 = r20->pos;
	r22 = r22 + r13;
	hxsl__Flatten_Alloc_new(r23,r12,r4,r22,r14);
	hl_types_ArrayObj_insert(r5,r21,((vdynamic*)r23));
	r20->size = r13;
	label$3921$79:
	r20->v = r16;
	r26 = r0->varMap;
	if( r26 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r26,((vdynamic*)r16),((vdynamic*)r20));
	goto label$3921$106;
	label$3921$84:
	r23 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
	hxsl__Flatten_Alloc_new(r23,r12,r4,r7,r13);
	r14 = r7 + r13;
	r7 = r14;
	r23->v = r16;
	r26 = r0->varMap;
	if( r26 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r26,((vdynamic*)r16),((vdynamic*)r23));
	r14 = hl_types_ArrayObj_push(r5,((vdynamic*)r23));
	r14 = 4;
	r22 = 4;
	r21 = r22 == 0 ? 0 : r13 % r22;
	r14 = r14 - r21;
	r21 = 4;
	r14 = r21 == 0 ? 0 : r14 % r21;
	r22 = 0;
	if( r22 >= r14 ) goto label$3921$106;
	r24 = (hxsl___Flatten__Alloc)hl_alloc_obj(hxsl___Flatten__Alloc__val);
	hxsl__Flatten_Alloc_new(r24,r12,r4,r7,r14);
	r21 = r7 + r14;
	r7 = r21;
	r21 = hl_types_ArrayObj_push(r5,((vdynamic*)r24));
	label$3921$106:
	goto label$3921$13;
	label$3921$107:
	if( r12 == NULL ) hl_null_access();
	r9 = 4;
	r10 = hl_alloc_enum(&type$148,5);
	((hxsl_Type_TVec*)r10)->p0 = r9;
	((hxsl_Type_TVec*)r10)->p1 = r4;
	r13 = 2;
	r9 = r7 >> r13;
	r27 = hl_alloc_enum(&type$150,0);
	((hxsl_SizeDecl_SConst*)r27)->p0 = r9;
	{ venum *tmp;
	tmp = hl_alloc_enum(&type$148,15);
	((hxsl_Type_TArray*)tmp)->p0 = r10;
	((hxsl_Type_TArray*)tmp)->p1 = r27;
	r10 = tmp; };
	if( hl_vfields(r12)[5] ) *(venum**)(hl_vfields(r12)[5]) = (venum*)r10; else hl_dyn_setp(r12->value,218690500/*type*/,&type$148,r10);
	r13 = 0;
	if( r13 >= r7 ) goto label$3921$123;
	r15 = r0->outVars;
	if( r15 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r15,((vdynamic*)r12));
	r26 = r0->allocData;
	if( r26 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r26,((vdynamic*)r12),((vdynamic*)r5));
	label$3921$123:
	return r12;
}

int hxsl_Flatten_varSize(hxsl__Flatten r0,venum* r1,venum* r2) {
	String r5, r6;
	venum *r4, *r7, *r8;
	int r3, r9;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	switch(r3) {
		default:
		case 0:
		case 2:
		case 4:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
		case 1:
		case 3:
			r7 = (venum*)global$1356;
			if( r2 != r7 ) goto label$3922$13;
			r3 = 1;
			return r3;
			label$3922$13:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
		case 5:
			r7 = ((hxsl_Type_TVec*)r1)->p1;
			if( r2 != r7 ) goto label$3922$23;
			r3 = ((hxsl_Type_TVec*)r1)->p0;
			return r3;
			label$3922$23:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
		case 7:
			r7 = (venum*)global$1356;
			if( r2 != r7 ) goto label$3922$33;
			r3 = 16;
			return r3;
			label$3922$33:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
		case 6:
		case 8:
			r7 = (venum*)global$1356;
			if( r2 != r7 ) goto label$3922$43;
			r3 = 12;
			return r3;
			label$3922$43:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
		case 15:
			r8 = ((hxsl_Type_TArray*)r1)->p1;
			if( r8 == NULL ) hl_null_access();
			r3 = HL__ENUM_INDEX__(r8);
			r9 = 0;
			if( r3 != r9 ) goto label$3922$60;
			r4 = ((hxsl_Type_TArray*)r1)->p0;
			r3 = hxsl_Flatten_varSize(r0,r4,r2);
			r8 = ((hxsl_Type_TArray*)r1)->p1;
			r9 = ((hxsl_SizeDecl_SConst*)r8)->p0;
			r3 = r3 * r9;
			return r3;
			label$3922$60:
			r5 = hxsl_Tools_toString(r1);
			r6 = (String)global$1438;
			r5 = String___add__(r5,r6);
			r6 = Std_string(((vdynamic*)r2));
			r5 = String___add__(r5,r6);
			hl_throw((vdynamic*)r5);
	}
}

void hxsl_Flatten_gatherVar(hxsl__Flatten r0,vvirtual* r1) {
	hl__types__ArrayObj r7;
	vvirtual *r3;
	venum *r2, *r11, *r13;
	bool r12;
	vdynamic *r9;
	varray *r10;
	int r5, r6, r8;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
	if( r2 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r2);
	r6 = 13;
	if( r5 != r6 ) goto label$3923$24;
	r7 = ((hxsl_Type_TStruct*)r2)->p0;
	r5 = 0;
	label$3923$8:
	if( r7 == NULL ) hl_null_access();
	r8 = r7->length;
	if( r5 >= r8 ) goto label$3923$23;
	r6 = r5;
	++r5;
	r8 = r7->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$3923$18;
	r3 = NULL;
	goto label$3923$21;
	label$3923$18:
	r10 = r7->array;
	r9 = ((vdynamic**)(r10 + 1))[r6];
	r3 = hl_to_virtual(&type$146,(vdynamic*)r9);
	label$3923$21:
	hxsl_Flatten_gatherVar(r0,r3);
	goto label$3923$8;
	label$3923$23:
	goto label$3923$46;
	label$3923$24:
	r11 = hl_vfields(r1)[1] ? (*(venum**)(hl_vfields(r1)[1])) : (venum*)hl_dyn_getp(r1->value,118088286/*kind*/,&type$147);
	if( r11 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r11);
	switch(r5) {
		default:
		case 1:
			r7 = r0->outVars;
			if( r7 == NULL ) hl_null_access();
			r5 = hl_types_ArrayObj_push(r7,((vdynamic*)r1));
			goto label$3923$46;
		case 0:
			r13 = (venum*)global$1439;
			r12 = hxsl_Tools_hasQualifier(r1,r13);
			if( !r12 ) goto label$3923$39;
			r7 = r0->params;
			if( r7 == NULL ) hl_null_access();
			r5 = hl_types_ArrayObj_push(r7,((vdynamic*)r1));
			goto label$3923$42;
			label$3923$39:
			r7 = r0->globals;
			if( r7 == NULL ) hl_null_access();
			r5 = hl_types_ArrayObj_push(r7,((vdynamic*)r1));
			label$3923$42:
			goto label$3923$46;
		case 2:
			r7 = r0->params;
			if( r7 == NULL ) hl_null_access();
			r5 = hl_types_ArrayObj_push(r7,((vdynamic*)r1));
	}
	label$3923$46:
	return;
}

void hxsl_Flatten_new(hxsl__Flatten r0) {
	return;
}

