// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

void hxsl_HlslOut_add(hxsl__HlslOut r0,vdynamic* r1) {
	StringBuf r3;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	StringBuf_add(r3,r1);
	return;
}

void hxsl_HlslOut_ident(hxsl__HlslOut r0,vvirtual* r1) {
	String r2;
	StringBuf r4;
	r2 = hxsl_HlslOut_varName(r0,r1);
	r4 = r0->buf;
	if( r4 == NULL ) hl_null_access();
	StringBuf_add(r4,((vdynamic*)r2));
	return;
}

void hxsl_HlslOut_decl(hxsl__HlslOut r0,String r1) {
	String r7;
	hl__types__ArrayObj r4;
	vdynamic *r8, *r10, *r11;
	varray *r9;
	int r2, r5, r6;
	r2 = 0;
	r4 = r0->decls;
	label$2650$2:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r2 >= r6 ) goto label$2650$18;
	r5 = r2;
	++r2;
	r6 = r4->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$2650$12;
	r7 = NULL;
	goto label$2650$15;
	label$2650$12:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r5];
	r7 = (String)r8;
	label$2650$15:
	if( r7 != r1 && (!r7 || !r1 || String___compare(r7,(vdynamic*)r1) != 0) ) goto label$2650$17;
	return;
	label$2650$17:
	goto label$2650$2;
	label$2650$18:
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r10 = String_charCodeAt(r1,r2);
	r2 = 35;
	r11 = hl_alloc_dynamic(&type$3);
	r11->v.i = r2;
	if( r10 != r11 && (!r10 || !r11 || (r10->v.i != r11->v.i)) ) goto label$2650$28;
	r4 = r0->decls;
	if( r4 == NULL ) hl_null_access();
	hl_types_ArrayObj_unshift(r4,((vdynamic*)r1));
	goto label$2650$31;
	label$2650$28:
	r4 = r0->decls;
	if( r4 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r4,((vdynamic*)r1));
	label$2650$31:
	return;
}

void hxsl_HlslOut_addType(hxsl__HlslOut r0,venum* r1) {
	String r6, r12;
	vvirtual *r15;
	hl__types__ArrayObj r13;
	venum *r4, *r8, *r17;
	StringBuf r5;
	int *r10;
	vdynamic *r9;
	varray *r16;
	vbyte *r11;
	int r3, r7, r14;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	switch(r3) {
		default:
			goto label$2651$182;
		case 0:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1446;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 1:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1447;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 2:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1448;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 3:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1449;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 4:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1450;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 5:
			r3 = ((hxsl_Type_TVec*)r1)->p0;
			r8 = ((hxsl_Type_TVec*)r1)->p1;
			if( r8 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r8);
			switch(r7) {
				default:
					goto label$2651$49;
				case 0:
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					r6 = (String)global$1447;
					StringBuf_add(r5,((vdynamic*)r6));
					goto label$2651$49;
				case 1:
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					r6 = (String)global$1449;
					StringBuf_add(r5,((vdynamic*)r6));
					goto label$2651$49;
				case 2:
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					r6 = (String)global$1448;
					StringBuf_add(r5,((vdynamic*)r6));
			}
			label$2651$49:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r9 = hl_alloc_dynamic(&type$3);
			r9->v.i = r3;
			StringBuf_add(r5,r9);
			goto label$2651$182;
		case 6:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1451;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 7:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1452;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 8:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1453;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 9:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1454;
			r3 = ((hxsl_Type_TBytes*)r1)->p0;
			r10 = &r3;
			r11 = hl_itos(r3,r10);
			r12 = String___alloc__(r11,r3);
			r6 = String___add__(r6,r12);
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 10:
		case 11:
		case 12:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1455;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 13:
			r13 = ((hxsl_Type_TStruct*)r1)->p0;
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1456;
			StringBuf_add(r5,((vdynamic*)r6));
			r3 = 0;
			label$2651$90:
			if( r13 == NULL ) hl_null_access();
			r14 = r13->length;
			if( r3 >= r14 ) goto label$2651$109;
			r7 = r3;
			++r3;
			r14 = r13->length;
			if( ((unsigned)r7) < ((unsigned)r14) ) goto label$2651$100;
			r15 = NULL;
			goto label$2651$103;
			label$2651$100:
			r16 = r13->array;
			r9 = ((vdynamic**)(r16 + 1))[r7];
			r15 = hl_to_virtual(&type$146,(vdynamic*)r9);
			label$2651$103:
			hxsl_HlslOut_addVar(r0,r15);
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$868;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$90;
			label$2651$109:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1457;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 14:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1458;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 15:
			r17 = ((hxsl_Type_TArray*)r1)->p1;
			r4 = ((hxsl_Type_TArray*)r1)->p0;
			hxsl_HlslOut_addType(r0,r4);
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$612;
			StringBuf_add(r5,((vdynamic*)r6));
			if( r17 == NULL ) hl_null_access();
			r3 = HL__ENUM_INDEX__(r17);
			switch(r3) {
				default:
					goto label$2651$141;
				case 0:
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					r3 = ((hxsl_SizeDecl_SConst*)r17)->p0;
					r9 = hl_alloc_dynamic(&type$3);
					r9->v.i = r3;
					StringBuf_add(r5,r9);
					goto label$2651$141;
				case 1:
					r15 = ((hxsl_SizeDecl_SVar*)r17)->p0;
					r6 = hxsl_HlslOut_varName(r0,r15);
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					StringBuf_add(r5,((vdynamic*)r6));
			}
			label$2651$141:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$450;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 16:
			r17 = ((hxsl_Type_TBuffer*)r1)->p1;
			r4 = ((hxsl_Type_TBuffer*)r1)->p0;
			hxsl_HlslOut_addType(r0,r4);
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$612;
			StringBuf_add(r5,((vdynamic*)r6));
			if( r17 == NULL ) hl_null_access();
			r3 = HL__ENUM_INDEX__(r17);
			switch(r3) {
				default:
					goto label$2651$168;
				case 0:
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					r3 = ((hxsl_SizeDecl_SConst*)r17)->p0;
					r9 = hl_alloc_dynamic(&type$3);
					r9->v.i = r3;
					StringBuf_add(r5,r9);
					goto label$2651$168;
				case 1:
					r15 = ((hxsl_SizeDecl_SVar*)r17)->p0;
					r6 = hxsl_HlslOut_varName(r0,r15);
					r5 = r0->buf;
					if( r5 == NULL ) hl_null_access();
					StringBuf_add(r5,((vdynamic*)r6));
			}
			label$2651$168:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$450;
			StringBuf_add(r5,((vdynamic*)r6));
			goto label$2651$182;
		case 17:
			r5 = r0->buf;
			if( r5 == NULL ) hl_null_access();
			r6 = (String)global$1459;
			r3 = ((hxsl_Type_TChannel*)r1)->p0;
			r10 = &r3;
			r11 = hl_itos(r3,r10);
			r12 = String___alloc__(r11,r3);
			r6 = String___add__(r6,r12);
			StringBuf_add(r5,((vdynamic*)r6));
	}
	label$2651$182:
	return;
}

void hxsl_HlslOut_addArraySize(hxsl__HlslOut r0,venum* r1) {
	String r4;
	vvirtual *r7;
	StringBuf r3;
	vdynamic *r6;
	int r5;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$612;
	StringBuf_add(r3,((vdynamic*)r4));
	if( r1 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r1);
	switch(r5) {
		default:
			goto label$2652$19;
		case 0:
			r3 = r0->buf;
			if( r3 == NULL ) hl_null_access();
			r5 = ((hxsl_SizeDecl_SConst*)r1)->p0;
			r6 = hl_alloc_dynamic(&type$3);
			r6->v.i = r5;
			StringBuf_add(r3,r6);
			goto label$2652$19;
		case 1:
			r7 = ((hxsl_SizeDecl_SVar*)r1)->p0;
			r4 = hxsl_HlslOut_varName(r0,r7);
			r3 = r0->buf;
			if( r3 == NULL ) hl_null_access();
			StringBuf_add(r3,((vdynamic*)r4));
	}
	label$2652$19:
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$450;
	StringBuf_add(r3,((vdynamic*)r4));
	return;
}

void hxsl_HlslOut_addVar(hxsl__HlslOut r0,vvirtual* r1) {
	String r7;
	venum *r2, *r5, *r9, *r10;
	bool r8;
	StringBuf r6;
	int r4;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
	if( r2 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r2);
	switch(r4) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
			r5 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
			hxsl_HlslOut_addType(r0,r5);
			r6 = r0->buf;
			if( r6 == NULL ) hl_null_access();
			r7 = (String)global$192;
			StringBuf_add(r6,((vdynamic*)r7));
			r7 = hxsl_HlslOut_varName(r0,r1);
			r6 = r0->buf;
			if( r6 == NULL ) hl_null_access();
			StringBuf_add(r6,((vdynamic*)r7));
			r5 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
			r8 = hxsl_Tools_isSampler(r5);
			if( !r8 ) goto label$2653$22;
			r6 = r0->buf;
			if( r6 == NULL ) hl_null_access();
			r7 = (String)global$1460;
			StringBuf_add(r6,((vdynamic*)r7));
			label$2653$22:
			goto label$2653$38;
		case 15:
			r5 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
			r9 = ((hxsl_Type_TArray*)r2)->p0;
			if( hl_vfields(r1)[5] ) *(venum**)(hl_vfields(r1)[5]) = (venum*)r9; else hl_dyn_setp(r1->value,218690500/*type*/,&type$148,r9);
			hxsl_HlslOut_addVar(r0,r1);
			if( hl_vfields(r1)[5] ) *(venum**)(hl_vfields(r1)[5]) = (venum*)r5; else hl_dyn_setp(r1->value,218690500/*type*/,&type$148,r5);
			r10 = ((hxsl_Type_TArray*)r2)->p1;
			hxsl_HlslOut_addArraySize(r0,r10);
			goto label$2653$38;
		case 16:
			r5 = hl_vfields(r1)[5] ? (*(venum**)(hl_vfields(r1)[5])) : (venum*)hl_dyn_getp(r1->value,218690500/*type*/,&type$148);
			r9 = ((hxsl_Type_TBuffer*)r2)->p0;
			if( hl_vfields(r1)[5] ) *(venum**)(hl_vfields(r1)[5]) = (venum*)r9; else hl_dyn_setp(r1->value,218690500/*type*/,&type$148,r9);
			hxsl_HlslOut_addVar(r0,r1);
			if( hl_vfields(r1)[5] ) *(venum**)(hl_vfields(r1)[5]) = (venum*)r5; else hl_dyn_setp(r1->value,218690500/*type*/,&type$148,r5);
			r10 = ((hxsl_Type_TBuffer*)r2)->p1;
			hxsl_HlslOut_addArraySize(r0,r10);
	}
	label$2653$38:
	return;
}

void hxsl_HlslOut_addValue(hxsl__HlslOut r0,vvirtual* r1,String r2) {
	String r8, r12;
	hl__types__ArrayObj r16, r17;
	vvirtual *r4, *r20, *r21;
	venum *r3, *r7, *r15;
	StringBuf r13, r14;
	vdynamic *r18;
	int *r10;
	varray *r19;
	vbyte *r11;
	int r6, r9;
	if( r1 == NULL ) hl_null_access();
	r3 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r3 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r3);
	switch(r6) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
			hxsl_HlslOut_addExpr(r0,r1,r2);
			goto label$2654$108;
		case 4:
			r8 = (String)global$1461;
			r6 = r0->exprIds;
			r9 = r6;
			++r6;
			r0->exprIds = r6;
			r10 = &r6;
			r11 = hl_itos(r9,r10);
			r12 = String___alloc__(r11,r6);
			r8 = String___add__(r8,r12);
			r13 = r0->buf;
			r14 = (StringBuf)hl_alloc_obj(StringBuf__val);
			StringBuf_new(r14);
			r0->buf = r14;
			r15 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
			hxsl_HlslOut_addType(r0,r15);
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			r12 = (String)global$192;
			StringBuf_add(r14,((vdynamic*)r12));
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			StringBuf_add(r14,((vdynamic*)r8));
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			r12 = (String)global$1462;
			StringBuf_add(r14,((vdynamic*)r12));
			r16 = ((hxsl_TExprDef_TBlock*)r3)->p0;
			if( r16 == NULL ) hl_null_access();
			r16 = hl_types_ArrayObj_copy(r16);
			if( r16 == NULL ) hl_null_access();
			r6 = r16->length;
			r9 = 1;
			r6 = r6 - r9;
			r9 = r16->length;
			if( ((unsigned)r6) < ((unsigned)r9) ) goto label$2654$44;
			r4 = NULL;
			goto label$2654$47;
			label$2654$44:
			r19 = r16->array;
			r18 = ((vdynamic**)(r19 + 1))[r6];
			r4 = hl_to_virtual(&type$812,(vdynamic*)r18);
			label$2654$47:
			r6 = r16->length;
			r9 = 1;
			r6 = r6 - r9;
			r20 = hl_alloc_virtual(&type$812);
			r7 = hl_alloc_enum(&type$813,12);
			((hxsl_TExprDef_TReturn*)r7)->p0 = r4;
			if( hl_vfields(r20)[0] ) *(venum**)(hl_vfields(r20)[0]) = (venum*)r7; else hl_dyn_setp(r20->value,101/*e*/,&type$813,r7);
			r15 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
			if( hl_vfields(r20)[2] ) *(venum**)(hl_vfields(r20)[2]) = (venum*)r15; else hl_dyn_setp(r20->value,116/*t*/,&type$148,r15);
			if( r4 == NULL ) hl_null_access();
			r21 = hl_vfields(r4)[1] ? (*(vvirtual**)(hl_vfields(r4)[1])) : (vvirtual*)hl_dyn_getp(r4->value,112/*p*/,&type$800);
			if( hl_vfields(r20)[1] ) *(vvirtual**)(hl_vfields(r20)[1]) = (vvirtual*)r21; else hl_dyn_setp(r20->value,112/*p*/,&type$800,r21);
			r9 = r16->length;
			if( ((unsigned)r6) < ((unsigned)r9) ) goto label$2654$61;
			hl_types_ArrayObj___expand(r16,r6);
			label$2654$61:
			r19 = r16->array;
			((vvirtual**)(r19 + 1))[r6] = r20;
			r20 = hl_alloc_virtual(&type$812);
			r15 = (venum*)global$1357;
			if( hl_vfields(r20)[2] ) *(venum**)(hl_vfields(r20)[2]) = (venum*)r15; else hl_dyn_setp(r20->value,116/*t*/,&type$148,r15);
			r7 = hl_alloc_enum(&type$813,4);
			((hxsl_TExprDef_TBlock*)r7)->p0 = r16;
			if( hl_vfields(r20)[0] ) *(venum**)(hl_vfields(r20)[0]) = (venum*)r7; else hl_dyn_setp(r20->value,101/*e*/,&type$813,r7);
			r21 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
			if( hl_vfields(r20)[1] ) *(vvirtual**)(hl_vfields(r20)[1]) = (vvirtual*)r21; else hl_dyn_setp(r20->value,112/*p*/,&type$800,r21);
			r12 = (String)global$8;
			hxsl_HlslOut_addExpr(r0,r20,r12);
			r17 = r0->exprValues;
			if( r17 == NULL ) hl_null_access();
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			r12 = StringBuf_toString(r14);
			r6 = hl_types_ArrayObj_push(r17,((vdynamic*)r12));
			r0->buf = r13;
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			StringBuf_add(r14,((vdynamic*)r8));
			r14 = r0->buf;
			if( r14 == NULL ) hl_null_access();
			r12 = (String)global$1463;
			StringBuf_add(r14,((vdynamic*)r12));
			goto label$2654$108;
		case 10:
			r13 = r0->buf;
			if( r13 == NULL ) hl_null_access();
			r8 = (String)global$1464;
			StringBuf_add(r13,((vdynamic*)r8));
			r4 = ((hxsl_TExprDef_TIf*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r13 = r0->buf;
			if( r13 == NULL ) hl_null_access();
			r8 = (String)global$1465;
			StringBuf_add(r13,((vdynamic*)r8));
			r4 = ((hxsl_TExprDef_TIf*)r3)->p1;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r13 = r0->buf;
			if( r13 == NULL ) hl_null_access();
			r8 = (String)global$1350;
			StringBuf_add(r13,((vdynamic*)r8));
			r4 = ((hxsl_TExprDef_TIf*)r3)->p2;
			hxsl_HlslOut_addValue(r0,r4,r2);
			goto label$2654$108;
		case 20:
			r4 = ((hxsl_TExprDef_TMeta*)r3)->p2;
			hxsl_HlslOut_addValue(r0,r4,r2);
	}
	label$2654$108:
	return;
}

void hxsl_HlslOut_addBlock(hxsl__HlslOut r0,vvirtual* r1,String r2) {
	String r7;
	venum *r5;
	bool r9;
	StringBuf r8;
	int r4, r6;
	if( r1 == NULL ) hl_null_access();
	r5 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r5 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r5);
	r6 = 4;
	if( r4 != r6 ) goto label$2655$8;
	hxsl_HlslOut_addExpr(r0,r1,r2);
	goto label$2655$23;
	label$2655$8:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r7 = (String)global$445;
	StringBuf_add(r8,((vdynamic*)r7));
	hxsl_HlslOut_addExpr(r0,r1,r2);
	r9 = hxsl_HlslOut_isBlock(r0,r1);
	if( r9 ) goto label$2655$19;
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r7 = (String)global$868;
	StringBuf_add(r8,((vdynamic*)r7));
	label$2655$19:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r7 = (String)global$446;
	StringBuf_add(r8,((vdynamic*)r7));
	label$2655$23:
	return;
}

void hxsl_HlslOut_declMods(hxsl__HlslOut r0) {
	String r2;
	r2 = (String)global$1466;
	hxsl_HlslOut_decl(r0,r2);
	r2 = (String)global$1467;
	hxsl_HlslOut_decl(r0,r2);
	r2 = (String)global$1468;
	hxsl_HlslOut_decl(r0,r2);
	r2 = (String)global$1469;
	hxsl_HlslOut_decl(r0,r2);
	return;
}

void hxsl_HlslOut_addExpr(hxsl__HlslOut r0,vvirtual* r1,String r2) {
	String r10, r16, r17;
	hl__types__ArrayObj r25;
	vvirtual *r4, *r20, *r28, *r31, *r35;
	venum *r3, *r7, *r8, *r22, *r29, *r30, *r32, *r33, *r34, *r36, *r39;
	bool r11, r37;
	haxe__ds__IntMap r21;
	haxe__ds__EnumValueMap r23;
	StringBuf r9;
	double r13;
	int *r14;
	vdynamic *r12, *r18;
	varray *r27;
	hxsl__$HlslOut r24;
	vbyte *r15;
	int r6, r19, r26, r38;
	if( r1 == NULL ) hl_null_access();
	r3 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r3 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r3);
	switch(r6) {
		default:
			goto label$2657$927;
		case 0:
			r8 = ((hxsl_TExprDef_TConst*)r3)->p0;
			if( r8 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r8);
			switch(r6) {
				default:
					goto label$2657$61;
				case 0:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$179;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$61;
				case 1:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r11 = ((hxsl_Const_CBool*)r8)->p0;
					r12 = hl_alloc_dynbool(r11);
					StringBuf_add(r9,r12);
					goto label$2657$61;
				case 2:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r6 = ((hxsl_Const_CInt*)r8)->p0;
					r12 = hl_alloc_dynamic(&type$3);
					r12->v.i = r6;
					StringBuf_add(r9,r12);
					goto label$2657$61;
				case 3:
					r10 = (String)global$8;
					r13 = ((hxsl_Const_CFloat*)r8)->p0;
					r14 = &r6;
					r15 = hl_ftos(r13,r14);
					r16 = String___alloc__(r15,r6);
					r10 = String___add__(r10,r16);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					StringBuf_add(r9,((vdynamic*)r10));
					if( r10 == NULL ) hl_null_access();
					r17 = (String)global$210;
					r18 = NULL;
					r6 = String_indexOf(r10,r17,r18);
					r19 = -1;
					if( r6 != r19 ) goto label$2657$52;
					r17 = (String)global$1470;
					r18 = NULL;
					r6 = String_indexOf(r10,r17,r18);
					r19 = -1;
					if( r6 != r19 ) goto label$2657$52;
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r16 = (String)global$210;
					StringBuf_add(r9,((vdynamic*)r16));
					label$2657$52:
					goto label$2657$61;
				case 4:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$194;
					r16 = ((hxsl_Const_CString*)r8)->p0;
					r10 = String___add__(r10,r16);
					r16 = (String)global$194;
					r10 = String___add__(r10,r16);
					StringBuf_add(r9,((vdynamic*)r10));
			}
			label$2657$61:
			goto label$2657$927;
		case 1:
			r20 = ((hxsl_TExprDef_TVar*)r3)->p0;
			r21 = r0->varAccess;
			if( r21 == NULL ) hl_null_access();
			if( r20 == NULL ) hl_null_access();
			r6 = hl_vfields(r20)[0] ? (*(int*)(hl_vfields(r20)[0])) : (int)hl_dyn_geti(r20->value,23515/*id*/,&type$3);
			r12 = haxe_ds_IntMap_get(r21,r6);
			r10 = (String)r12;
			if( !r10 ) goto label$2657$73;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r10));
			label$2657$73:
			r16 = hxsl_HlslOut_varName(r0,r20);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r16));
			goto label$2657$927;
		case 2:
			r22 = ((hxsl_TExprDef_TGlobal*)r3)->p0;
			if( r22 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r22);
			switch(r6) {
				default:
				case 0:
				case 1:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 9:
				case 10:
				case 11:
				case 12:
				case 13:
				case 14:
				case 15:
				case 16:
				case 17:
				case 18:
				case 19:
				case 21:
				case 22:
				case 23:
				case 24:
				case 25:
				case 26:
				case 27:
				case 28:
				case 29:
				case 30:
				case 31:
				case 32:
				case 33:
				case 34:
				case 35:
				case 36:
				case 37:
				case 38:
				case 39:
				case 40:
				case 41:
				case 42:
				case 43:
				case 44:
				case 45:
				case 46:
				case 47:
				case 51:
					goto label$2657$121;
				case 7:
					r10 = (String)global$1471;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 8:
					r10 = (String)global$1472;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 20:
					hxsl_HlslOut_declMods(r0);
					goto label$2657$121;
				case 48:
					r10 = (String)global$1473;
					hxsl_HlslOut_decl(r0,r10);
					r10 = (String)global$1474;
					hxsl_HlslOut_decl(r0,r10);
					r10 = (String)global$1475;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 49:
					r10 = (String)global$1476;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 50:
					r10 = (String)global$1477;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 52:
					r10 = (String)global$1478;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 53:
					r10 = (String)global$1479;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 54:
					r10 = (String)global$1480;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 55:
					r10 = (String)global$1481;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 56:
					r10 = (String)global$1482;
					hxsl_HlslOut_decl(r0,r10);
					goto label$2657$121;
				case 57:
					r10 = (String)global$1483;
					hxsl_HlslOut_decl(r0,r10);
			}
			label$2657$121:
			r24 = (hxsl__$HlslOut)global$526;
			r23 = r24->GLOBALS;
			if( r23 == NULL ) hl_null_access();
			r12 = haxe_ds_BalancedTree_get(((haxe__ds__BalancedTree)r23),((vdynamic*)r22));
			r10 = (String)r12;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 3:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$175;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TParenthesis*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$177;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 4:
			r25 = ((hxsl_TExprDef_TBlock*)r3)->p0;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1484;
			StringBuf_add(r9,((vdynamic*)r10));
			r16 = (String)global$193;
			r10 = String___add__(r2,r16);
			r6 = 0;
			label$2657$149:
			if( r25 == NULL ) hl_null_access();
			r26 = r25->length;
			if( r6 >= r26 ) goto label$2657$167;
			r26 = r25->length;
			if( ((unsigned)r6) < ((unsigned)r26) ) goto label$2657$157;
			r4 = NULL;
			goto label$2657$160;
			label$2657$157:
			r27 = r25->array;
			r12 = ((vdynamic**)(r27 + 1))[r6];
			r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
			label$2657$160:
			++r6;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r10));
			hxsl_HlslOut_addExpr(r0,r4,r10);
			hxsl_HlslOut_newLine(r0,r4);
			goto label$2657$149;
			label$2657$167:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r2));
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r16 = (String)global$446;
			StringBuf_add(r9,((vdynamic*)r16));
			goto label$2657$927;
		case 5:
			r4 = ((hxsl_TExprDef_TBinop*)r3)->p2;
			r28 = ((hxsl_TExprDef_TBinop*)r3)->p1;
			r29 = ((hxsl_TExprDef_TBinop*)r3)->p0;
			if( r4 == NULL ) hl_null_access();
			r30 = hl_vfields(r4)[2] ? (*(venum**)(hl_vfields(r4)[2])) : (venum*)hl_dyn_getp(r4->value,116/*t*/,&type$148);
			if( r28 == NULL ) hl_null_access();
			r32 = hl_vfields(r28)[2] ? (*(venum**)(hl_vfields(r28)[2])) : (venum*)hl_dyn_getp(r28->value,116/*t*/,&type$148);
			if( r29 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r29);
			switch(r6) {
				default:
				case 0:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 7:
				case 8:
				case 9:
				case 10:
				case 11:
				case 12:
				case 13:
				case 14:
				case 15:
				case 16:
				case 17:
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$192;
					StringBuf_add(r9,((vdynamic*)r10));
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = hxsl_Printer_opStr(r29);
					StringBuf_add(r9,((vdynamic*)r10));
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$192;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r4,r2);
					goto label$2657$420;
				case 1:
					if( r32 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r32);
					switch(r6) {
						default:
						case 0:
						case 1:
						case 2:
						case 3:
						case 4:
							hxsl_HlslOut_addValue(r0,r28,r2);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$192;
							StringBuf_add(r9,((vdynamic*)r10));
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = hxsl_Printer_opStr(r29);
							StringBuf_add(r9,((vdynamic*)r10));
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$192;
							StringBuf_add(r9,((vdynamic*)r10));
							hxsl_HlslOut_addValue(r0,r4,r2);
							goto label$2657$298;
						case 5:
							if( r30 == NULL ) hl_null_access();
							r6 = HL__ENUM_INDEX__(r30);
							switch(r6) {
								default:
								case 0:
								case 1:
								case 2:
								case 3:
								case 4:
								case 5:
									hxsl_HlslOut_addValue(r0,r28,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$192;
									StringBuf_add(r9,((vdynamic*)r10));
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = hxsl_Printer_opStr(r29);
									StringBuf_add(r9,((vdynamic*)r10));
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$192;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r4,r2);
									goto label$2657$265;
								case 6:
								case 7:
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$1485;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r28,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$438;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r4,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$177;
									StringBuf_add(r9,((vdynamic*)r10));
									goto label$2657$265;
								case 8:
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$1486;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r28,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$1487;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r4,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$177;
									StringBuf_add(r9,((vdynamic*)r10));
							}
							label$2657$265:
							goto label$2657$298;
						case 6:
						case 7:
						case 8:
							if( r30 == NULL ) hl_null_access();
							r6 = HL__ENUM_INDEX__(r30);
							switch(r6) {
								default:
								case 0:
								case 1:
								case 2:
								case 3:
								case 4:
								case 5:
									hxsl_HlslOut_addValue(r0,r28,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$192;
									StringBuf_add(r9,((vdynamic*)r10));
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = hxsl_Printer_opStr(r29);
									StringBuf_add(r9,((vdynamic*)r10));
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$192;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r4,r2);
									goto label$2657$298;
								case 6:
								case 7:
								case 8:
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$1485;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r28,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$438;
									StringBuf_add(r9,((vdynamic*)r10));
									hxsl_HlslOut_addValue(r0,r4,r2);
									r9 = r0->buf;
									if( r9 == NULL ) hl_null_access();
									r10 = (String)global$177;
									StringBuf_add(r9,((vdynamic*)r10));
							}
					}
					label$2657$298:
					goto label$2657$420;
				case 18:
					r10 = (String)global$1488;
					hxsl_HlslOut_decl(r0,r10);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1489;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$438;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$177;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$420;
				case 19:
					r6 = HL__ENUM_INDEX__(r29);
					r19 = 20;
					if( r6 != r19 ) goto label$2657$324;
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1490;
					StringBuf_add(r9,((vdynamic*)r10));
					label$2657$324:
					hxsl_HlslOut_declMods(r0);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1491;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$438;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$177;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$420;
				case 20:
					r33 = ((haxe_macro_Binop_OpAssignOp*)r29)->p0;
					if( r33 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r33);
					r19 = 19;
					if( r6 != r19 ) goto label$2657$369;
					r6 = HL__ENUM_INDEX__(r29);
					r19 = 20;
					if( r6 != r19 ) goto label$2657$353;
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1490;
					StringBuf_add(r9,((vdynamic*)r10));
					label$2657$353:
					hxsl_HlslOut_declMods(r0);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1491;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$438;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$177;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$420;
					label$2657$369:
					if( r32 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r32);
					r19 = 5;
					if( r6 != r19 ) goto label$2657$406;
					if( r30 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r30);
					switch(r6) {
						default:
						case 0:
						case 1:
						case 2:
						case 3:
						case 4:
						case 5:
							hxsl_HlslOut_addValue(r0,r28,r2);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$192;
							StringBuf_add(r9,((vdynamic*)r10));
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = hxsl_Printer_opStr(r29);
							StringBuf_add(r9,((vdynamic*)r10));
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$192;
							StringBuf_add(r9,((vdynamic*)r10));
							hxsl_HlslOut_addValue(r0,r4,r2);
							goto label$2657$405;
						case 6:
						case 7:
						case 8:
							hxsl_HlslOut_addValue(r0,r28,r2);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1490;
							StringBuf_add(r9,((vdynamic*)r10));
							r31 = hl_alloc_virtual(&type$812);
							r33 = ((haxe_macro_Binop_OpAssignOp*)r29)->p0;
							r7 = hl_alloc_enum(&type$813,5);
							((hxsl_TExprDef_TBinop*)r7)->p0 = r33;
							((hxsl_TExprDef_TBinop*)r7)->p1 = r28;
							((hxsl_TExprDef_TBinop*)r7)->p2 = r4;
							if( hl_vfields(r31)[0] ) *(venum**)(hl_vfields(r31)[0]) = (venum*)r7; else hl_dyn_setp(r31->value,101/*e*/,&type$813,r7);
							r34 = hl_vfields(r1)[2] ? (*(venum**)(hl_vfields(r1)[2])) : (venum*)hl_dyn_getp(r1->value,116/*t*/,&type$148);
							if( hl_vfields(r31)[2] ) *(venum**)(hl_vfields(r31)[2]) = (venum*)r34; else hl_dyn_setp(r31->value,116/*t*/,&type$148,r34);
							r35 = hl_vfields(r1)[1] ? (*(vvirtual**)(hl_vfields(r1)[1])) : (vvirtual*)hl_dyn_getp(r1->value,112/*p*/,&type$800);
							if( hl_vfields(r31)[1] ) *(vvirtual**)(hl_vfields(r31)[1]) = (vvirtual*)r35; else hl_dyn_setp(r31->value,112/*p*/,&type$800,r35);
							hxsl_HlslOut_addValue(r0,r31,r2);
					}
					label$2657$405:
					goto label$2657$420;
					label$2657$406:
					hxsl_HlslOut_addValue(r0,r28,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$192;
					StringBuf_add(r9,((vdynamic*)r10));
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = hxsl_Printer_opStr(r29);
					StringBuf_add(r9,((vdynamic*)r10));
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$192;
					StringBuf_add(r9,((vdynamic*)r10));
					hxsl_HlslOut_addValue(r0,r4,r2);
			}
			label$2657$420:
			goto label$2657$927;
		case 6:
			r4 = ((hxsl_TExprDef_TUnop*)r3)->p1;
			r36 = ((hxsl_TExprDef_TUnop*)r3)->p0;
			if( r36 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r36);
			switch(r6) {
				default:
					goto label$2657$441;
				case 0:
					r10 = (String)global$1492;
					r12 = ((vdynamic*)r10);
					goto label$2657$441;
				case 1:
					r10 = (String)global$1493;
					r12 = ((vdynamic*)r10);
					goto label$2657$441;
				case 2:
					r10 = (String)global$430;
					r12 = ((vdynamic*)r10);
					goto label$2657$441;
				case 3:
					r10 = (String)global$1269;
					r12 = ((vdynamic*)r10);
					goto label$2657$441;
				case 4:
					r10 = (String)global$1494;
					r12 = ((vdynamic*)r10);
			}
			label$2657$441:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,r12);
			hxsl_HlslOut_addValue(r0,r4,r2);
			goto label$2657$927;
		case 7:
			r4 = ((hxsl_TExprDef_TVarDecl*)r3)->p1;
			r20 = ((hxsl_TExprDef_TVarDecl*)r3)->p0;
			r21 = r0->locals;
			if( r21 == NULL ) hl_null_access();
			if( r20 == NULL ) hl_null_access();
			r6 = hl_vfields(r20)[0] ? (*(int*)(hl_vfields(r20)[0])) : (int)hl_dyn_geti(r20->value,23515/*id*/,&type$3);
			haxe_ds_IntMap_set(r21,r6,((vdynamic*)r20));
			if( !r4 ) goto label$2657$464;
			r10 = hxsl_HlslOut_varName(r0,r20);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,((vdynamic*)r10));
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1490;
			StringBuf_add(r9,((vdynamic*)r10));
			hxsl_HlslOut_addValue(r0,r4,r2);
			goto label$2657$468;
			label$2657$464:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1495;
			StringBuf_add(r9,((vdynamic*)r10));
			label$2657$468:
			goto label$2657$927;
		case 8:
			r4 = ((hxsl_TExprDef_TCall*)r3)->p0;
			if( r4 == NULL ) hl_null_access();
			r7 = hl_vfields(r4)[0] ? (*(venum**)(hl_vfields(r4)[0])) : (venum*)hl_dyn_getp(r4->value,101/*e*/,&type$813);
			if( r7 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r7);
			r19 = 2;
			if( r6 != r19 ) goto label$2657$656;
			r4 = ((hxsl_TExprDef_TCall*)r3)->p0;
			if( r4 == NULL ) hl_null_access();
			r7 = hl_vfields(r4)[0] ? (*(venum**)(hl_vfields(r4)[0])) : (venum*)hl_dyn_getp(r4->value,101/*e*/,&type$813);
			r22 = ((hxsl_TExprDef_TGlobal*)r7)->p0;
			if( r22 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r22);
			switch(r6) {
				default:
				case 0:
				case 1:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 7:
				case 8:
				case 9:
				case 10:
				case 11:
				case 12:
				case 13:
				case 14:
				case 15:
				case 16:
				case 17:
				case 18:
				case 19:
				case 20:
				case 21:
				case 22:
				case 23:
				case 24:
				case 25:
				case 26:
				case 27:
				case 28:
				case 29:
				case 30:
				case 31:
				case 32:
					r25 = ((hxsl_TExprDef_TCall*)r3)->p1;
					r4 = ((hxsl_TExprDef_TCall*)r3)->p0;
					if( r25 == NULL ) hl_null_access();
					r6 = r25->length;
					r28 = ((hxsl_TExprDef_TCall*)r3)->p0;
					if( r28 == NULL ) hl_null_access();
					r7 = hl_vfields(r28)[0] ? (*(venum**)(hl_vfields(r28)[0])) : (venum*)hl_dyn_getp(r28->value,101/*e*/,&type$813);
					r22 = ((hxsl_TExprDef_TGlobal*)r7)->p0;
					if( r22 == NULL ) hl_null_access();
					r19 = HL__ENUM_INDEX__(r22);
					switch(r19) {
						default:
						case 0:
						case 1:
						case 2:
						case 3:
						case 4:
						case 5:
						case 6:
						case 7:
						case 8:
						case 9:
						case 10:
						case 11:
						case 12:
						case 13:
						case 14:
						case 15:
						case 16:
						case 17:
						case 18:
						case 19:
						case 20:
						case 21:
						case 22:
						case 23:
						case 24:
						case 25:
						case 26:
						case 27:
						case 28:
						case 29:
						case 30:
						case 31:
						case 32:
						case 33:
						case 34:
						case 35:
						case 36:
						case 37:
							hxsl_HlslOut_addValue(r0,r4,r2);
							goto label$2657$528;
						case 38:
							r26 = 1;
							if( r6 != r26 ) goto label$2657$505;
							r10 = (String)global$1496;
							hxsl_HlslOut_decl(r0,r10);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1497;
							StringBuf_add(r9,((vdynamic*)r10));
							goto label$2657$506;
							label$2657$505:
							hxsl_HlslOut_addValue(r0,r4,r2);
							label$2657$506:
							goto label$2657$528;
						case 39:
							r26 = 1;
							if( r6 != r26 ) goto label$2657$516;
							r10 = (String)global$1498;
							hxsl_HlslOut_decl(r0,r10);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1499;
							StringBuf_add(r9,((vdynamic*)r10));
							goto label$2657$517;
							label$2657$516:
							hxsl_HlslOut_addValue(r0,r4,r2);
							label$2657$517:
							goto label$2657$528;
						case 40:
							r26 = 1;
							if( r6 != r26 ) goto label$2657$527;
							r10 = (String)global$1500;
							hxsl_HlslOut_decl(r0,r10);
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1501;
							StringBuf_add(r9,((vdynamic*)r10));
							goto label$2657$528;
							label$2657$527:
							hxsl_HlslOut_addValue(r0,r4,r2);
					}
					label$2657$528:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$175;
					StringBuf_add(r9,((vdynamic*)r10));
					r11 = true;
					r6 = 0;
					label$2657$534:
					if( r25 == NULL ) hl_null_access();
					r26 = r25->length;
					if( r6 >= r26 ) goto label$2657$557;
					r19 = r6;
					++r6;
					r26 = r25->length;
					if( ((unsigned)r19) < ((unsigned)r26) ) goto label$2657$544;
					r28 = NULL;
					goto label$2657$547;
					label$2657$544:
					r27 = r25->array;
					r12 = ((vdynamic**)(r27 + 1))[r19];
					r28 = hl_to_virtual(&type$812,(vdynamic*)r12);
					label$2657$547:
					if( !r11 ) goto label$2657$551;
					r37 = false;
					r11 = r37;
					goto label$2657$555;
					label$2657$551:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$335;
					StringBuf_add(r9,((vdynamic*)r10));
					label$2657$555:
					hxsl_HlslOut_addValue(r0,r28,r2);
					goto label$2657$534;
					label$2657$557:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$177;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$655;
				case 33:
				case 34:
					r25 = ((hxsl_TExprDef_TCall*)r3)->p1;
					r4 = ((hxsl_TExprDef_TCall*)r3)->p0;
					if( r4 == NULL ) hl_null_access();
					r7 = hl_vfields(r4)[0] ? (*(venum**)(hl_vfields(r4)[0])) : (venum*)hl_dyn_getp(r4->value,101/*e*/,&type$813);
					r22 = ((hxsl_TExprDef_TGlobal*)r7)->p0;
					if( r25 == NULL ) hl_null_access();
					r6 = 0;
					r19 = r25->length;
					if( ((unsigned)r6) < ((unsigned)r19) ) goto label$2657$573;
					r4 = NULL;
					goto label$2657$576;
					label$2657$573:
					r27 = r25->array;
					r12 = ((vdynamic**)(r27 + 1))[r6];
					r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
					label$2657$576:
					hxsl_HlslOut_addValue(r0,r4,r2);
					if( r22 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r22);
					switch(r6) {
						default:
						case 0:
						case 1:
						case 2:
						case 3:
						case 4:
						case 5:
						case 6:
						case 7:
						case 8:
						case 9:
						case 10:
						case 11:
						case 12:
						case 13:
						case 14:
						case 15:
						case 16:
						case 17:
						case 18:
						case 19:
						case 20:
						case 21:
						case 22:
						case 23:
						case 24:
						case 25:
						case 26:
						case 27:
						case 28:
						case 29:
						case 30:
						case 31:
						case 32:
							r10 = (String)global$319;
							hl_throw((vdynamic*)r10);
						case 33:
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1502;
							StringBuf_add(r9,((vdynamic*)r10));
							goto label$2657$591;
						case 34:
							r9 = r0->buf;
							if( r9 == NULL ) hl_null_access();
							r10 = (String)global$1503;
							StringBuf_add(r9,((vdynamic*)r10));
					}
					label$2657$591:
					r6 = 0;
					r19 = r25->length;
					if( ((unsigned)r6) < ((unsigned)r19) ) goto label$2657$596;
					r4 = NULL;
					goto label$2657$599;
					label$2657$596:
					r27 = r25->array;
					r12 = ((vdynamic**)(r27 + 1))[r6];
					r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
					label$2657$599:
					if( r4 == NULL ) hl_null_access();
					r7 = hl_vfields(r4)[0] ? (*(venum**)(hl_vfields(r4)[0])) : (venum*)hl_dyn_getp(r4->value,101/*e*/,&type$813);
					if( r7 == NULL ) hl_null_access();
					r6 = HL__ENUM_INDEX__(r7);
					r19 = 16;
					if( r6 != r19 ) goto label$2657$618;
					r4 = ((hxsl_TExprDef_TArray*)r7)->p0;
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1504;
					StringBuf_add(r9,((vdynamic*)r10));
					r4 = ((hxsl_TExprDef_TArray*)r7)->p1;
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$450;
					StringBuf_add(r9,((vdynamic*)r10));
					goto label$2657$631;
					label$2657$618:
					r6 = 0;
					r19 = r25->length;
					if( ((unsigned)r6) < ((unsigned)r19) ) goto label$2657$623;
					r4 = NULL;
					goto label$2657$626;
					label$2657$623:
					r27 = r25->array;
					r12 = ((vdynamic**)(r27 + 1))[r6];
					r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
					label$2657$626:
					hxsl_HlslOut_addValue(r0,r4,r2);
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$1460;
					StringBuf_add(r9,((vdynamic*)r10));
					label$2657$631:
					r6 = 1;
					r19 = r25->length;
					label$2657$633:
					if( r6 >= r19 ) goto label$2657$651;
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$438;
					StringBuf_add(r9,((vdynamic*)r10));
					if( r25 == NULL ) hl_null_access();
					r26 = r6;
					++r6;
					r38 = r25->length;
					if( ((unsigned)r26) < ((unsigned)r38) ) goto label$2657$646;
					r4 = NULL;
					goto label$2657$649;
					label$2657$646:
					r27 = r25->array;
					r12 = ((vdynamic**)(r27 + 1))[r26];
					r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
					label$2657$649:
					hxsl_HlslOut_addValue(r0,r4,r2);
					goto label$2657$633;
					label$2657$651:
					r9 = r0->buf;
					if( r9 == NULL ) hl_null_access();
					r10 = (String)global$177;
					StringBuf_add(r9,((vdynamic*)r10));
			}
			label$2657$655:
			goto label$2657$692;
			label$2657$656:
			r25 = ((hxsl_TExprDef_TCall*)r3)->p1;
			r4 = ((hxsl_TExprDef_TCall*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$175;
			StringBuf_add(r9,((vdynamic*)r10));
			r11 = true;
			r6 = 0;
			label$2657$665:
			if( r25 == NULL ) hl_null_access();
			r26 = r25->length;
			if( r6 >= r26 ) goto label$2657$688;
			r19 = r6;
			++r6;
			r26 = r25->length;
			if( ((unsigned)r19) < ((unsigned)r26) ) goto label$2657$675;
			r4 = NULL;
			goto label$2657$678;
			label$2657$675:
			r27 = r25->array;
			r12 = ((vdynamic**)(r27 + 1))[r19];
			r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
			label$2657$678:
			if( !r11 ) goto label$2657$682;
			r37 = false;
			r11 = r37;
			goto label$2657$686;
			label$2657$682:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$335;
			StringBuf_add(r9,((vdynamic*)r10));
			label$2657$686:
			hxsl_HlslOut_addValue(r0,r4,r2);
			goto label$2657$665;
			label$2657$688:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$177;
			StringBuf_add(r9,((vdynamic*)r10));
			label$2657$692:
			goto label$2657$927;
		case 9:
			r25 = ((hxsl_TExprDef_TSwiz*)r3)->p1;
			r4 = ((hxsl_TExprDef_TSwiz*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$210;
			StringBuf_add(r9,((vdynamic*)r10));
			r6 = 0;
			label$2657$701:
			if( r25 == NULL ) hl_null_access();
			r26 = r25->length;
			if( r6 >= r26 ) goto label$2657$733;
			r19 = r6;
			++r6;
			r26 = r25->length;
			if( ((unsigned)r19) < ((unsigned)r26) ) goto label$2657$711;
			r39 = NULL;
			goto label$2657$714;
			label$2657$711:
			r27 = r25->array;
			r12 = ((vdynamic**)(r27 + 1))[r19];
			r39 = (venum*)r12;
			label$2657$714:
			if( r39 == NULL ) hl_null_access();
			r19 = HL__ENUM_INDEX__(r39);
			switch(r19) {
				default:
					goto label$2657$729;
				case 0:
					r10 = (String)global$439;
					r12 = ((vdynamic*)r10);
					goto label$2657$729;
				case 1:
					r10 = (String)global$761;
					r12 = ((vdynamic*)r10);
					goto label$2657$729;
				case 2:
					r10 = (String)global$765;
					r12 = ((vdynamic*)r10);
					goto label$2657$729;
				case 3:
					r10 = (String)global$789;
					r12 = ((vdynamic*)r10);
			}
			label$2657$729:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			StringBuf_add(r9,r12);
			goto label$2657$701;
			label$2657$733:
			goto label$2657$927;
		case 10:
			r4 = ((hxsl_TExprDef_TIf*)r3)->p2;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1505;
			StringBuf_add(r9,((vdynamic*)r10));
			r28 = ((hxsl_TExprDef_TIf*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r28,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1506;
			StringBuf_add(r9,((vdynamic*)r10));
			r28 = ((hxsl_TExprDef_TIf*)r3)->p1;
			hxsl_HlslOut_addBlock(r0,r28,r2);
			if( !r4 ) goto label$2657$753;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1507;
			StringBuf_add(r9,((vdynamic*)r10));
			hxsl_HlslOut_addBlock(r0,r4,r2);
			label$2657$753:
			goto label$2657$927;
		case 11:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1508;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 12:
			r4 = ((hxsl_TExprDef_TReturn*)r3)->p0;
			if( r4 ) goto label$2657$766;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1509;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$771;
			label$2657$766:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1510;
			StringBuf_add(r9,((vdynamic*)r10));
			hxsl_HlslOut_addValue(r0,r4,r2);
			label$2657$771:
			goto label$2657$927;
		case 13:
			r20 = ((hxsl_TExprDef_TFor*)r3)->p0;
			r21 = r0->locals;
			if( r21 == NULL ) hl_null_access();
			if( r20 == NULL ) hl_null_access();
			r6 = hl_vfields(r20)[0] ? (*(int*)(hl_vfields(r20)[0])) : (int)hl_dyn_geti(r20->value,23515/*id*/,&type$3);
			haxe_ds_IntMap_set(r21,r6,((vdynamic*)r20));
			r4 = ((hxsl_TExprDef_TFor*)r3)->p1;
			if( r4 == NULL ) hl_null_access();
			r7 = hl_vfields(r4)[0] ? (*(venum**)(hl_vfields(r4)[0])) : (venum*)hl_dyn_getp(r4->value,101/*e*/,&type$813);
			if( r7 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r7);
			r19 = 5;
			if( r6 != r19 ) goto label$2657$823;
			r29 = ((hxsl_TExprDef_TBinop*)r7)->p0;
			if( r29 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r29);
			r19 = 21;
			if( r6 != r19 ) goto label$2657$823;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1511;
			StringBuf_add(r9,((vdynamic*)r10));
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = hl_vfields(r20)[2] ? (*(String*)(hl_vfields(r20)[2])) : (String)hl_dyn_getp(r20->value,150958933/*name*/,&type$13);
			r16 = (String)global$814;
			r10 = String___add__(r10,r16);
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TBinop*)r7)->p1;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$868;
			r16 = hl_vfields(r20)[2] ? (*(String*)(hl_vfields(r20)[2])) : (String)hl_dyn_getp(r20->value,150958933/*name*/,&type$13);
			r10 = String___add__(r10,r16);
			r16 = (String)global$872;
			r10 = String___add__(r10,r16);
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TBinop*)r7)->p2;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$868;
			r16 = hl_vfields(r20)[2] ? (*(String*)(hl_vfields(r20)[2])) : (String)hl_dyn_getp(r20->value,150958933/*name*/,&type$13);
			r10 = String___add__(r10,r16);
			r16 = (String)global$1512;
			r10 = String___add__(r10,r16);
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TFor*)r3)->p2;
			hxsl_HlslOut_addBlock(r0,r4,r2);
			goto label$2657$825;
			label$2657$823:
			r10 = (String)global$319;
			hl_throw((vdynamic*)r10);
			label$2657$825:
			goto label$2657$927;
		case 14:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1513;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 15:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1514;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 16:
			r4 = ((hxsl_TExprDef_TArray*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$612;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TArray*)r3)->p1;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$450;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 17:
			r25 = ((hxsl_TExprDef_TArrayDecl*)r3)->p0;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$612;
			StringBuf_add(r9,((vdynamic*)r10));
			r11 = true;
			r6 = 0;
			label$2657$856:
			if( r25 == NULL ) hl_null_access();
			r26 = r25->length;
			if( r6 >= r26 ) goto label$2657$879;
			r19 = r6;
			++r6;
			r26 = r25->length;
			if( ((unsigned)r19) < ((unsigned)r26) ) goto label$2657$866;
			r4 = NULL;
			goto label$2657$869;
			label$2657$866:
			r27 = r25->array;
			r12 = ((vdynamic**)(r27 + 1))[r19];
			r4 = hl_to_virtual(&type$812,(vdynamic*)r12);
			label$2657$869:
			if( !r11 ) goto label$2657$873;
			r37 = false;
			r11 = r37;
			goto label$2657$877;
			label$2657$873:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$335;
			StringBuf_add(r9,((vdynamic*)r10));
			label$2657$877:
			hxsl_HlslOut_addValue(r0,r4,r2);
			goto label$2657$856;
			label$2657$879:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$450;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 18:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1515;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$927;
		case 19:
			r11 = ((hxsl_TExprDef_TWhile*)r3)->p2;
			r37 = false;
			if( r11 != r37 ) goto label$2657$912;
			r16 = (String)global$193;
			r10 = String___add__(r2,r16);
			r2 = r10;
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1516;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TWhile*)r3)->p1;
			hxsl_HlslOut_addBlock(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1517;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TWhile*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1518;
			StringBuf_add(r9,((vdynamic*)r10));
			goto label$2657$924;
			label$2657$912:
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1519;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TWhile*)r3)->p0;
			hxsl_HlslOut_addValue(r0,r4,r2);
			r9 = r0->buf;
			if( r9 == NULL ) hl_null_access();
			r10 = (String)global$1520;
			StringBuf_add(r9,((vdynamic*)r10));
			r4 = ((hxsl_TExprDef_TWhile*)r3)->p1;
			hxsl_HlslOut_addBlock(r0,r4,r2);
			label$2657$924:
			goto label$2657$927;
		case 20:
			r4 = ((hxsl_TExprDef_TMeta*)r3)->p2;
			hxsl_HlslOut_addExpr(r0,r4,r2);
	}
	label$2657$927:
	return;
}

String hxsl_HlslOut_varName(hxsl__HlslOut r0,vvirtual* r1) {
	String r5, r7, r11;
	haxe__ds__StringMap r9;
	bool r8;
	haxe__ds__IntMap r3;
	int *r13;
	vdynamic *r2, *r15;
	vbyte *r14;
	hxsl__$HlslOut r10;
	int r4, r12;
	r3 = r0->varNames;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(int*)(hl_vfields(r1)[0])) : (int)hl_dyn_geti(r1->value,23515/*id*/,&type$3);
	r2 = haxe_ds_IntMap_get(r3,r4);
	r5 = (String)r2;
	if( !r5 ) goto label$2658$8;
	return r5;
	label$2658$8:
	r7 = hl_vfields(r1)[2] ? (*(String*)(hl_vfields(r1)[2])) : (String)hl_dyn_getp(r1->value,150958933/*name*/,&type$13);
	r5 = r7;
	label$2658$10:
	r10 = (hxsl__$HlslOut)global$526;
	r9 = r10->KWDS;
	if( r9 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_exists(r9,r5);
	if( !r8 ) goto label$2658$20;
	r7 = (String)global$1228;
	r7 = String___add__(r7,r5);
	r5 = r7;
	goto label$2658$10;
	label$2658$20:
	r9 = r0->allNames;
	if( r9 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_exists(r9,r5);
	if( !r8 ) goto label$2658$46;
	r4 = 2;
	r11 = (String)global$1228;
	r7 = String___add__(r5,r11);
	r5 = r7;
	label$2658$28:
	r9 = r0->allNames;
	if( r9 == NULL ) hl_null_access();
	r12 = r4;
	r13 = &r12;
	r14 = hl_itos(r12,r13);
	r11 = String___alloc__(r14,r12);
	r7 = String___add__(r5,r11);
	r8 = haxe_ds_StringMap_exists(r9,r7);
	if( !r8 ) goto label$2658$40;
	++r4;
	goto label$2658$28;
	label$2658$40:
	r12 = r4;
	r13 = &r12;
	r14 = hl_itos(r12,r13);
	r11 = String___alloc__(r14,r12);
	r7 = String___add__(r5,r11);
	r5 = r7;
	label$2658$46:
	r3 = r0->varNames;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(int*)(hl_vfields(r1)[0])) : (int)hl_dyn_geti(r1->value,23515/*id*/,&type$3);
	haxe_ds_IntMap_set(r3,r4,((vdynamic*)r5));
	r9 = r0->allNames;
	if( r9 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(int*)(hl_vfields(r1)[0])) : (int)hl_dyn_geti(r1->value,23515/*id*/,&type$3);
	r15 = hl_alloc_dynamic(&type$3);
	r15->v.i = r4;
	haxe_ds_StringMap_set(r9,r5,((vdynamic*)r15));
	return r5;
}

void hxsl_HlslOut_newLine(hxsl__HlslOut r0,vvirtual* r1) {
	String r5;
	bool r3;
	StringBuf r4;
	r3 = hxsl_HlslOut_isBlock(r0,r1);
	if( !r3 ) goto label$2659$7;
	r4 = r0->buf;
	if( r4 == NULL ) hl_null_access();
	r5 = (String)global$205;
	StringBuf_add(r4,((vdynamic*)r5));
	goto label$2659$11;
	label$2659$7:
	r4 = r0->buf;
	if( r4 == NULL ) hl_null_access();
	r5 = (String)global$1521;
	StringBuf_add(r4,((vdynamic*)r5));
	label$2659$11:
	return;
}

bool hxsl_HlslOut_isBlock(hxsl__HlslOut r0,vvirtual* r1) {
	vvirtual *r3, *r6;
	venum *r2;
	bool r5, r7;
	int r4;
	if( r1 == NULL ) hl_null_access();
	r2 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r2 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r2);
	switch(r4) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 11:
		case 12:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
			r5 = false;
			return r5;
		case 4:
			r5 = true;
			return r5;
		case 10:
			r3 = ((hxsl_TExprDef_TIf*)r2)->p2;
			if( r3 ) goto label$2660$13;
			r6 = ((hxsl_TExprDef_TIf*)r2)->p1;
			goto label$2660$14;
			label$2660$13:
			r6 = r3;
			label$2660$14:
			r5 = hxsl_HlslOut_isBlock(r0,r6);
			return r5;
		case 13:
			r3 = ((hxsl_TExprDef_TFor*)r2)->p2;
			r5 = hxsl_HlslOut_isBlock(r0,r3);
			return r5;
		case 19:
			r5 = ((hxsl_TExprDef_TWhile*)r2)->p2;
			r7 = true;
			if( r5 != r7 ) goto label$2660$25;
			r3 = ((hxsl_TExprDef_TWhile*)r2)->p1;
			r5 = hxsl_HlslOut_isBlock(r0,r3);
			return r5;
			label$2660$25:
			r5 = false;
			return r5;
	}
}

void hxsl_HlslOut_collectGlobals(hxsl__HlslOut r0,haxe__ds__EnumValueMap r1,vvirtual* r2) {
	venum *r3, *r7, *r12;
	bool r8;
	vclosure *r10, *r11;
	vdynamic *r9;
	int r5, r6;
	if( r2 == NULL ) hl_null_access();
	r3 = hl_vfields(r2)[0] ? (*(venum**)(hl_vfields(r2)[0])) : (venum*)hl_dyn_getp(r2->value,101/*e*/,&type$813);
	if( r3 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r3);
	r6 = 2;
	if( r5 != r6 ) goto label$2661$12;
	if( r1 == NULL ) hl_null_access();
	r7 = ((hxsl_TExprDef_TGlobal*)r3)->p0;
	r8 = true;
	r9 = hl_alloc_dynbool(r8);
	haxe_ds_BalancedTree_set(((haxe__ds__BalancedTree)r1),((vdynamic*)r7),r9);
	goto label$2661$18;
	label$2661$12:
	r10 = hl_alloc_closure_ptr(&type$3970,hxsl_HlslOut_collectGlobals,r0);
	r12 = hl_alloc_enum(&type$3968,0);
	((Enum$3968*)r12)->p0 = (vclosure*)r10;
	((Enum$3968*)r12)->p1 = (haxe__ds__EnumValueMap)r1;
	r11 = hl_alloc_closure_ptr(&type$3967,fun$3991,r12);
	hxsl_Tools_iter(r2,r11);
	label$2661$18:
	return;
}

void hxsl_HlslOut_initVars(hxsl__HlslOut r0,vvirtual* r1) {
	String r17, r19;
	vvirtual *r12, *r13, *r20;
	hl__types__ArrayObj r11;
	venum *r9, *r21, *r22, *r23;
	bool r18;
	hl__types__ArrayBytes_Int r3;
	haxe__ds__EnumValueMap r10;
	StringBuf r16;
	vclosure *r8;
	vdynamic *r14;
	varray *r15;
	int r5, r6, r7;
	vbyte *r4;
	r5 = 4;
	r4 = hl_alloc_bytes(r5);
	r5 = 0;
	r6 = 0;
	r7 = 2;
	r7 = r5 << r7;
	*(int*)(r4 + r7) = r6;
	++r5;
	r5 = 1;
	r3 = hl_types_ArrayBase_allocI32(r4,r5);
	r9 = hl_alloc_enum(&type$3972,0);
	((Enum$3972*)r9)->p0 = (hl__types__ArrayBytes_Int)r3;
	((Enum$3972*)r9)->p1 = (hxsl__HlslOut)r0;
	r8 = hl_alloc_closure_ptr(&type$3971,fun$3992,r9);
	r10 = (haxe__ds__EnumValueMap)hl_alloc_obj(haxe__ds__EnumValueMap__val);
	haxe_ds_EnumValueMap_new(r10);
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	label$2662$19:
	if( r11 == NULL ) hl_null_access();
	r7 = r11->length;
	if( r5 >= r7 ) goto label$2662$36;
	r6 = r5;
	++r5;
	r7 = r11->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$2662$29;
	r13 = NULL;
	goto label$2662$32;
	label$2662$29:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r6];
	r13 = hl_to_virtual(&type$3863,(vdynamic*)r14);
	label$2662$32:
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[1] ? (*(vvirtual**)(hl_vfields(r13)[1])) : (vvirtual*)hl_dyn_getp(r13->value,52297279/*expr*/,&type$812);
	hxsl_HlslOut_collectGlobals(r0,r10,r12);
	goto label$2662$19;
	label$2662$36:
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1522;
	StringBuf_add(r16,((vdynamic*)r17));
	r18 = r0->isVertex;
	if( r18 ) goto label$2662$50;
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1523;
	r19 = r0->SV_POSITION;
	r17 = String___add__(r17,r19);
	r19 = (String)global$1521;
	r17 = String___add__(r17,r19);
	StringBuf_add(r16,((vdynamic*)r17));
	label$2662$50:
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2662$53:
	if( r11 == NULL ) hl_null_access();
	r7 = r11->length;
	if( r5 >= r7 ) goto label$2662$78;
	r7 = r11->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$2662$61;
	r20 = NULL;
	goto label$2662$64;
	label$2662$61:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r5];
	r20 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2662$64:
	++r5;
	if( r20 == NULL ) hl_null_access();
	r21 = hl_vfields(r20)[1] ? (*(venum**)(hl_vfields(r20)[1])) : (venum*)hl_dyn_getp(r20->value,118088286/*kind*/,&type$147);
	r22 = (venum*)global$538;
	if( r21 == r22 ) goto label$2662$74;
	r21 = hl_vfields(r20)[1] ? (*(venum**)(hl_vfields(r20)[1])) : (venum*)hl_dyn_getp(r20->value,118088286/*kind*/,&type$147);
	r22 = (venum*)global$1358;
	if( r21 != r22 ) goto label$2662$77;
	r18 = r0->isVertex;
	if( r18 ) goto label$2662$77;
	label$2662$74:
	if( r8 == NULL ) hl_null_access();
	r17 = (String)global$1524;
	r8->hasValue ? ((void (*)(vdynamic*,String,vvirtual*))r8->fun)((vdynamic*)r8->value,r17,r20) : ((void (*)(String,vvirtual*))r8->fun)(r17,r20);
	label$2662$77:
	goto label$2662$53;
	label$2662$78:
	if( r10 == NULL ) hl_null_access();
	r23 = (venum*)global$1525;
	r18 = haxe_ds_BalancedTree_exists(((haxe__ds__BalancedTree)r10),((vdynamic*)r23));
	if( !r18 ) goto label$2662$90;
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1526;
	r19 = r0->SV_VertexID;
	r17 = String___add__(r17,r19);
	r19 = (String)global$1521;
	r17 = String___add__(r17,r19);
	StringBuf_add(r16,((vdynamic*)r17));
	label$2662$90:
	r23 = (venum*)global$1527;
	r18 = haxe_ds_BalancedTree_exists(((haxe__ds__BalancedTree)r10),((vdynamic*)r23));
	if( !r18 ) goto label$2662$101;
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1528;
	r19 = r0->SV_InstanceID;
	r17 = String___add__(r17,r19);
	r19 = (String)global$1521;
	r17 = String___add__(r17,r19);
	StringBuf_add(r16,((vdynamic*)r17));
	label$2662$101:
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1529;
	StringBuf_add(r16,((vdynamic*)r17));
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1530;
	StringBuf_add(r16,((vdynamic*)r17));
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2662$112:
	if( r11 == NULL ) hl_null_access();
	r7 = r11->length;
	if( r5 >= r7 ) goto label$2662$132;
	r7 = r11->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$2662$120;
	r20 = NULL;
	goto label$2662$123;
	label$2662$120:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r5];
	r20 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2662$123:
	++r5;
	if( r20 == NULL ) hl_null_access();
	r21 = hl_vfields(r20)[1] ? (*(venum**)(hl_vfields(r20)[1])) : (venum*)hl_dyn_getp(r20->value,118088286/*kind*/,&type$147);
	r22 = (venum*)global$1365;
	if( r21 != r22 ) goto label$2662$131;
	if( r8 == NULL ) hl_null_access();
	r17 = (String)global$1531;
	r8->hasValue ? ((void (*)(vdynamic*,String,vvirtual*))r8->fun)((vdynamic*)r8->value,r17,r20) : ((void (*)(String,vvirtual*))r8->fun)(r17,r20);
	label$2662$131:
	goto label$2662$112;
	label$2662$132:
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2662$135:
	if( r11 == NULL ) hl_null_access();
	r7 = r11->length;
	if( r5 >= r7 ) goto label$2662$157;
	r7 = r11->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$2662$143;
	r20 = NULL;
	goto label$2662$146;
	label$2662$143:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r5];
	r20 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2662$146:
	++r5;
	if( r20 == NULL ) hl_null_access();
	r21 = hl_vfields(r20)[1] ? (*(venum**)(hl_vfields(r20)[1])) : (venum*)hl_dyn_getp(r20->value,118088286/*kind*/,&type$147);
	r22 = (venum*)global$1358;
	if( r21 != r22 ) goto label$2662$156;
	r18 = r0->isVertex;
	if( !r18 ) goto label$2662$156;
	if( r8 == NULL ) hl_null_access();
	r17 = (String)global$1531;
	r8->hasValue ? ((void (*)(vdynamic*,String,vvirtual*))r8->fun)((vdynamic*)r8->value,r17,r20) : ((void (*)(String,vvirtual*))r8->fun)(r17,r20);
	label$2662$156:
	goto label$2662$135;
	label$2662$157:
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r17 = (String)global$1529;
	StringBuf_add(r16,((vdynamic*)r17));
	return;
}

void hxsl_HlslOut_initGlobals(hxsl__HlslOut r0,vvirtual* r1) {
	String r4;
	vvirtual *r8;
	hl__types__ArrayObj r6;
	venum *r11, *r12;
	StringBuf r3;
	vdynamic *r9;
	varray *r10;
	int r5, r7;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1532;
	StringBuf_add(r3,((vdynamic*)r4));
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r6 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2663$7:
	if( r6 == NULL ) hl_null_access();
	r7 = r6->length;
	if( r5 >= r7 ) goto label$2663$33;
	r7 = r6->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$2663$15;
	r8 = NULL;
	goto label$2663$18;
	label$2663$15:
	r10 = r6->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = hl_to_virtual(&type$146,(vdynamic*)r9);
	label$2663$18:
	++r5;
	if( r8 == NULL ) hl_null_access();
	r11 = hl_vfields(r8)[1] ? (*(venum**)(hl_vfields(r8)[1])) : (venum*)hl_dyn_getp(r8->value,118088286/*kind*/,&type$147);
	r12 = (venum*)global$1410;
	if( r11 != r12 ) goto label$2663$32;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$193;
	StringBuf_add(r3,((vdynamic*)r4));
	hxsl_HlslOut_addVar(r0,r8);
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1521;
	StringBuf_add(r3,((vdynamic*)r4));
	label$2663$32:
	goto label$2663$7;
	label$2663$33:
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1529;
	StringBuf_add(r3,((vdynamic*)r4));
	return;
}

void hxsl_HlslOut_initParams(hxsl__HlslOut r0,vvirtual* r1) {
	String r9, r23;
	vvirtual *r13;
	hl__types__ArrayObj r2, r7, r10;
	venum *r15, *r16, *r17, *r18, *r24;
	hl_type *r4;
	bool r19;
	StringBuf r8;
	int *r21;
	vdynamic *r14;
	vbyte *r22;
	int r5, r11, r12, r20;
	varray *r3;
	r4 = &type$146;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r4 = &type$146;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r7 = hl_types_ArrayObj_alloc(r3);
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1533;
	StringBuf_add(r8,((vdynamic*)r9));
	r5 = 0;
	if( r1 == NULL ) hl_null_access();
	r10 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2664$15:
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r5 >= r12 ) goto label$2664$56;
	r12 = r10->length;
	if( ((unsigned)r5) < ((unsigned)r12) ) goto label$2664$23;
	r13 = NULL;
	goto label$2664$26;
	label$2664$23:
	r3 = r10->array;
	r14 = ((vdynamic**)(r3 + 1))[r5];
	r13 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2664$26:
	++r5;
	if( r13 == NULL ) hl_null_access();
	r15 = hl_vfields(r13)[1] ? (*(venum**)(hl_vfields(r13)[1])) : (venum*)hl_dyn_getp(r13->value,118088286/*kind*/,&type$147);
	r16 = (venum*)global$1375;
	if( r15 != r16 ) goto label$2664$55;
	r17 = hl_vfields(r13)[5] ? (*(venum**)(hl_vfields(r13)[5])) : (venum*)hl_dyn_getp(r13->value,218690500/*type*/,&type$148);
	if( r17 == NULL ) hl_null_access();
	r11 = HL__ENUM_INDEX__(r17);
	switch(r11) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
			goto label$2664$46;
		case 15:
			r18 = ((hxsl_Type_TArray*)r17)->p0;
			r19 = hxsl_Tools_isSampler(r18);
			if( !r19 ) goto label$2664$42;
			if( r2 == NULL ) hl_null_access();
			r11 = hl_types_ArrayObj_push(r2,((vdynamic*)r13));
			goto label$2664$15;
			label$2664$42:
			goto label$2664$46;
		case 16:
			if( r7 == NULL ) hl_null_access();
			r11 = hl_types_ArrayObj_push(r7,((vdynamic*)r13));
			goto label$2664$15;
	}
	label$2664$46:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$193;
	StringBuf_add(r8,((vdynamic*)r9));
	hxsl_HlslOut_addVar(r0,r13);
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1521;
	StringBuf_add(r8,((vdynamic*)r9));
	label$2664$55:
	goto label$2664$15;
	label$2664$56:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1529;
	StringBuf_add(r8,((vdynamic*)r9));
	r5 = 0;
	r11 = 0;
	label$2664$62:
	if( r7 == NULL ) hl_null_access();
	r20 = r7->length;
	if( r11 >= r20 ) goto label$2664$101;
	r12 = r11;
	++r11;
	r20 = r7->length;
	if( ((unsigned)r12) < ((unsigned)r20) ) goto label$2664$72;
	r13 = NULL;
	goto label$2664$75;
	label$2664$72:
	r3 = r7->array;
	r14 = ((vdynamic**)(r3 + 1))[r12];
	r13 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2664$75:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1534;
	r12 = r5;
	r21 = &r12;
	r22 = hl_itos(r12,r21);
	r23 = String___alloc__(r22,r12);
	r9 = String___add__(r9,r23);
	r23 = (String)global$1535;
	r9 = String___add__(r9,r23);
	r20 = 2;
	r12 = r5 + r20;
	r21 = &r12;
	r22 = hl_itos(r12,r21);
	r23 = String___alloc__(r22,r12);
	r9 = String___add__(r9,r23);
	r23 = (String)global$1536;
	r9 = String___add__(r9,r23);
	StringBuf_add(r8,((vdynamic*)r9));
	hxsl_HlslOut_addVar(r0,r13);
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1537;
	StringBuf_add(r8,((vdynamic*)r9));
	++r5;
	goto label$2664$62;
	label$2664$101:
	r12 = 0;
	if( r12 >= r5 ) goto label$2664$107;
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$205;
	StringBuf_add(r8,((vdynamic*)r9));
	label$2664$107:
	r11 = 0;
	label$2664$108:
	if( r2 == NULL ) hl_null_access();
	r20 = r2->length;
	if( r11 >= r20 ) goto label$2664$164;
	r20 = r2->length;
	if( ((unsigned)r11) < ((unsigned)r20) ) goto label$2664$116;
	r13 = NULL;
	goto label$2664$119;
	label$2664$116:
	r3 = r2->array;
	r14 = ((vdynamic**)(r3 + 1))[r11];
	r13 = hl_to_virtual(&type$146,(vdynamic*)r14);
	label$2664$119:
	++r11;
	if( r13 == NULL ) hl_null_access();
	r17 = hl_vfields(r13)[5] ? (*(venum**)(hl_vfields(r13)[5])) : (venum*)hl_dyn_getp(r13->value,218690500/*type*/,&type$148);
	if( r17 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r17);
	r20 = 15;
	if( r12 != r20 ) goto label$2664$163;
	r24 = ((hxsl_Type_TArray*)r17)->p1;
	r18 = ((hxsl_Type_TArray*)r17)->p0;
	if( r18 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r18);
	switch(r12) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
			r9 = (String)global$1538;
			r23 = Std_string(((vdynamic*)r18));
			r9 = String___add__(r9,r23);
			hl_throw((vdynamic*)r9);
		case 10:
			r8 = r0->buf;
			if( r8 == NULL ) hl_null_access();
			r9 = (String)global$1539;
			StringBuf_add(r8,((vdynamic*)r9));
			goto label$2664$149;
		case 11:
			r8 = r0->buf;
			if( r8 == NULL ) hl_null_access();
			r9 = (String)global$1540;
			StringBuf_add(r8,((vdynamic*)r9));
			goto label$2664$149;
		case 12:
			r8 = r0->buf;
			if( r8 == NULL ) hl_null_access();
			r9 = (String)global$1541;
			StringBuf_add(r8,((vdynamic*)r9));
	}
	label$2664$149:
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = hl_vfields(r13)[2] ? (*(String*)(hl_vfields(r13)[2])) : (String)hl_dyn_getp(r13->value,150958933/*name*/,&type$13);
	StringBuf_add(r8,((vdynamic*)r9));
	hxsl_HlslOut_addArraySize(r0,r24);
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1521;
	StringBuf_add(r8,((vdynamic*)r9));
	hxsl_HlslOut_addVar(r0,r13);
	r8 = r0->buf;
	if( r8 == NULL ) hl_null_access();
	r9 = (String)global$1521;
	StringBuf_add(r8,((vdynamic*)r9));
	label$2664$163:
	goto label$2664$108;
	label$2664$164:
	return;
}

void hxsl_HlslOut_initStatics(hxsl__HlslOut r0,vvirtual* r1) {
	String r4, r5;
	vvirtual *r9;
	hl__types__ArrayObj r7;
	venum *r12, *r13;
	StringBuf r3;
	vdynamic *r10;
	varray *r11;
	int r6, r8;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->STATIC;
	r5 = (String)global$1542;
	r4 = String___add__(r4,r5);
	StringBuf_add(r3,((vdynamic*)r4));
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->STATIC;
	r5 = (String)global$1543;
	r4 = String___add__(r4,r5);
	StringBuf_add(r3,((vdynamic*)r4));
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$205;
	StringBuf_add(r3,((vdynamic*)r4));
	r6 = 0;
	if( r1 == NULL ) hl_null_access();
	r7 = hl_vfields(r1)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,239676598/*vars*/,&type$46);
	label$2665$19:
	if( r7 == NULL ) hl_null_access();
	r8 = r7->length;
	if( r6 >= r8 ) goto label$2665$45;
	r8 = r7->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$2665$27;
	r9 = NULL;
	goto label$2665$30;
	label$2665$27:
	r11 = r7->array;
	r10 = ((vdynamic**)(r11 + 1))[r6];
	r9 = hl_to_virtual(&type$146,(vdynamic*)r10);
	label$2665$30:
	++r6;
	if( r9 == NULL ) hl_null_access();
	r12 = hl_vfields(r9)[1] ? (*(venum**)(hl_vfields(r9)[1])) : (venum*)hl_dyn_getp(r9->value,118088286/*kind*/,&type$147);
	r13 = (venum*)global$1544;
	if( r12 != r13 ) goto label$2665$44;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->STATIC;
	StringBuf_add(r3,((vdynamic*)r4));
	hxsl_HlslOut_addVar(r0,r9);
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1521;
	StringBuf_add(r3,((vdynamic*)r4));
	label$2665$44:
	goto label$2665$19;
	label$2665$45:
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$205;
	StringBuf_add(r3,((vdynamic*)r4));
	return;
}

void hxsl_HlslOut_emitMain(hxsl__HlslOut r0,vvirtual* r1) {
	String r4;
	hl__types__ArrayObj r9;
	vvirtual *r6;
	venum *r5;
	StringBuf r3;
	vdynamic *r11;
	varray *r12;
	int r7, r8, r10;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1545;
	StringBuf_add(r3,((vdynamic*)r4));
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1546;
	StringBuf_add(r3,((vdynamic*)r4));
	if( r1 == NULL ) hl_null_access();
	r5 = hl_vfields(r1)[0] ? (*(venum**)(hl_vfields(r1)[0])) : (venum*)hl_dyn_getp(r1->value,101/*e*/,&type$813);
	if( r5 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r5);
	r8 = 4;
	if( r7 != r8 ) goto label$2666$37;
	r9 = ((hxsl_TExprDef_TBlock*)r5)->p0;
	r7 = 0;
	label$2666$16:
	if( r9 == NULL ) hl_null_access();
	r10 = r9->length;
	if( r7 >= r10 ) goto label$2666$36;
	r10 = r9->length;
	if( ((unsigned)r7) < ((unsigned)r10) ) goto label$2666$24;
	r6 = NULL;
	goto label$2666$27;
	label$2666$24:
	r12 = r9->array;
	r11 = ((vdynamic**)(r12 + 1))[r7];
	r6 = hl_to_virtual(&type$812,(vdynamic*)r11);
	label$2666$27:
	++r7;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$193;
	StringBuf_add(r3,((vdynamic*)r4));
	r4 = (String)global$193;
	hxsl_HlslOut_addExpr(r0,r6,r4);
	hxsl_HlslOut_newLine(r0,r6);
	goto label$2666$16;
	label$2666$36:
	goto label$2666$39;
	label$2666$37:
	r4 = (String)global$8;
	hxsl_HlslOut_addExpr(r0,r1,r4);
	label$2666$39:
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1547;
	StringBuf_add(r3,((vdynamic*)r4));
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$446;
	StringBuf_add(r3,((vdynamic*)r4));
	return;
}

void hxsl_HlslOut_initLocals(hxsl__HlslOut r0) {
	String r15;
	vvirtual *r11;
	hl__types__ArrayObj r3, r5;
	haxe__ds__IntMap r2;
	StringBuf r14;
	vclosure *r6, *r7;
	hl__types__ArrayDyn r1;
	vdynamic *r12;
	varray *r13;
	int r8, r9, r10;
	r2 = r0->locals;
	r1 = Lambda_array(((vdynamic*)r2));
	r3 = (hl__types__ArrayObj)hl_dyn_castp(&r1,&type$321,&type$46);
	if( r3 == NULL ) hl_null_access();
	r6 = &cl$3993;
	if( r6 ) goto label$2667$8;
	r7 = NULL;
	goto label$2667$9;
	label$2667$8:
	r7 = hl_alloc_closure_ptr(&type$3976,fun$3994,r6);
	label$2667$9:
	hl_types_ArrayObj_sort(r3,r7);
	r8 = 0;
	label$2667$11:
	if( r3 == NULL ) hl_null_access();
	r10 = r3->length;
	if( r8 >= r10 ) goto label$2667$34;
	r9 = r8;
	++r8;
	r10 = r3->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$2667$21;
	r11 = NULL;
	goto label$2667$24;
	label$2667$21:
	r13 = r3->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r11 = hl_to_virtual(&type$146,(vdynamic*)r12);
	label$2667$24:
	r14 = r0->buf;
	if( r14 == NULL ) hl_null_access();
	r15 = r0->STATIC;
	StringBuf_add(r14,((vdynamic*)r15));
	hxsl_HlslOut_addVar(r0,r11);
	r14 = r0->buf;
	if( r14 == NULL ) hl_null_access();
	r15 = (String)global$1521;
	StringBuf_add(r14,((vdynamic*)r15));
	goto label$2667$11;
	label$2667$34:
	r14 = r0->buf;
	if( r14 == NULL ) hl_null_access();
	r15 = (String)global$205;
	StringBuf_add(r14,((vdynamic*)r15));
	r8 = 0;
	r5 = r0->exprValues;
	label$2667$40:
	if( r5 == NULL ) hl_null_access();
	r10 = r5->length;
	if( r8 >= r10 ) goto label$2667$61;
	r14 = r0->buf;
	if( r14 == NULL ) hl_null_access();
	r9 = r8;
	++r8;
	r10 = r5->length;
	if( ((unsigned)r9) < ((unsigned)r10) ) goto label$2667$52;
	r15 = NULL;
	goto label$2667$55;
	label$2667$52:
	r13 = r5->array;
	r12 = ((vdynamic**)(r13 + 1))[r9];
	r15 = (String)r12;
	label$2667$55:
	StringBuf_add(r14,((vdynamic*)r15));
	r14 = r0->buf;
	if( r14 == NULL ) hl_null_access();
	r15 = (String)global$1548;
	StringBuf_add(r14,((vdynamic*)r15));
	goto label$2667$40;
	label$2667$61:
	return;
}

String hxsl_HlslOut_run(hxsl__HlslOut r0,vvirtual* r1) {
	String r10;
	vvirtual *r12, *r17;
	hl__types__ArrayObj r4;
	venum *r14, *r15;
	hl_type *r6;
	bool r13;
	haxe__ds__IntMap r2;
	StringBuf r8, r16;
	vdynamic *r11;
	int r7, r9;
	varray *r5;
	r2 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r2);
	r0->locals = r2;
	r6 = &type$13;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r0->decls = r4;
	r8 = (StringBuf)hl_alloc_obj(StringBuf__val);
	StringBuf_new(r8);
	r0->buf = r8;
	r6 = &type$13;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r4 = hl_types_ArrayObj_alloc(r5);
	r0->exprValues = r4;
	if( r1 == NULL ) hl_null_access();
	r4 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	if( r4 == NULL ) hl_null_access();
	r7 = r4->length;
	r9 = 1;
	if( r7 == r9 ) goto label$2668$24;
	r10 = (String)global$319;
	hl_throw((vdynamic*)r10);
	label$2668$24:
	r4 = hl_vfields(r1)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,63237214/*funs*/,&type$46);
	if( r4 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$2668$31;
	r12 = NULL;
	goto label$2668$34;
	label$2668$31:
	r5 = r4->array;
	r11 = ((vdynamic**)(r5 + 1))[r7];
	r12 = hl_to_virtual(&type$3863,(vdynamic*)r11);
	label$2668$34:
	if( r12 == NULL ) hl_null_access();
	r14 = hl_vfields(r12)[2] ? (*(venum**)(hl_vfields(r12)[2])) : (venum*)hl_dyn_getp(r12->value,118088286/*kind*/,&type$824);
	r15 = (venum*)global$1368;
	if( r14 == r15 ) goto label$2668$40;
	r13 = false;
	goto label$2668$41;
	label$2668$40:
	r13 = true;
	label$2668$41:
	r0->isVertex = r13;
	r2 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r2);
	r0->varAccess = r2;
	hxsl_HlslOut_initVars(r0,r1);
	hxsl_HlslOut_initGlobals(r0,r1);
	hxsl_HlslOut_initParams(r0,r1);
	hxsl_HlslOut_initStatics(r0,r1);
	r8 = r0->buf;
	r16 = (StringBuf)hl_alloc_obj(StringBuf__val);
	StringBuf_new(r16);
	r0->buf = r16;
	r17 = hl_vfields(r12)[1] ? (*(vvirtual**)(hl_vfields(r12)[1])) : (vvirtual*)hl_dyn_getp(r12->value,52297279/*expr*/,&type$812);
	hxsl_HlslOut_emitMain(r0,r17);
	r4 = r0->exprValues;
	if( r4 == NULL ) hl_null_access();
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r10 = StringBuf_toString(r16);
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r10));
	r0->buf = r8;
	hxsl_HlslOut_initLocals(r0);
	r4 = r0->decls;
	if( r4 == NULL ) hl_null_access();
	r16 = r0->buf;
	if( r16 == NULL ) hl_null_access();
	r10 = StringBuf_toString(r16);
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r10));
	r16 = NULL;
	r0->buf = r16;
	r4 = r0->decls;
	if( r4 == NULL ) hl_null_access();
	r10 = (String)global$205;
	r10 = hl_types_ArrayObj_join(r4,r10);
	return r10;
}

void hxsl_HlslOut_new(hxsl__HlslOut r0) {
	String r2;
	haxe__ds__StringMap r5;
	haxe__ds__IntMap r3;
	int r1;
	r1 = 0;
	r0->exprIds = r1;
	r2 = (String)global$1441;
	r0->STATIC = r2;
	r2 = (String)global$1442;
	r0->SV_InstanceID = r2;
	r2 = (String)global$1443;
	r0->SV_VertexID = r2;
	r2 = (String)global$1444;
	r0->SV_TARGET = r2;
	r2 = (String)global$1445;
	r0->SV_POSITION = r2;
	r3 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r3);
	r0->varNames = r3;
	r5 = (haxe__ds__StringMap)hl_alloc_obj(haxe__ds__StringMap__val);
	haxe_ds_StringMap_new(r5);
	r0->allNames = r5;
	return;
}

String hxsl_HlslOut_semanticName(String r0) {
	String r2, r5;
	vdynamic *r4;
	int r1, r3;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r3 = 0;
	if( r1 == r3 ) goto label$2669$18;
	r1 = r0->length;
	r3 = 1;
	r1 = r1 - r3;
	r4 = String_charCodeAt(r0,r1);
	r1 = r4 ? r4->v.i : 0;
	r3 = 48;
	if( r1 < r3 ) goto label$2669$21;
	r1 = r0->length;
	r3 = 1;
	r1 = r1 - r3;
	r4 = String_charCodeAt(r0,r1);
	r1 = r4 ? r4->v.i : 0;
	r3 = 57;
	if( r3 < r1 ) goto label$2669$21;
	label$2669$18:
	r5 = (String)global$1228;
	r2 = String___add__(r0,r5);
	r0 = r2;
	label$2669$21:
	return r0;
}

