// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

h2d__col__Bounds h2d_Object_getBounds(h2d__Object r0,h2d__Object r1,h2d__col__Bounds r2) {
	h2d__col__Bounds r4;
	bool r6;
	double r5, r7, r9, r10;
	int r8;
	if( r2 ) goto label$627$5;
	r4 = (h2d__col__Bounds)hl_alloc_obj(h2d__col__Bounds__val);
	h2d_col_Bounds_new(r4);
	r2 = r4;
	goto label$627$14;
	label$627$5:
	if( r2 == NULL ) hl_null_access();
	r5 = 1e+020;
	r2->xMin = r5;
	r5 = 1e+020;
	r2->yMin = r5;
	r5 = -1e+020;
	r2->xMax = r5;
	r5 = -1e+020;
	r2->yMax = r5;
	label$627$14:
	if( !r1 ) goto label$627$17;
	if( r1 == NULL ) hl_null_access();
	h2d_Object_syncPos(r1);
	label$627$17:
	if( r1 == r0 ) goto label$627$19;
	h2d_Object_syncPos(r0);
	label$627$19:
	r6 = false;
	((void (*)(h2d__Object,h2d__Object,h2d__col__Bounds,bool))r0->$type->vobj_proto[0])(r0,r1,r2,r6);
	r5 = r2->xMax;
	r7 = r2->xMin;
	if( r7 >= r5 ) goto label$627$27;
	r5 = r2->yMax;
	r7 = r2->yMin;
	if( !(r7 >= r5) ) goto label$627$50;
	label$627$27:
	r8 = -1;
	r5 = (double)r8;
	r8 = -1;
	r7 = (double)r8;
	r8 = 2;
	r9 = (double)r8;
	r8 = 2;
	r10 = (double)r8;
	h2d_Object_addBounds(r0,r1,r2,r5,r7,r9,r10);
	r5 = r2->xMax;
	r7 = r2->xMin;
	r5 = r5 + r7;
	r7 = 0.5;
	r5 = r5 * r7;
	r2->xMin = r5;
	r2->xMax = r5;
	r5 = r2->yMax;
	r7 = r2->yMin;
	r5 = r5 + r7;
	r7 = 0.5;
	r5 = r5 * r7;
	r2->yMin = r5;
	r2->yMax = r5;
	label$627$50:
	return r2;
}

h2d__col__Bounds h2d_Object_getSize(h2d__Object r0,h2d__col__Bounds r1) {
	h2d__col__Bounds r3;
	bool r6;
	h2d__Object r5;
	double r4, r7, r9, r10;
	int r8;
	if( r1 ) goto label$628$5;
	r3 = (h2d__col__Bounds)hl_alloc_obj(h2d__col__Bounds__val);
	h2d_col_Bounds_new(r3);
	r1 = r3;
	goto label$628$14;
	label$628$5:
	if( r1 == NULL ) hl_null_access();
	r4 = 1e+020;
	r1->xMin = r4;
	r4 = 1e+020;
	r1->yMin = r4;
	r4 = -1e+020;
	r1->xMax = r4;
	r4 = -1e+020;
	r1->yMax = r4;
	label$628$14:
	h2d_Object_syncPos(r0);
	r5 = r0->parent;
	r6 = true;
	((void (*)(h2d__Object,h2d__Object,h2d__col__Bounds,bool))r0->$type->vobj_proto[0])(r0,r5,r1,r6);
	r4 = r1->xMax;
	r7 = r1->xMin;
	if( r7 >= r4 ) goto label$628$24;
	r4 = r1->yMax;
	r7 = r1->yMin;
	if( !(r7 >= r4) ) goto label$628$48;
	label$628$24:
	r5 = r0->parent;
	r8 = -1;
	r4 = (double)r8;
	r8 = -1;
	r7 = (double)r8;
	r8 = 2;
	r9 = (double)r8;
	r8 = 2;
	r10 = (double)r8;
	h2d_Object_addBounds(r0,r5,r1,r4,r7,r9,r10);
	r4 = r1->xMax;
	r7 = r1->xMin;
	r4 = r4 + r7;
	r7 = 0.5;
	r4 = r4 * r7;
	r1->xMin = r4;
	r1->xMax = r4;
	r4 = r1->yMax;
	r7 = r1->yMin;
	r4 = r4 + r7;
	r7 = 0.5;
	r4 = r4 * r7;
	r1->yMin = r4;
	r1->yMax = r4;
	label$628$48:
	r4 = r0->x;
	r4 = -r4;
	r7 = r0->y;
	r7 = -r7;
	r9 = r1->xMin;
	r9 = r9 + r4;
	r1->xMin = r9;
	r9 = r1->xMax;
	r9 = r9 + r4;
	r1->xMax = r9;
	r9 = r1->yMin;
	r9 = r9 + r7;
	r1->yMin = r9;
	r9 = r1->yMax;
	r9 = r9 + r7;
	r1->yMax = r9;
	return r1;
}

vdynamic* h2d_Object_find(h2d__Object r0,vclosure* r1) {
	hl__types__ArrayObj r5;
	h2d__Object r8;
	vdynamic *r2, *r3;
	varray *r9;
	int r4, r6, r7;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->hasValue ? ((vdynamic* (*)(vdynamic*,h2d__Object))r1->fun)((vdynamic*)r1->value,r0) : ((vdynamic* (*)(h2d__Object))r1->fun)(r0);
	if( !r2 ) goto label$629$4;
	return r2;
	label$629$4:
	r4 = 0;
	r5 = r0->children;
	label$629$6:
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	if( r4 >= r7 ) goto label$629$24;
	r6 = r4;
	++r4;
	r7 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$629$16;
	r8 = NULL;
	goto label$629$19;
	label$629$16:
	r9 = r5->array;
	r3 = ((vdynamic**)(r9 + 1))[r6];
	r8 = (h2d__Object)r3;
	label$629$19:
	if( r8 == NULL ) hl_null_access();
	r3 = h2d_Object_find(r8,r1);
	if( !r3 ) goto label$629$23;
	return r3;
	label$629$23:
	goto label$629$6;
	label$629$24:
	r3 = NULL;
	return r3;
}

hl__types__ArrayDyn h2d_Object_findAll(h2d__Object r0,vclosure* r1,hl__types__ArrayDyn r2) {
	bool *r9;
	hl__types__ArrayObj r7;
	hl_type *r5;
	bool r8;
	h2d__Object r14;
	hl__types__ArrayDyn r3;
	vdynamic *r10, *r11;
	int r6, r12, r13;
	varray *r4;
	if( r2 ) goto label$630$9;
	r5 = &type$9;
	r6 = 0;
	r4 = hl_alloc_array(r5,r6);
	r7 = hl_types_ArrayObj_alloc(r4);
	r8 = true;
	r9 = &r8;
	r3 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r7),r9);
	r2 = r3;
	label$630$9:
	if( r1 == NULL ) hl_null_access();
	r10 = r1->hasValue ? ((vdynamic* (*)(vdynamic*,h2d__Object))r1->fun)((vdynamic*)r1->value,r0) : ((vdynamic* (*)(h2d__Object))r1->fun)(r0);
	if( !r10 ) goto label$630$14;
	if( r2 == NULL ) hl_null_access();
	r6 = hl_types_ArrayDyn_push(r2,r10);
	label$630$14:
	r6 = 0;
	r7 = r0->children;
	label$630$16:
	if( r7 == NULL ) hl_null_access();
	r13 = r7->length;
	if( r6 >= r13 ) goto label$630$32;
	r12 = r6;
	++r6;
	r13 = r7->length;
	if( ((unsigned)r12) < ((unsigned)r13) ) goto label$630$26;
	r14 = NULL;
	goto label$630$29;
	label$630$26:
	r4 = r7->array;
	r11 = ((vdynamic**)(r4 + 1))[r12];
	r14 = (h2d__Object)r11;
	label$630$29:
	if( r14 == NULL ) hl_null_access();
	r3 = h2d_Object_findAll(r14,r1,r2);
	goto label$630$16;
	label$630$32:
	return r2;
}

h2d__filter__Filter h2d_Object_set_filter(h2d__Object r0,h2d__filter__Filter r1) {
	h2d__filter__Filter r3;
	bool r2;
	r3 = r0->filter;
	if( !r3 ) goto label$631$6;
	r2 = r0->allocated;
	if( !r2 ) goto label$631$6;
	r2 = true;
	goto label$631$7;
	label$631$6:
	r2 = false;
	label$631$7:
	r0->filter = r1;
	if( !r1 ) goto label$631$13;
	r2 = r0->allocated;
	if( !r2 ) goto label$631$13;
	r2 = true;
	goto label$631$14;
	label$631$13:
	r2 = false;
	label$631$14:
	return r1;
}

void h2d_Object_getBoundsRec(h2d__Object r0,h2d__Object r1,h2d__col__Bounds r2,bool r3) {
	hl__types__ArrayObj r7;
	bool r5;
	h2d__Object r10;
	$Math r14;
	double r13, r15, r16, r17, r19;
	vdynamic *r11;
	varray *r12;
	int r6, r8, r9, r18;
	r5 = r0->posChanged;
	if( !r5 ) goto label$632$24;
	h2d_Object_calcAbsPos(r0);
	r6 = 0;
	r7 = r0->children;
	label$632$5:
	if( r7 == NULL ) hl_null_access();
	r9 = r7->length;
	if( r6 >= r9 ) goto label$632$22;
	r8 = r6;
	++r6;
	r9 = r7->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$632$15;
	r10 = NULL;
	goto label$632$18;
	label$632$15:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (h2d__Object)r11;
	label$632$18:
	if( r10 == NULL ) hl_null_access();
	r5 = true;
	r10->posChanged = r5;
	goto label$632$5;
	label$632$22:
	r5 = false;
	r0->posChanged = r5;
	label$632$24:
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->length;
	r9 = 0;
	if( r6 != r9 ) goto label$632$39;
	if( r2 == NULL ) hl_null_access();
	r13 = 1e+020;
	r2->xMin = r13;
	r13 = 1e+020;
	r2->yMin = r13;
	r13 = -1e+020;
	r2->xMax = r13;
	r13 = -1e+020;
	r2->yMax = r13;
	return;
	label$632$39:
	r9 = 1;
	if( r6 != r9 ) goto label$632$66;
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r9 = r7->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$632$48;
	r10 = NULL;
	goto label$632$51;
	label$632$48:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (h2d__Object)r11;
	label$632$51:
	if( r10 == NULL ) hl_null_access();
	r5 = r10->visible;
	if( !r5 ) goto label$632$56;
	((void (*)(h2d__Object,h2d__Object,h2d__col__Bounds,bool))r10->$type->vobj_proto[0])(r10,r1,r2,r3);
	goto label$632$65;
	label$632$56:
	if( r2 == NULL ) hl_null_access();
	r13 = 1e+020;
	r2->xMin = r13;
	r13 = 1e+020;
	r2->yMin = r13;
	r13 = -1e+020;
	r2->xMax = r13;
	r13 = -1e+020;
	r2->yMax = r13;
	label$632$65:
	return;
	label$632$66:
	r14 = ($Math)global$168;
	r13 = r14->POSITIVE_INFINITY;
	r14 = ($Math)global$168;
	r15 = r14->POSITIVE_INFINITY;
	r14 = ($Math)global$168;
	r16 = r14->NEGATIVE_INFINITY;
	r14 = ($Math)global$168;
	r17 = r14->NEGATIVE_INFINITY;
	r8 = 0;
	r7 = r0->children;
	label$632$76:
	if( r7 == NULL ) hl_null_access();
	r18 = r7->length;
	if( r8 >= r18 ) goto label$632$111;
	r18 = r7->length;
	if( ((unsigned)r8) < ((unsigned)r18) ) goto label$632$84;
	r10 = NULL;
	goto label$632$87;
	label$632$84:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (h2d__Object)r11;
	label$632$87:
	++r8;
	if( r10 == NULL ) hl_null_access();
	r5 = r10->visible;
	if( r5 ) goto label$632$92;
	goto label$632$76;
	label$632$92:
	((void (*)(h2d__Object,h2d__Object,h2d__col__Bounds,bool))r10->$type->vobj_proto[0])(r10,r1,r2,r3);
	if( r2 == NULL ) hl_null_access();
	r19 = r2->xMin;
	if( !(r19 < r13) ) goto label$632$98;
	r19 = r2->xMin;
	r13 = r19;
	label$632$98:
	r19 = r2->yMin;
	if( !(r19 < r15) ) goto label$632$102;
	r19 = r2->yMin;
	r15 = r19;
	label$632$102:
	r19 = r2->xMax;
	if( !(r16 < r19) ) goto label$632$106;
	r19 = r2->xMax;
	r16 = r19;
	label$632$106:
	r19 = r2->yMax;
	if( !(r17 < r19) ) goto label$632$110;
	r19 = r2->yMax;
	r17 = r19;
	label$632$110:
	goto label$632$76;
	label$632$111:
	if( r2 == NULL ) hl_null_access();
	r2->xMin = r13;
	r2->yMin = r15;
	r2->xMax = r16;
	r2->yMax = r17;
	return;
}

void h2d_Object_addBounds(h2d__Object r0,h2d__Object r1,h2d__col__Bounds r2,double r3,double r4,double r5,double r6) {
	double r8, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22;
	int r9;
	r9 = 0;
	r10 = (double)r9;
	if( r10 >= r5 ) goto label$633$6;
	r9 = 0;
	r10 = (double)r9;
	if( !(r10 >= r6) ) goto label$633$7;
	label$633$6:
	return;
	label$633$7:
	if( r1 ) goto label$633$122;
	r10 = r0->matA;
	r8 = r3 * r10;
	r11 = r0->matC;
	r10 = r4 * r11;
	r8 = r8 + r10;
	r10 = r0->absX;
	r8 = r8 + r10;
	r11 = r0->matB;
	r10 = r3 * r11;
	r12 = r0->matD;
	r11 = r4 * r12;
	r10 = r10 + r11;
	r11 = r0->absY;
	r10 = r10 + r11;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->xMin;
	if( !(r8 < r12) ) goto label$633$26;
	r2->xMin = r8;
	label$633$26:
	r12 = r2->xMax;
	if( !(r12 < r8) ) goto label$633$29;
	r2->xMax = r8;
	label$633$29:
	r12 = r2->yMin;
	if( !(r10 < r12) ) goto label$633$32;
	r2->yMin = r10;
	label$633$32:
	r12 = r2->yMax;
	if( !(r12 < r10) ) goto label$633$35;
	r2->yMax = r10;
	label$633$35:
	r8 = r3 + r5;
	r10 = r0->matA;
	r8 = r8 * r10;
	r11 = r0->matC;
	r10 = r4 * r11;
	r8 = r8 + r10;
	r10 = r0->absX;
	r8 = r8 + r10;
	r10 = r3 + r5;
	r11 = r0->matB;
	r10 = r10 * r11;
	r12 = r0->matD;
	r11 = r4 * r12;
	r10 = r10 + r11;
	r11 = r0->absY;
	r10 = r10 + r11;
	r12 = r2->xMin;
	if( !(r8 < r12) ) goto label$633$54;
	r2->xMin = r8;
	label$633$54:
	r12 = r2->xMax;
	if( !(r12 < r8) ) goto label$633$57;
	r2->xMax = r8;
	label$633$57:
	r12 = r2->yMin;
	if( !(r10 < r12) ) goto label$633$60;
	r2->yMin = r10;
	label$633$60:
	r12 = r2->yMax;
	if( !(r12 < r10) ) goto label$633$63;
	r2->yMax = r10;
	label$633$63:
	r10 = r0->matA;
	r8 = r3 * r10;
	r10 = r4 + r6;
	r11 = r0->matC;
	r10 = r10 * r11;
	r8 = r8 + r10;
	r10 = r0->absX;
	r8 = r8 + r10;
	r11 = r0->matB;
	r10 = r3 * r11;
	r11 = r4 + r6;
	r12 = r0->matD;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r11 = r0->absY;
	r10 = r10 + r11;
	r12 = r2->xMin;
	if( !(r8 < r12) ) goto label$633$82;
	r2->xMin = r8;
	label$633$82:
	r12 = r2->xMax;
	if( !(r12 < r8) ) goto label$633$85;
	r2->xMax = r8;
	label$633$85:
	r12 = r2->yMin;
	if( !(r10 < r12) ) goto label$633$88;
	r2->yMin = r10;
	label$633$88:
	r12 = r2->yMax;
	if( !(r12 < r10) ) goto label$633$91;
	r2->yMax = r10;
	label$633$91:
	r8 = r3 + r5;
	r10 = r0->matA;
	r8 = r8 * r10;
	r10 = r4 + r6;
	r11 = r0->matC;
	r10 = r10 * r11;
	r8 = r8 + r10;
	r10 = r0->absX;
	r8 = r8 + r10;
	r10 = r3 + r5;
	r11 = r0->matB;
	r10 = r10 * r11;
	r11 = r4 + r6;
	r12 = r0->matD;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r11 = r0->absY;
	r10 = r10 + r11;
	r12 = r2->xMin;
	if( !(r8 < r12) ) goto label$633$112;
	r2->xMin = r8;
	label$633$112:
	r12 = r2->xMax;
	if( !(r12 < r8) ) goto label$633$115;
	r2->xMax = r8;
	label$633$115:
	r12 = r2->yMin;
	if( !(r10 < r12) ) goto label$633$118;
	r2->yMin = r10;
	label$633$118:
	r12 = r2->yMax;
	if( !(r12 < r10) ) goto label$633$121;
	r2->yMax = r10;
	label$633$121:
	return;
	label$633$122:
	if( r1 != r0 ) goto label$633$141;
	if( r2 == NULL ) hl_null_access();
	r8 = r2->xMin;
	if( !(r3 < r8) ) goto label$633$127;
	r2->xMin = r3;
	label$633$127:
	r8 = r2->yMin;
	if( !(r4 < r8) ) goto label$633$130;
	r2->yMin = r4;
	label$633$130:
	r8 = r2->xMax;
	r10 = r3 + r5;
	if( !(r8 < r10) ) goto label$633$135;
	r8 = r3 + r5;
	r2->xMax = r8;
	label$633$135:
	r8 = r2->yMax;
	r10 = r4 + r6;
	if( !(r8 < r10) ) goto label$633$140;
	r8 = r4 + r6;
	r2->yMax = r8;
	label$633$140:
	return;
	label$633$141:
	if( r1 == NULL ) hl_null_access();
	r8 = r1->matA;
	r10 = r1->matD;
	r8 = r8 * r10;
	r10 = r1->matB;
	r11 = r1->matC;
	r10 = r10 * r11;
	r8 = r8 - r10;
	r9 = 0;
	r11 = (double)r9;
	if( r8 != r11 ) goto label$633$153;
	return;
	label$633$153:
	r9 = 1;
	r10 = (double)r9;
	r10 = r10 / r8;
	r11 = r1->matD;
	r11 = r11 * r10;
	r12 = r1->matB;
	r12 = -r12;
	r12 = r12 * r10;
	r13 = r1->matC;
	r13 = -r13;
	r13 = r13 * r10;
	r14 = r1->matA;
	r14 = r14 * r10;
	r15 = r0->absX;
	r16 = r1->absX;
	r15 = r15 - r16;
	r16 = r0->absY;
	r17 = r1->absY;
	r16 = r16 - r17;
	r18 = r0->matA;
	r17 = r3 * r18;
	r19 = r0->matC;
	r18 = r4 * r19;
	r17 = r17 + r18;
	r17 = r17 + r15;
	r19 = r0->matB;
	r18 = r3 * r19;
	r20 = r0->matD;
	r19 = r4 * r20;
	r18 = r18 + r19;
	r18 = r18 + r16;
	r19 = r17 * r11;
	r20 = r18 * r13;
	r19 = r19 + r20;
	r20 = r17 * r12;
	r21 = r18 * r14;
	r20 = r20 + r21;
	if( r2 == NULL ) hl_null_access();
	r22 = r2->xMin;
	if( !(r19 < r22) ) goto label$633$194;
	r2->xMin = r19;
	label$633$194:
	r22 = r2->xMax;
	if( !(r22 < r19) ) goto label$633$197;
	r2->xMax = r19;
	label$633$197:
	r22 = r2->yMin;
	if( !(r20 < r22) ) goto label$633$200;
	r2->yMin = r20;
	label$633$200:
	r22 = r2->yMax;
	if( !(r22 < r20) ) goto label$633$203;
	r2->yMax = r20;
	label$633$203:
	r19 = r3 + r5;
	r20 = r0->matA;
	r19 = r19 * r20;
	r21 = r0->matC;
	r20 = r4 * r21;
	r19 = r19 + r20;
	r19 = r19 + r15;
	r17 = r19;
	r19 = r3 + r5;
	r20 = r0->matB;
	r19 = r19 * r20;
	r21 = r0->matD;
	r20 = r4 * r21;
	r19 = r19 + r20;
	r19 = r19 + r16;
	r18 = r19;
	r19 = r17 * r11;
	r20 = r18 * r13;
	r19 = r19 + r20;
	r20 = r17 * r12;
	r21 = r18 * r14;
	r20 = r20 + r21;
	r22 = r2->xMin;
	if( !(r19 < r22) ) goto label$633$228;
	r2->xMin = r19;
	label$633$228:
	r22 = r2->xMax;
	if( !(r22 < r19) ) goto label$633$231;
	r2->xMax = r19;
	label$633$231:
	r22 = r2->yMin;
	if( !(r20 < r22) ) goto label$633$234;
	r2->yMin = r20;
	label$633$234:
	r22 = r2->yMax;
	if( !(r22 < r20) ) goto label$633$237;
	r2->yMax = r20;
	label$633$237:
	r20 = r0->matA;
	r19 = r3 * r20;
	r20 = r4 + r6;
	r21 = r0->matC;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r19 = r19 + r15;
	r17 = r19;
	r20 = r0->matB;
	r19 = r3 * r20;
	r20 = r4 + r6;
	r21 = r0->matD;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r19 = r19 + r16;
	r18 = r19;
	r19 = r17 * r11;
	r20 = r18 * r13;
	r19 = r19 + r20;
	r20 = r17 * r12;
	r21 = r18 * r14;
	r20 = r20 + r21;
	r22 = r2->xMin;
	if( !(r19 < r22) ) goto label$633$262;
	r2->xMin = r19;
	label$633$262:
	r22 = r2->xMax;
	if( !(r22 < r19) ) goto label$633$265;
	r2->xMax = r19;
	label$633$265:
	r22 = r2->yMin;
	if( !(r20 < r22) ) goto label$633$268;
	r2->yMin = r20;
	label$633$268:
	r22 = r2->yMax;
	if( !(r22 < r20) ) goto label$633$271;
	r2->yMax = r20;
	label$633$271:
	r19 = r3 + r5;
	r20 = r0->matA;
	r19 = r19 * r20;
	r20 = r4 + r6;
	r21 = r0->matC;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r19 = r19 + r15;
	r17 = r19;
	r19 = r3 + r5;
	r20 = r0->matB;
	r19 = r19 * r20;
	r20 = r4 + r6;
	r21 = r0->matD;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r19 = r19 + r16;
	r18 = r19;
	r19 = r17 * r11;
	r20 = r18 * r13;
	r19 = r19 + r20;
	r20 = r17 * r12;
	r21 = r18 * r14;
	r20 = r20 + r21;
	r22 = r2->xMin;
	if( !(r19 < r22) ) goto label$633$298;
	r2->xMin = r19;
	label$633$298:
	r22 = r2->xMax;
	if( !(r22 < r19) ) goto label$633$301;
	r2->xMax = r19;
	label$633$301:
	r22 = r2->yMin;
	if( !(r20 < r22) ) goto label$633$304;
	r2->yMin = r20;
	label$633$304:
	r22 = r2->yMax;
	if( !(r22 < r20) ) goto label$633$307;
	r2->yMax = r20;
	label$633$307:
	return;
}

int h2d_Object_getObjectsCount(h2d__Object r0) {
	hl__types__ArrayObj r3;
	h2d__Object r7;
	vdynamic *r8;
	varray *r9;
	int r1, r2, r4, r5, r6;
	r1 = 0;
	r2 = 0;
	r3 = r0->children;
	label$634$3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 >= r5 ) goto label$634$23;
	r5 = r2;
	++r2;
	r6 = r3->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$634$13;
	r7 = NULL;
	goto label$634$16;
	label$634$13:
	r9 = r3->array;
	r8 = ((vdynamic**)(r9 + 1))[r5];
	r7 = (h2d__Object)r8;
	label$634$16:
	if( r7 == NULL ) hl_null_access();
	r5 = h2d_Object_getObjectsCount(r7);
	r6 = 1;
	r5 = r5 + r6;
	r4 = r1 + r5;
	r1 = r4;
	goto label$634$3;
	label$634$23:
	return r1;
}

h2d__col__Point h2d_Object_localToGlobal(h2d__Object r0,h2d__col__Point r1) {
	h2d__col__Point r3;
	double r6, r7, r8, r9;
	double *r4, *r5;
	h2d_Object_syncPos(r0);
	if( r1 ) goto label$635$7;
	r3 = (h2d__col__Point)hl_alloc_obj(h2d__col__Point__val);
	r4 = NULL;
	r5 = NULL;
	h2d_col_Point_new(r3,r4,r5);
	r1 = r3;
	label$635$7:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r7 = r0->matB;
	r6 = r6 * r7;
	r7 = r1->y;
	r8 = r0->matD;
	r7 = r7 * r8;
	r6 = r6 + r7;
	r7 = r0->absY;
	r6 = r6 + r7;
	r7 = r1->x;
	r8 = r0->matA;
	r7 = r7 * r8;
	r8 = r1->y;
	r9 = r0->matC;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = r0->absX;
	r7 = r7 + r8;
	r1->x = r7;
	r1->y = r6;
	return r1;
}

h2d__col__Point h2d_Object_globalToLocal(h2d__Object r0,h2d__col__Point r1) {
	double r3, r4, r6, r7, r8;
	int r5;
	h2d_Object_syncPos(r0);
	if( r1 == NULL ) hl_null_access();
	r3 = r1->x;
	r4 = r0->absX;
	r3 = r3 - r4;
	r1->x = r3;
	r3 = r1->y;
	r4 = r0->absY;
	r3 = r3 - r4;
	r1->y = r3;
	r5 = 1;
	r3 = (double)r5;
	r4 = r0->matA;
	r6 = r0->matD;
	r4 = r4 * r6;
	r6 = r0->matB;
	r7 = r0->matC;
	r6 = r6 * r7;
	r4 = r4 - r6;
	r3 = r3 / r4;
	r4 = r1->x;
	r4 = -r4;
	r6 = r0->matB;
	r4 = r4 * r6;
	r6 = r1->y;
	r7 = r0->matA;
	r6 = r6 * r7;
	r4 = r4 + r6;
	r4 = r4 * r3;
	r6 = r1->x;
	r7 = r0->matD;
	r6 = r6 * r7;
	r7 = r1->y;
	r8 = r0->matC;
	r7 = r7 * r8;
	r6 = r6 - r7;
	r6 = r6 * r3;
	r1->x = r6;
	r1->y = r4;
	return r1;
}

h2d__Scene h2d_Object_getScene(h2d__Object r0) {
	bool r5;
	h2d__Object r1, r2;
	h2d__$Scene r3;
	h2d__Scene r4;
	r1 = r0;
	label$637$1:
	if( r1 == NULL ) hl_null_access();
	r2 = r1->parent;
	if( !r2 ) goto label$637$8;
	r2 = r1->parent;
	r1 = r2;
	goto label$637$1;
	label$637$8:
	r3 = (h2d__$Scene)global$96;
	r5 = hl_BaseType_check(((hl__BaseType)r3),((vdynamic*)r1));
	if( !r5 ) goto label$637$13;
	r4 = (h2d__Scene)r1;
	goto label$637$14;
	label$637$13:
	r4 = NULL;
	label$637$14:
	return r4;
}

bool h2d_Object_set_visible(h2d__Object r0,bool r1) {
	bool r2;
	r2 = r0->visible;
	if( r2 != r1 ) goto label$638$3;
	return r1;
	label$638$3:
	r0->visible = r1;
	return r1;
}

void h2d_Object_addChild(h2d__Object r0,h2d__Object r1) {
	hl__types__ArrayObj r4;
	int r3;
	r4 = r0->children;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	((void (*)(h2d__Object,h2d__Object,int))r0->$type->vobj_proto[2])(r0,r1,r3);
	return;
}

void h2d_Object_addChildAt(h2d__Object r0,h2d__Object r1,int r2) {
	String r10;
	hl__types__ArrayObj r6;
	bool r11, r12;
	h2d__Object r7, r8, r9;
	int r4, r5;
	r5 = 0;
	if( r2 >= r5 ) goto label$640$4;
	r4 = 0;
	r2 = r4;
	label$640$4:
	r6 = r0->children;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	if( r5 >= r2 ) goto label$640$12;
	r6 = r0->children;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r2 = r4;
	label$640$12:
	r7 = r0;
	label$640$13:
	if( !r7 ) goto label$640$22;
	if( r7 != r1 ) goto label$640$18;
	r10 = (String)global$391;
	hl_throw((vdynamic*)r10);
	label$640$18:
	if( r7 == NULL ) hl_null_access();
	r8 = r7->parent;
	r7 = r8;
	goto label$640$13;
	label$640$22:
	if( r1 == NULL ) hl_null_access();
	r8 = r1->parent;
	if( !r8 ) goto label$640$32;
	r11 = r1->allocated;
	r12 = false;
	r1->allocated = r12;
	r8 = r1->parent;
	if( r8 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__Object))r8->$type->vobj_proto[6])(r8,r1);
	r1->allocated = r11;
	label$640$32:
	r6 = r0->children;
	if( r6 == NULL ) hl_null_access();
	hl_types_ArrayObj_insert(r6,r2,((vdynamic*)r1));
	r11 = r0->allocated;
	if( r11 ) goto label$640$40;
	r11 = r1->allocated;
	if( !r11 ) goto label$640$40;
	((void (*)(h2d__Object))r1->$type->vobj_proto[5])(r1);
	label$640$40:
	r1->parent = r0;
	r9 = r0->parentContainer;
	r1->parentContainer = r9;
	r11 = true;
	r1->posChanged = r11;
	r11 = r0->allocated;
	if( !r11 ) goto label$640$52;
	r11 = r1->allocated;
	if( r11 ) goto label$640$51;
	((void (*)(h2d__Object))r1->$type->vobj_proto[4])(r1);
	goto label$640$52;
	label$640$51:
	((void (*)(h2d__Object))r1->$type->vobj_proto[3])(r1);
	label$640$52:
	return;
}

void h2d_Object_onContentChanged(h2d__Object r0) {
	return;
}

void h2d_Object_onParentChanged(h2d__Object r0) {
	hl__types__ArrayObj r3;
	h2d__Object r6;
	vdynamic *r7;
	varray *r8;
	int r1, r4, r5;
	r1 = 0;
	r3 = r0->children;
	label$642$2:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r1 >= r5 ) goto label$642$18;
	r4 = r1;
	++r1;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$642$12;
	r6 = NULL;
	goto label$642$15;
	label$642$12:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r6 = (h2d__Object)r7;
	label$642$15:
	if( r6 == NULL ) hl_null_access();
	((void (*)(h2d__Object))r6->$type->vobj_proto[3])(r6);
	goto label$642$2;
	label$642$18:
	return;
}

void h2d_Object_onAdd(h2d__Object r0) {
	hl__types__ArrayObj r4;
	bool r1;
	h2d__Object r7;
	vdynamic *r8;
	varray *r9;
	int r2, r5, r6;
	r1 = true;
	r0->allocated = r1;
	r2 = 0;
	r4 = r0->children;
	label$643$4:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r2 >= r6 ) goto label$643$20;
	r5 = r2;
	++r2;
	r6 = r4->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$643$14;
	r7 = NULL;
	goto label$643$17;
	label$643$14:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r5];
	r7 = (h2d__Object)r8;
	label$643$17:
	if( r7 == NULL ) hl_null_access();
	((void (*)(h2d__Object))r7->$type->vobj_proto[4])(r7);
	goto label$643$4;
	label$643$20:
	return;
}

void h2d_Object_onRemove(h2d__Object r0) {
	hl__types__ArrayObj r4;
	bool r1;
	h2d__Object r7;
	vdynamic *r8;
	varray *r9;
	int r2, r5, r6;
	r1 = false;
	r0->allocated = r1;
	r2 = 0;
	r4 = r0->children;
	label$644$4:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r2 >= r6 ) goto label$644$20;
	r5 = r2;
	++r2;
	r6 = r4->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$644$14;
	r7 = NULL;
	goto label$644$17;
	label$644$14:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r5];
	r7 = (h2d__Object)r8;
	label$644$17:
	if( r7 == NULL ) hl_null_access();
	((void (*)(h2d__Object))r7->$type->vobj_proto[5])(r7);
	goto label$644$4;
	label$644$20:
	return;
}

void h2d_Object_getMatrix(h2d__Object r0,h2d__col__Matrix r1) {
	double r2;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->matA;
	r1->a = r2;
	r2 = r0->matB;
	r1->b = r2;
	r2 = r0->matC;
	r1->c = r2;
	r2 = r0->matD;
	r1->d = r2;
	r2 = r0->absX;
	r1->x = r2;
	r2 = r0->absY;
	r1->y = r2;
	return;
}

void h2d_Object_removeChild(h2d__Object r0,h2d__Object r1) {
	hl__types__ArrayObj r4;
	bool r3;
	h2d__Object r5, r6;
	r4 = r0->children;
	if( r4 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_remove(r4,((vdynamic*)r1));
	if( !r3 ) goto label$646$16;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->allocated;
	if( !r3 ) goto label$646$8;
	((void (*)(h2d__Object))r1->$type->vobj_proto[5])(r1);
	label$646$8:
	r6 = NULL;
	r1->parent = r6;
	r5 = r1->parentContainer;
	if( !r5 ) goto label$646$14;
	r6 = NULL;
	h2d_Object_setParentContainer(r1,r6);
	label$646$14:
	r3 = true;
	r1->posChanged = r3;
	label$646$16:
	return;
}

void h2d_Object_setParentContainer(h2d__Object r0,h2d__Object r1) {
	hl__types__ArrayObj r5;
	h2d__Object r2;
	vdynamic *r8;
	varray *r9;
	int r3, r6, r7;
	r0->parentContainer = r1;
	r3 = 0;
	r5 = r0->children;
	label$647$3:
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	if( r3 >= r7 ) goto label$647$19;
	r6 = r3;
	++r3;
	r7 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$647$13;
	r2 = NULL;
	goto label$647$16;
	label$647$13:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r6];
	r2 = (h2d__Object)r8;
	label$647$16:
	if( r2 == NULL ) hl_null_access();
	h2d_Object_setParentContainer(r2,r1);
	goto label$647$3;
	label$647$19:
	return;
}

void h2d_Object_removeChildren(h2d__Object r0) {
	hl__types__ArrayObj r2;
	h2d__Object r5;
	vdynamic *r6;
	varray *r7;
	int r1, r3;
	label$648$0:
	r2 = r0->children;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->length;
	r3 = 0;
	if( r3 >= r1 ) goto label$648$18;
	r2 = r0->children;
	if( r2 == NULL ) hl_null_access();
	r1 = 0;
	r3 = r2->length;
	if( ((unsigned)r1) < ((unsigned)r3) ) goto label$648$13;
	r5 = NULL;
	goto label$648$16;
	label$648$13:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r5 = (h2d__Object)r6;
	label$648$16:
	((void (*)(h2d__Object,h2d__Object))r0->$type->vobj_proto[6])(r0,r5);
	goto label$648$0;
	label$648$18:
	return;
}

void h2d_Object_remove(h2d__Object r0) {
	h2d__Object r2;
	r2 = r0->parent;
	if( !r2 ) goto label$649$5;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__Object))r2->$type->vobj_proto[6])(r2,r0);
	label$649$5:
	return;
}

void h2d_Object_drawTo(h2d__Object r0,h3d__mat__Texture r1) {
	bool r4;
	h2d__Scene r2, r5, r6;
	r2 = h2d_Object_getScene(r0);
	r6 = NULL;
	if( r2 == r6 ) goto label$650$5;
	r4 = false;
	goto label$650$6;
	label$650$5:
	r4 = true;
	label$650$6:
	if( r2 ) goto label$650$10;
	r5 = (h2d__Scene)hl_alloc_obj(h2d__Scene__val);
	h2d_Scene_new(r5);
	r2 = r5;
	label$650$10:
	if( r2 == NULL ) hl_null_access();
	h2d_Scene_drawImplTo(r2,r0,r1);
	if( !r4 ) goto label$650$14;
	h2d_Scene_dispose(r2);
	label$650$14:
	return;
}

void h2d_Object_draw(h2d__Object r0,h2d__RenderContext r1) {
	return;
}

void h2d_Object_sync(h2d__Object r0,h2d__RenderContext r1) {
	hl__types__ArrayObj r7;
	bool r2, r4;
	h2d__Object r10, r13;
	vdynamic *r11;
	varray *r12;
	int r5, r6, r8, r9;
	r2 = r0->posChanged;
	if( !r2 ) goto label$652$5;
	h2d_Object_calcAbsPos(r0);
	r4 = false;
	r0->posChanged = r4;
	label$652$5:
	if( r1 == NULL ) hl_null_access();
	r5 = r1->frame;
	r0->lastFrame = r5;
	r5 = 0;
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->length;
	label$652$12:
	if( r5 >= r6 ) goto label$652$53;
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->length;
	if( ((unsigned)r5) < ((unsigned)r9) ) goto label$652$20;
	r10 = NULL;
	goto label$652$23;
	label$652$20:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r5];
	r10 = (h2d__Object)r11;
	label$652$23:
	if( r10 ) goto label$652$25;
	goto label$652$53;
	label$652$25:
	if( r10 == NULL ) hl_null_access();
	r8 = r10->lastFrame;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->frame;
	if( r8 == r9 ) goto label$652$34;
	if( !r2 ) goto label$652$33;
	r4 = true;
	r10->posChanged = r4;
	label$652$33:
	((void (*)(h2d__Object,h2d__RenderContext))r10->$type->vobj_proto[8])(r10,r1);
	label$652$34:
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->length;
	if( ((unsigned)r5) < ((unsigned)r9) ) goto label$652$40;
	r13 = NULL;
	goto label$652$43;
	label$652$40:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r5];
	r13 = (h2d__Object)r11;
	label$652$43:
	if( r13 == r10 ) goto label$652$51;
	r8 = 0;
	r5 = r8;
	r7 = r0->children;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->length;
	r6 = r8;
	goto label$652$52;
	label$652$51:
	++r5;
	label$652$52:
	goto label$652$12;
	label$652$53:
	return;
}

void h2d_Object_syncPos(h2d__Object r0) {
	hl__types__ArrayObj r5;
	bool r3;
	h2d__Object r2;
	vdynamic *r8;
	varray *r9;
	int r4, r6, r7;
	r2 = r0->parent;
	if( !r2 ) goto label$653$5;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	h2d_Object_syncPos(r2);
	label$653$5:
	r3 = r0->posChanged;
	if( !r3 ) goto label$653$29;
	h2d_Object_calcAbsPos(r0);
	r4 = 0;
	r5 = r0->children;
	label$653$10:
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	if( r4 >= r7 ) goto label$653$27;
	r6 = r4;
	++r4;
	r7 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$653$20;
	r2 = NULL;
	goto label$653$23;
	label$653$20:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r6];
	r2 = (h2d__Object)r8;
	label$653$23:
	if( r2 == NULL ) hl_null_access();
	r3 = true;
	r2->posChanged = r3;
	goto label$653$10;
	label$653$27:
	r3 = false;
	r0->posChanged = r3;
	label$653$29:
	return;
}

void h2d_Object_calcAbsPos(h2d__Object r0) {
	h2d__Object r2;
	double r3, r5, r6, r7, r8, r9, r10, r11, r12;
	int r4;
	r2 = r0->parent;
	if( r2 ) goto label$654$43;
	r3 = r0->rotation;
	r4 = 0;
	r5 = (double)r4;
	if( r3 != r5 ) goto label$654$19;
	r5 = 1.;
	r6 = 0.;
	r6 = r0->scaleX;
	r0->matA = r6;
	r4 = 0;
	r6 = (double)r4;
	r0->matB = r6;
	r4 = 0;
	r6 = (double)r4;
	r0->matC = r6;
	r6 = r0->scaleY;
	r0->matD = r6;
	goto label$654$38;
	label$654$19:
	r6 = r0->rotation;
	r6 = hl_math_cos(r6);
	r3 = r6;
	r6 = r0->rotation;
	r6 = hl_math_sin(r6);
	r5 = r6;
	r6 = r0->scaleX;
	r6 = r6 * r3;
	r0->matA = r6;
	r6 = r0->scaleX;
	r6 = r6 * r5;
	r0->matB = r6;
	r6 = r0->scaleY;
	r7 = -r5;
	r6 = r6 * r7;
	r0->matC = r6;
	r6 = r0->scaleY;
	r6 = r6 * r3;
	r0->matD = r6;
	label$654$38:
	r6 = r0->x;
	r0->absX = r6;
	r6 = r0->y;
	r0->absY = r6;
	goto label$654$157;
	label$654$43:
	r3 = r0->rotation;
	r4 = 0;
	r5 = (double)r4;
	if( r3 != r5 ) goto label$654$72;
	r3 = r0->scaleX;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matA;
	r3 = r3 * r5;
	r0->matA = r3;
	r3 = r0->scaleX;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matB;
	r3 = r3 * r5;
	r0->matB = r3;
	r3 = r0->scaleY;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matC;
	r3 = r3 * r5;
	r0->matC = r3;
	r3 = r0->scaleY;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matD;
	r3 = r3 * r5;
	r0->matD = r3;
	goto label$654$125;
	label$654$72:
	r3 = r0->rotation;
	r3 = hl_math_cos(r3);
	r5 = r0->rotation;
	r5 = hl_math_sin(r5);
	r6 = r0->scaleX;
	r6 = r6 * r3;
	r7 = r0->scaleX;
	r7 = r7 * r5;
	r8 = r0->scaleY;
	r9 = -r5;
	r8 = r8 * r9;
	r9 = r0->scaleY;
	r9 = r9 * r3;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r11 = r2->matA;
	r10 = r6 * r11;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->matC;
	r11 = r7 * r12;
	r10 = r10 + r11;
	r0->matA = r10;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r11 = r2->matB;
	r10 = r6 * r11;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->matD;
	r11 = r7 * r12;
	r10 = r10 + r11;
	r0->matB = r10;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r11 = r2->matA;
	r10 = r8 * r11;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->matC;
	r11 = r9 * r12;
	r10 = r10 + r11;
	r0->matC = r10;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r11 = r2->matB;
	r10 = r8 * r11;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->matD;
	r11 = r9 * r12;
	r10 = r10 + r11;
	r0->matD = r10;
	label$654$125:
	r3 = r0->x;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matA;
	r3 = r3 * r5;
	r5 = r0->y;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->matC;
	r5 = r5 * r6;
	r3 = r3 + r5;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->absX;
	r3 = r3 + r5;
	r0->absX = r3;
	r3 = r0->x;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matB;
	r3 = r3 * r5;
	r5 = r0->y;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->matD;
	r5 = r5 * r6;
	r3 = r3 + r5;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->absY;
	r3 = r3 + r5;
	r0->absY = r3;
	label$654$157:
	return;
}

void h2d_Object_emitTile(h2d__Object r0,h2d__RenderContext r1,h2d__Tile r2) {
	h2d__Drawable r4;
	bool r8;
	h2d__Object r6;
	double r7;
	h2d__$Object r5;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 ) goto label$655$8;
	r4 = (h2d__Drawable)hl_alloc_obj(h2d__Drawable__val);
	r6 = NULL;
	h2d_Drawable_new(r4,r6);
	r5 = (h2d__$Object)global$42;
	r5->nullDrawable = r4;
	label$655$8:
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->absX;
	r4->absX = r7;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->absY;
	r4->absY = r7;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->matA;
	r4->matA = r7;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->matB;
	r4->matB = r7;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->matC;
	r4->matC = r7;
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->matD;
	r4->matD = r7;
	if( r1 == NULL ) hl_null_access();
	r5 = (h2d__$Object)global$42;
	r4 = r5->nullDrawable;
	r8 = h2d_RenderContext_drawTile(r1,r4,r2);
	return;
}

void h2d_Object_clipBounds(h2d__Object r0,h2d__RenderContext r1,h2d__col__Bounds r2) {
	h2d__col__Bounds r3;
	h2d__Object r5;
	h3d__shader__Base2d r7;
	h3d__Vector r6, r8;
	double r9, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r23, r24, r25, r26, r27, r28, r29, r30;
	int r21, r22;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->tmpBounds;
	r5 = r1->inFilter;
	if( !r5 ) goto label$656$65;
	r7 = r1->baseShader;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->filterMatrixA__;
	r7 = r1->baseShader;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->filterMatrixB__;
	r10 = r0->matA;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->x;
	r10 = r10 * r11;
	r11 = r0->matB;
	r12 = r6->y;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r9 = r10;
	r11 = r0->matA;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->x;
	r11 = r11 * r12;
	r12 = r0->matB;
	r13 = r8->y;
	r12 = r12 * r13;
	r11 = r11 + r12;
	r10 = r11;
	r12 = r0->matC;
	r13 = r6->x;
	r12 = r12 * r13;
	r13 = r0->matD;
	r14 = r6->y;
	r13 = r13 * r14;
	r12 = r12 + r13;
	r11 = r12;
	r13 = r0->matC;
	r14 = r8->x;
	r13 = r13 * r14;
	r14 = r0->matD;
	r15 = r8->y;
	r14 = r14 * r15;
	r13 = r13 + r14;
	r12 = r13;
	r14 = r0->absX;
	r15 = r6->x;
	r14 = r14 * r15;
	r15 = r0->absY;
	r16 = r6->y;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r15 = r6->z;
	r14 = r14 + r15;
	r13 = r14;
	r15 = r0->absX;
	r16 = r8->x;
	r15 = r15 * r16;
	r16 = r0->absY;
	r17 = r8->y;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r16 = r8->z;
	r15 = r15 + r16;
	r14 = r15;
	goto label$656$77;
	label$656$65:
	r15 = r0->matA;
	r9 = r15;
	r15 = r0->matB;
	r10 = r15;
	r15 = r0->matC;
	r11 = r15;
	r15 = r0->matD;
	r12 = r15;
	r15 = r0->absX;
	r13 = r15;
	r15 = r0->absY;
	r14 = r15;
	label$656$77:
	if( r3 == NULL ) hl_null_access();
	r15 = 1e+020;
	r3->xMin = r15;
	r15 = 1e+020;
	r3->yMin = r15;
	r15 = -1e+020;
	r3->xMax = r15;
	r15 = -1e+020;
	r3->yMax = r15;
	if( r2 == NULL ) hl_null_access();
	r15 = r2->xMin;
	r16 = r2->yMin;
	r17 = r15 * r9;
	r18 = r16 * r11;
	r17 = r17 + r18;
	r17 = r17 + r13;
	r18 = r15 * r10;
	r19 = r16 * r12;
	r18 = r18 + r19;
	r18 = r18 + r14;
	r20 = r3->xMin;
	if( !(r17 < r20) ) goto label$656$100;
	r3->xMin = r17;
	label$656$100:
	r20 = r3->xMax;
	if( !(r20 < r17) ) goto label$656$103;
	r3->xMax = r17;
	label$656$103:
	r20 = r3->yMin;
	if( !(r18 < r20) ) goto label$656$106;
	r3->yMin = r18;
	label$656$106:
	r20 = r3->yMax;
	if( !(r20 < r18) ) goto label$656$109;
	r3->yMax = r18;
	label$656$109:
	r15 = r2->xMax;
	r16 = r2->yMin;
	r17 = r15 * r9;
	r18 = r16 * r11;
	r17 = r17 + r18;
	r17 = r17 + r13;
	r18 = r15 * r10;
	r19 = r16 * r12;
	r18 = r18 + r19;
	r18 = r18 + r14;
	r20 = r3->xMin;
	if( !(r17 < r20) ) goto label$656$122;
	r3->xMin = r17;
	label$656$122:
	r20 = r3->xMax;
	if( !(r20 < r17) ) goto label$656$125;
	r3->xMax = r17;
	label$656$125:
	r20 = r3->yMin;
	if( !(r18 < r20) ) goto label$656$128;
	r3->yMin = r18;
	label$656$128:
	r20 = r3->yMax;
	if( !(r20 < r18) ) goto label$656$131;
	r3->yMax = r18;
	label$656$131:
	r15 = r2->xMin;
	r16 = r2->yMax;
	r17 = r15 * r9;
	r18 = r16 * r11;
	r17 = r17 + r18;
	r17 = r17 + r13;
	r18 = r15 * r10;
	r19 = r16 * r12;
	r18 = r18 + r19;
	r18 = r18 + r14;
	r20 = r3->xMin;
	if( !(r17 < r20) ) goto label$656$144;
	r3->xMin = r17;
	label$656$144:
	r20 = r3->xMax;
	if( !(r20 < r17) ) goto label$656$147;
	r3->xMax = r17;
	label$656$147:
	r20 = r3->yMin;
	if( !(r18 < r20) ) goto label$656$150;
	r3->yMin = r18;
	label$656$150:
	r20 = r3->yMax;
	if( !(r20 < r18) ) goto label$656$153;
	r3->yMax = r18;
	label$656$153:
	r15 = r2->xMax;
	r16 = r2->yMax;
	r17 = r15 * r9;
	r18 = r16 * r11;
	r17 = r17 + r18;
	r17 = r17 + r13;
	r18 = r15 * r10;
	r19 = r16 * r12;
	r18 = r18 + r19;
	r18 = r18 + r14;
	r20 = r3->xMin;
	if( !(r17 < r20) ) goto label$656$166;
	r3->xMin = r17;
	label$656$166:
	r20 = r3->xMax;
	if( !(r20 < r17) ) goto label$656$169;
	r3->xMax = r17;
	label$656$169:
	r20 = r3->yMin;
	if( !(r18 < r20) ) goto label$656$172;
	r3->yMin = r18;
	label$656$172:
	r20 = r3->yMax;
	if( !(r20 < r18) ) goto label$656$175;
	r3->yMax = r18;
	label$656$175:
	r15 = r3->xMin;
	r21 = r1->curX;
	r16 = (double)r21;
	if( !(r15 < r16) ) goto label$656$182;
	r21 = r1->curX;
	r15 = (double)r21;
	r3->xMin = r15;
	label$656$182:
	r15 = r3->yMin;
	r21 = r1->curY;
	r16 = (double)r21;
	if( !(r15 < r16) ) goto label$656$189;
	r21 = r1->curY;
	r15 = (double)r21;
	r3->yMin = r15;
	label$656$189:
	r15 = r3->xMax;
	r21 = r1->curX;
	r22 = r1->curWidth;
	r21 = r21 + r22;
	r16 = (double)r21;
	if( !(r16 < r15) ) goto label$656$200;
	r21 = r1->curX;
	r22 = r1->curWidth;
	r21 = r21 + r22;
	r15 = (double)r21;
	r3->xMax = r15;
	label$656$200:
	r15 = r3->yMax;
	r21 = r1->curY;
	r22 = r1->curHeight;
	r21 = r21 + r22;
	r16 = (double)r21;
	if( !(r16 < r15) ) goto label$656$211;
	r21 = r1->curY;
	r22 = r1->curHeight;
	r21 = r21 + r22;
	r15 = (double)r21;
	r3->yMax = r15;
	label$656$211:
	r21 = 1;
	r15 = (double)r21;
	r16 = r9 * r12;
	r17 = r10 * r11;
	r16 = r16 - r17;
	r15 = r15 / r16;
	r16 = r3->xMin;
	r17 = r3->yMin;
	r18 = r3->xMax;
	r19 = r3->yMax;
	r20 = 1e+020;
	r3->xMin = r20;
	r20 = 1e+020;
	r3->yMin = r20;
	r20 = -1e+020;
	r3->xMax = r20;
	r20 = -1e+020;
	r3->yMax = r20;
	r24 = r16 - r13;
	r20 = r24;
	r24 = r17 - r14;
	r23 = r24;
	r24 = r20 * r12;
	r25 = r23 * r11;
	r24 = r24 - r25;
	r24 = r24 * r15;
	r25 = -r20;
	r25 = r25 * r10;
	r26 = r23 * r9;
	r25 = r25 + r26;
	r25 = r25 * r15;
	r27 = r3->xMin;
	if( !(r24 < r27) ) goto label$656$245;
	r3->xMin = r24;
	label$656$245:
	r27 = r3->xMax;
	if( !(r27 < r24) ) goto label$656$248;
	r3->xMax = r24;
	label$656$248:
	r27 = r3->yMin;
	if( !(r25 < r27) ) goto label$656$251;
	r3->yMin = r25;
	label$656$251:
	r27 = r3->yMax;
	if( !(r27 < r25) ) goto label$656$254;
	r3->yMax = r25;
	label$656$254:
	r24 = r18 - r13;
	r20 = r24;
	r24 = r17 - r14;
	r23 = r24;
	r24 = r20 * r12;
	r25 = r23 * r11;
	r24 = r24 - r25;
	r24 = r24 * r15;
	r25 = -r20;
	r25 = r25 * r10;
	r26 = r23 * r9;
	r25 = r25 + r26;
	r25 = r25 * r15;
	r27 = r3->xMin;
	if( !(r24 < r27) ) goto label$656$270;
	r3->xMin = r24;
	label$656$270:
	r27 = r3->xMax;
	if( !(r27 < r24) ) goto label$656$273;
	r3->xMax = r24;
	label$656$273:
	r27 = r3->yMin;
	if( !(r25 < r27) ) goto label$656$276;
	r3->yMin = r25;
	label$656$276:
	r27 = r3->yMax;
	if( !(r27 < r25) ) goto label$656$279;
	r3->yMax = r25;
	label$656$279:
	r24 = r16 - r13;
	r20 = r24;
	r24 = r19 - r14;
	r23 = r24;
	r24 = r20 * r12;
	r25 = r23 * r11;
	r24 = r24 - r25;
	r24 = r24 * r15;
	r25 = -r20;
	r25 = r25 * r10;
	r26 = r23 * r9;
	r25 = r25 + r26;
	r25 = r25 * r15;
	r27 = r3->xMin;
	if( !(r24 < r27) ) goto label$656$295;
	r3->xMin = r24;
	label$656$295:
	r27 = r3->xMax;
	if( !(r27 < r24) ) goto label$656$298;
	r3->xMax = r24;
	label$656$298:
	r27 = r3->yMin;
	if( !(r25 < r27) ) goto label$656$301;
	r3->yMin = r25;
	label$656$301:
	r27 = r3->yMax;
	if( !(r27 < r25) ) goto label$656$304;
	r3->yMax = r25;
	label$656$304:
	r24 = r18 - r13;
	r20 = r24;
	r24 = r19 - r14;
	r23 = r24;
	r24 = r20 * r12;
	r25 = r23 * r11;
	r24 = r24 - r25;
	r24 = r24 * r15;
	r25 = -r20;
	r25 = r25 * r10;
	r26 = r23 * r9;
	r25 = r25 + r26;
	r25 = r25 * r15;
	r27 = r3->xMin;
	if( !(r24 < r27) ) goto label$656$320;
	r3->xMin = r24;
	label$656$320:
	r27 = r3->xMax;
	if( !(r27 < r24) ) goto label$656$323;
	r3->xMax = r24;
	label$656$323:
	r27 = r3->yMin;
	if( !(r25 < r27) ) goto label$656$326;
	r3->yMin = r25;
	label$656$326:
	r27 = r3->yMax;
	if( !(r27 < r25) ) goto label$656$329;
	r3->yMax = r25;
	label$656$329:
	r20 = r2->xMin;
	r23 = r3->xMin;
	if( !(r20 < r23) ) goto label$656$334;
	r24 = r23;
	goto label$656$335;
	label$656$334:
	r24 = r20;
	label$656$335:
	r2->xMin = r24;
	r24 = r2->yMin;
	r25 = r3->yMin;
	if( !(r24 < r25) ) goto label$656$341;
	r26 = r25;
	goto label$656$342;
	label$656$341:
	r26 = r24;
	label$656$342:
	r2->yMin = r26;
	r26 = r2->xMax;
	r27 = r3->xMax;
	if( !(r27 < r26) ) goto label$656$348;
	r28 = r27;
	goto label$656$349;
	label$656$348:
	r28 = r26;
	label$656$349:
	r2->xMax = r28;
	r28 = r2->yMax;
	r29 = r3->yMax;
	if( !(r29 < r28) ) goto label$656$355;
	r30 = r29;
	goto label$656$356;
	label$656$355:
	r30 = r28;
	label$656$356:
	r2->yMax = r30;
	return;
}

void h2d_Object_drawFilters(h2d__Object r0,h2d__RenderContext r1) {
	bool *r21;
	String r20;
	h3d__impl__TextureCache r19;
	h2d__col__Bounds r5, r6, r10;
	hl__types__ArrayObj r23;
	venum *r22;
	h2d__filter__Filter r8;
	bool r3;
	h2d__Object r55;
	h2d__Tile r57, r58, r59;
	h3d__shader__Base2d r35;
	h3d__Engine r30;
	h3d__Vector r36, r37, r42;
	double r7, r9, r11, r38, r39, r40, r41, r43, r44, r45, r46, r47, r48, r49, r50, r51, r52;
	int *r24, *r25, *r27, *r29;
	vdynamic *r4, *r32, *r33, *r34;
	varray *r56;
	h3d__mat__Texture r18;
	int r12, r13, r14, r15, r16, r17, r26, r28, r31, r53, r54;
	if( r1 == NULL ) hl_null_access();
	r3 = h2d_RenderContext_pushFilter(r1,r0);
	if( r3 ) goto label$657$4;
	return;
	label$657$4:
	r5 = r1->tmpBounds;
	r6 = (h2d__col__Bounds)hl_alloc_obj(h2d__col__Bounds__val);
	h2d_col_Bounds_new(r6);
	r7 = -1.;
	r8 = r0->filter;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->autoBounds;
	if( !r3 ) goto label$657$17;
	r8 = r0->filter;
	if( r8 == NULL ) hl_null_access();
	r9 = r8->boundsExtend;
	r7 = r9;
	goto label$657$41;
	label$657$17:
	r8 = r0->filter;
	if( r8 == NULL ) hl_null_access();
	h2d_filter_Filter_getBounds(r8,r0,r5);
	if( r5 == NULL ) hl_null_access();
	r9 = r5->xMin;
	r11 = r6->xMin;
	if( !(r9 < r11) ) goto label$657$26;
	r9 = r5->xMin;
	r6->xMin = r9;
	label$657$26:
	r9 = r5->xMax;
	r11 = r6->xMax;
	if( !(r11 < r9) ) goto label$657$31;
	r9 = r5->xMax;
	r6->xMax = r9;
	label$657$31:
	r9 = r5->yMin;
	r11 = r6->yMin;
	if( !(r9 < r11) ) goto label$657$36;
	r9 = r5->yMin;
	r6->yMin = r9;
	label$657$36:
	r9 = r5->yMax;
	r11 = r6->yMax;
	if( !(r11 < r9) ) goto label$657$41;
	r9 = r5->yMax;
	r6->yMax = r9;
	label$657$41:
	r12 = 0;
	r11 = (double)r12;
	if( !(r7 >= r11) ) goto label$657$78;
	r10 = h2d_Object_getBounds(r0,r0,r5);
	if( r5 == NULL ) hl_null_access();
	r9 = r5->xMin;
	r9 = r9 - r7;
	r5->xMin = r9;
	r9 = r5->yMin;
	r9 = r9 - r7;
	r5->yMin = r9;
	r9 = r5->xMax;
	r9 = r9 + r7;
	r5->xMax = r9;
	r9 = r5->yMax;
	r9 = r9 + r7;
	r5->yMax = r9;
	r9 = r5->xMin;
	r11 = r6->xMin;
	if( !(r9 < r11) ) goto label$657$63;
	r9 = r5->xMin;
	r6->xMin = r9;
	label$657$63:
	r9 = r5->xMax;
	r11 = r6->xMax;
	if( !(r11 < r9) ) goto label$657$68;
	r9 = r5->xMax;
	r6->xMax = r9;
	label$657$68:
	r9 = r5->yMin;
	r11 = r6->yMin;
	if( !(r9 < r11) ) goto label$657$73;
	r9 = r5->yMin;
	r6->yMin = r9;
	label$657$73:
	r9 = r5->yMax;
	r11 = r6->yMax;
	if( !(r11 < r9) ) goto label$657$78;
	r9 = r5->yMax;
	r6->yMax = r9;
	label$657$78:
	h2d_Object_clipBounds(r0,r1,r6);
	r9 = r6->xMin;
	r11 = 1e-010;
	r9 = r9 + r11;
	r12 = hl_math_floor(r9);
	r9 = r6->yMin;
	r11 = 1e-010;
	r9 = r9 + r11;
	r13 = hl_math_floor(r9);
	r9 = r6->xMax;
	r11 = (double)r12;
	r9 = r9 - r11;
	r11 = 1e-010;
	r9 = r9 - r11;
	r14 = hl_math_ceil(r9);
	r9 = r6->yMax;
	r11 = (double)r13;
	r9 = r9 - r11;
	r11 = 1e-010;
	r9 = r9 - r11;
	r15 = hl_math_ceil(r9);
	r17 = 0;
	if( r17 >= r14 ) goto label$657$106;
	r17 = 0;
	if( r17 >= r15 ) goto label$657$106;
	r9 = r6->xMax;
	r11 = r6->xMin;
	if( !(r9 < r11) ) goto label$657$107;
	label$657$106:
	return;
	label$657$107:
	r19 = r1->textures;
	if( r19 == NULL ) hl_null_access();
	r20 = (String)global$394;
	r3 = false;
	r21 = &r3;
	r22 = NULL;
	r23 = NULL;
	r18 = h3d_impl_TextureCache_allocTarget(r19,r20,r14,r15,r21,r22,r23);
	r16 = r12;
	r24 = &r16;
	r17 = r13;
	r25 = &r17;
	r26 = r14;
	r27 = &r26;
	r28 = r15;
	r29 = &r28;
	h2d_RenderContext_pushTarget(r1,r18,r24,r25,r27,r29);
	r30 = r1->engine;
	if( r30 == NULL ) hl_null_access();
	r31 = 0;
	r32 = hl_alloc_dynamic(&type$3);
	r32->v.i = r31;
	r33 = NULL;
	r34 = NULL;
	h3d_Engine_clear(r30,r32,r33,r34);
	r9 = r1->globalAlpha;
	r35 = r1->baseShader;
	if( r35 == NULL ) hl_null_access();
	r36 = r35->filterMatrixA__;
	if( r36 == NULL ) hl_null_access();
	r11 = r36->x;
	r38 = r36->y;
	r39 = r36->z;
	r40 = r36->w;
	r37 = r35->filterMatrixB__;
	if( r37 == NULL ) hl_null_access();
	r41 = r37->x;
	r43 = r37->y;
	r44 = r37->z;
	r45 = r37->w;
	r31 = 1;
	r46 = (double)r31;
	r47 = r0->matA;
	r48 = r0->matD;
	r47 = r47 * r48;
	r48 = r0->matB;
	r49 = r0->matC;
	r48 = r48 * r49;
	r47 = r47 - r48;
	r46 = r46 / r47;
	r47 = r0->matD;
	r47 = r47 * r46;
	r48 = r0->matB;
	r48 = -r48;
	r48 = r48 * r46;
	r49 = r0->matC;
	r49 = -r49;
	r49 = r49 * r46;
	r50 = r0->matA;
	r50 = r50 * r46;
	r42 = r35->filterMatrixA__;
	if( r42 == NULL ) hl_null_access();
	r42->x = r47;
	r42->y = r49;
	r51 = r0->absX;
	r51 = r51 * r47;
	r52 = r0->absY;
	r52 = r52 * r49;
	r51 = r51 + r52;
	r51 = -r51;
	r42->z = r51;
	r51 = 1.;
	r42->w = r51;
	r42 = r35->filterMatrixB__;
	if( r42 == NULL ) hl_null_access();
	r42->x = r48;
	r42->y = r50;
	r51 = r0->absX;
	r51 = r51 * r48;
	r52 = r0->absY;
	r52 = r52 * r50;
	r51 = r51 + r52;
	r51 = -r51;
	r42->z = r51;
	r51 = 1.;
	r42->w = r51;
	r31 = 1;
	r51 = (double)r31;
	r1->globalAlpha = r51;
	((void (*)(h2d__Object,h2d__RenderContext))r0->$type->vobj_proto[7])(r0,r1);
	r31 = 0;
	r23 = r0->children;
	label$657$198:
	if( r23 == NULL ) hl_null_access();
	r54 = r23->length;
	if( r31 >= r54 ) goto label$657$214;
	r53 = r31;
	++r31;
	r54 = r23->length;
	if( ((unsigned)r53) < ((unsigned)r54) ) goto label$657$208;
	r55 = NULL;
	goto label$657$211;
	label$657$208:
	r56 = r23->array;
	r4 = ((vdynamic**)(r56 + 1))[r53];
	r55 = (h2d__Object)r4;
	label$657$211:
	if( r55 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__RenderContext))r55->$type->vobj_proto[10])(r55,r1);
	goto label$657$198;
	label$657$214:
	r57 = h2d_Tile_fromTexture(r18);
	if( r57 == NULL ) hl_null_access();
	r57->dx = r12;
	r57->dy = r13;
	r58 = r57;
	r8 = r0->filter;
	if( r8 == NULL ) hl_null_access();
	r59 = h2d_filter_Filter_draw(r8,r1,r57);
	if( r59 == r58 ) goto label$657$231;
	if( !r59 ) goto label$657$231;
	if( r59 == NULL ) hl_null_access();
	r31 = r59->dx;
	r31 = r31 + r12;
	r59->dx = r31;
	r31 = r59->dy;
	r31 = r31 + r13;
	r59->dy = r31;
	label$657$231:
	if( r35 == NULL ) hl_null_access();
	r42 = r35->filterMatrixA__;
	if( r42 == NULL ) hl_null_access();
	r42->x = r11;
	r42->y = r38;
	r42->z = r39;
	r42->w = r40;
	r42 = r35->filterMatrixB__;
	if( r42 == NULL ) hl_null_access();
	r42->x = r41;
	r42->y = r43;
	r42->z = r44;
	r42->w = r45;
	if( r1 == NULL ) hl_null_access();
	r21 = NULL;
	h2d_RenderContext_popTarget(r1,r21);
	h2d_RenderContext_popFilter(r1);
	if( r59 ) goto label$657$250;
	return;
	label$657$250:
	r52 = r0->alpha;
	r51 = r9 * r52;
	r1->globalAlpha = r51;
	((void (*)(h2d__Object,h2d__RenderContext,h2d__Tile))r0->$type->vobj_proto[9])(r0,r1,r59);
	r1->globalAlpha = r9;
	return;
}

void h2d_Object_drawRec(h2d__Object r0,h2d__RenderContext r1) {
	hl__types__ArrayObj r6;
	h2d__filter__Filter r11;
	bool r3;
	h2d__Object r9;
	double r12, r13, r14;
	vdynamic *r4;
	varray *r10;
	int r5, r7, r8, r15;
	r3 = r0->visible;
	if( r3 ) goto label$658$3;
	return;
	label$658$3:
	r3 = r0->posChanged;
	if( !r3 ) goto label$658$27;
	h2d_Object_calcAbsPos(r0);
	r5 = 0;
	r6 = r0->children;
	label$658$8:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r5 >= r8 ) goto label$658$25;
	r7 = r5;
	++r5;
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$658$18;
	r9 = NULL;
	goto label$658$21;
	label$658$18:
	r10 = r6->array;
	r4 = ((vdynamic**)(r10 + 1))[r7];
	r9 = (h2d__Object)r4;
	label$658$21:
	if( r9 == NULL ) hl_null_access();
	r3 = true;
	r9->posChanged = r3;
	goto label$658$8;
	label$658$25:
	r3 = false;
	r0->posChanged = r3;
	label$658$27:
	r11 = r0->filter;
	if( !r11 ) goto label$658$31;
	h2d_Object_drawFilters(r0,r1);
	goto label$658$85;
	label$658$31:
	if( r1 == NULL ) hl_null_access();
	r12 = r1->globalAlpha;
	r13 = r1->globalAlpha;
	r14 = r0->alpha;
	r13 = r13 * r14;
	r1->globalAlpha = r13;
	r3 = r1->front2back;
	if( !r3 ) goto label$658$64;
	r6 = r0->children;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	r7 = 0;
	label$658$43:
	if( r7 >= r5 ) goto label$658$62;
	r6 = r0->children;
	if( r6 == NULL ) hl_null_access();
	r15 = 1;
	r8 = r5 - r15;
	r15 = r7;
	++r7;
	r8 = r8 - r15;
	r15 = r6->length;
	if( ((unsigned)r8) < ((unsigned)r15) ) goto label$658$56;
	r9 = NULL;
	goto label$658$59;
	label$658$56:
	r10 = r6->array;
	r4 = ((vdynamic**)(r10 + 1))[r8];
	r9 = (h2d__Object)r4;
	label$658$59:
	if( r9 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__RenderContext))r9->$type->vobj_proto[10])(r9,r1);
	goto label$658$43;
	label$658$62:
	((void (*)(h2d__Object,h2d__RenderContext))r0->$type->vobj_proto[7])(r0,r1);
	goto label$658$83;
	label$658$64:
	((void (*)(h2d__Object,h2d__RenderContext))r0->$type->vobj_proto[7])(r0,r1);
	r5 = 0;
	r6 = r0->children;
	label$658$67:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r5 >= r8 ) goto label$658$83;
	r7 = r5;
	++r5;
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$658$77;
	r9 = NULL;
	goto label$658$80;
	label$658$77:
	r10 = r6->array;
	r4 = ((vdynamic**)(r10 + 1))[r7];
	r9 = (h2d__Object)r4;
	label$658$80:
	if( r9 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__RenderContext))r9->$type->vobj_proto[10])(r9,r1);
	goto label$658$67;
	label$658$83:
	if( r1 == NULL ) hl_null_access();
	r1->globalAlpha = r12;
	label$658$85:
	return;
}

double h2d_Object_set_x(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->x = r1;
	return r1;
}

double h2d_Object_set_y(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->y = r1;
	return r1;
}

double h2d_Object_set_scaleX(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleX = r1;
	return r1;
}

double h2d_Object_set_scaleY(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleY = r1;
	return r1;
}

double h2d_Object_set_rotation(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->rotation = r1;
	return r1;
}

void h2d_Object_move(h2d__Object r0,double r1,double r2) {
	bool r7;
	double r4, r5, r6;
	if( r0 == NULL ) hl_null_access();
	r4 = r0->x;
	r6 = r0->rotation;
	r6 = hl_math_cos(r6);
	r5 = r1 * r6;
	r4 = r4 + r5;
	r7 = true;
	r0->posChanged = r7;
	r0->x = r4;
	r4 = r0->y;
	r6 = r0->rotation;
	r6 = hl_math_sin(r6);
	r5 = r2 * r6;
	r4 = r4 + r5;
	r7 = true;
	r0->posChanged = r7;
	r0->y = r4;
	return;
}

void h2d_Object_setPosition(h2d__Object r0,double r1,double r2) {
	bool r3;
	r3 = true;
	r0->posChanged = r3;
	r0->x = r1;
	r3 = true;
	r0->posChanged = r3;
	r0->y = r2;
	return;
}

void h2d_Object_rotate(h2d__Object r0,double r1) {
	bool r3;
	double r4;
	if( r0 == NULL ) hl_null_access();
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->rotation;
	r4 = r4 + r1;
	r0->rotation = r4;
	return;
}

void h2d_Object_scale(h2d__Object r0,double r1) {
	bool r3;
	double r4;
	if( r0 == NULL ) hl_null_access();
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->scaleX;
	r4 = r4 * r1;
	r0->scaleX = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->scaleY;
	r4 = r4 * r1;
	r0->scaleY = r4;
	return;
}

void h2d_Object_setScale(h2d__Object r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleX = r1;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleY = r1;
	return;
}

h2d__Object h2d_Object_getChildAt(h2d__Object r0,int r1) {
	hl__types__ArrayObj r2;
	h2d__Object r4;
	vdynamic *r5;
	varray *r6;
	int r3;
	r2 = r0->children;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->length;
	if( ((unsigned)r1) < ((unsigned)r3) ) goto label$669$6;
	r4 = NULL;
	goto label$669$9;
	label$669$6:
	r6 = r2->array;
	r5 = ((vdynamic**)(r6 + 1))[r1];
	r4 = (h2d__Object)r5;
	label$669$9:
	return r4;
}

int h2d_Object_getChildIndex(h2d__Object r0,h2d__Object r1) {
	hl__types__ArrayObj r4;
	h2d__Object r7;
	vdynamic *r8;
	varray *r9;
	int r2, r3, r5, r6;
	r2 = 0;
	r4 = r0->children;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	label$670$4:
	if( r2 >= r3 ) goto label$670$20;
	r5 = r2;
	++r2;
	r4 = r0->children;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$670$14;
	r7 = NULL;
	goto label$670$17;
	label$670$14:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r5];
	r7 = (h2d__Object)r8;
	label$670$17:
	if( r7 != r1 ) goto label$670$19;
	return r5;
	label$670$19:
	goto label$670$4;
	label$670$20:
	r2 = -1;
	return r2;
}

h2d__Object h2d_Object_getObjectByName(h2d__Object r0,String r1) {
	String r2;
	hl__types__ArrayObj r5;
	h2d__Object r8;
	vdynamic *r3;
	varray *r9;
	int r4, r6, r7;
	r2 = r0->name;
	if( r2 != r1 && (!r2 || !r1 || String___compare(r2,(vdynamic*)r1) != 0) ) goto label$671$3;
	return r0;
	label$671$3:
	r4 = 0;
	r5 = r0->children;
	label$671$5:
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	if( r4 >= r7 ) goto label$671$23;
	r6 = r4;
	++r4;
	r7 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$671$15;
	r8 = NULL;
	goto label$671$18;
	label$671$15:
	r9 = r5->array;
	r3 = ((vdynamic**)(r9 + 1))[r6];
	r8 = (h2d__Object)r3;
	label$671$18:
	if( r8 == NULL ) hl_null_access();
	r8 = h2d_Object_getObjectByName(r8,r1);
	if( !r8 ) goto label$671$22;
	return r8;
	label$671$22:
	goto label$671$5;
	label$671$23:
	r8 = NULL;
	return r8;
}

int h2d_Object_get_numChildren(h2d__Object r0) {
	hl__types__ArrayObj r2;
	int r1;
	r2 = r0->children;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->length;
	return r1;
}

hxd__impl__ArrayIterator_h2d_Object h2d_Object_iterator(h2d__Object r0) {
	hxd__impl__ArrayIterator_h2d_Object r1;
	hl__types__ArrayObj r2;
	r1 = (hxd__impl__ArrayIterator_h2d_Object)hl_alloc_obj(hxd__impl__ArrayIterator_h2d_Object__val);
	r2 = r0->children;
	hxd_impl_ArrayIterator_h2d_Object_new(r1,r2);
	return r1;
}

String h2d_Object_toString(h2d__Object r0) {
	String r1, r3, r4;
	hl__Class r2;
	r2 = Type_getClass(((vdynamic*)r0));
	r1 = Type_getClassName(r2);
	r3 = r0->name;
	if( r3 ) goto label$674$5;
	return r1;
	label$674$5:
	r3 = r0->name;
	r4 = (String)global$175;
	r3 = String___add__(r3,r4);
	r3 = String___add__(r3,r1);
	r4 = (String)global$177;
	r3 = String___add__(r3,r4);
	return r3;
}

void h2d_Object_contentChanged(h2d__Object r0,h2d__Object r1) {
	return;
}

void h2d_Object_constraintSize(h2d__Object r0,double r1,double r2) {
	return;
}

vbyte* h2d_Object___string(h2d__Object r0) {
	String r2;
	vbyte *r1;
	r2 = h2d_Object_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

void h2d_Object_new(h2d__Object r0,h2d__Object r1) {
	hl__types__ArrayObj r6;
	hl_type *r8;
	bool r4;
	h2d__Object r5;
	double r2;
	varray *r7;
	int r3;
	r2 = 1.;
	r0->alpha = r2;
	r3 = 1;
	r2 = (double)r3;
	r0->matA = r2;
	r3 = 0;
	r2 = (double)r3;
	r0->matB = r2;
	r3 = 0;
	r2 = (double)r3;
	r0->matC = r2;
	r3 = 1;
	r2 = (double)r3;
	r0->matD = r2;
	r3 = 0;
	r2 = (double)r3;
	r0->absX = r2;
	r3 = 0;
	r2 = (double)r3;
	r0->absY = r2;
	r4 = true;
	r0->posChanged = r4;
	r3 = 0;
	r2 = (double)r3;
	r0->x = r2;
	r4 = true;
	r0->posChanged = r4;
	r3 = 0;
	r2 = (double)r3;
	r0->y = r2;
	r4 = true;
	r0->posChanged = r4;
	r3 = 1;
	r2 = (double)r3;
	r0->scaleX = r2;
	r4 = true;
	r0->posChanged = r4;
	r3 = 1;
	r2 = (double)r3;
	r0->scaleY = r2;
	r4 = true;
	r0->posChanged = r4;
	r3 = 0;
	r2 = (double)r3;
	r0->rotation = r2;
	r5 = NULL;
	if( r1 != r5 ) goto label$678$49;
	r4 = false;
	goto label$678$50;
	label$678$49:
	r4 = true;
	label$678$50:
	r0->posChanged = r4;
	r4 = true;
	r4 = h2d_Object_set_visible(r0,r4);
	r8 = &type$136;
	r3 = 0;
	r7 = hl_alloc_array(r8,r3);
	r6 = hl_types_ArrayObj_alloc(r7);
	r0->children = r6;
	if( !r1 ) goto label$678$61;
	if( r1 == NULL ) hl_null_access();
	((void (*)(h2d__Object,h2d__Object))r1->$type->vobj_proto[1])(r1,r0);
	label$678$61:
	return;
}

