// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

void h2d_RenderContext_dispose(h2d__RenderContext r0) {
	h3d__impl__TextureCache r2;
	h3d__Buffer r3;
	r2 = r0->textures;
	if( r2 == NULL ) hl_null_access();
	h3d_impl_TextureCache_dispose(r2);
	r3 = r0->fixedBuffer;
	if( !r3 ) goto label$723$8;
	r3 = r0->fixedBuffer;
	if( r3 == NULL ) hl_null_access();
	h3d_Buffer_dispose(r3);
	label$723$8:
	return;
}

bool h2d_RenderContext_hasBuffering(h2d__RenderContext r0) {
	bool r1;
	r1 = false;
	return r1;
}

void h2d_RenderContext_begin(h2d__RenderContext r0) {
	h3d__impl__TextureCache r22;
	String r14;
	h3d__pass__ShaderManager r13;
	venum *r8;
	h2d__Drawable r2;
	bool r5;
	h2d__Object r9;
	h3d__shader__Base2d r16;
	h3d__Engine r7;
	h3d__Vector r17;
	h3d__mat__Pass r21;
	hxsl__ShaderList r19, r20;
	hxsl__Globals r12;
	double r4, r18;
	vdynamic *r15;
	h2d__Scene r10;
	h3d__impl__Driver r6;
	int r3;
	h3d__mat__Texture r1;
	r1 = NULL;
	r0->texture = r1;
	r2 = NULL;
	r0->currentObj = r2;
	r3 = 0;
	r0->bufPos = r3;
	r3 = 0;
	r0->stride = r3;
	r3 = 0;
	r0->curX = r3;
	r3 = 0;
	r0->curY = r3;
	r7 = r0->engine;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->driver;
	if( r6 == NULL ) hl_null_access();
	r8 = (venum*)global$417;
	r5 = ((bool (*)(h3d__impl__Driver,venum*))r6->$type->vobj_proto[0])(r6,r8);
	if( !r5 ) goto label$725$22;
	r3 = -1;
	r4 = (double)r3;
	goto label$725$24;
	label$725$22:
	r3 = 1;
	r4 = (double)r3;
	label$725$24:
	r0->targetFlipY = r4;
	r7 = r0->engine;
	if( r7 == NULL ) hl_null_access();
	r1 = h3d_Engine_getCurrentTarget(r7);
	if( !r1 ) goto label$725$31;
	r4 = r0->targetFlipY;
	goto label$725$33;
	label$725$31:
	r3 = 1;
	r4 = (double)r3;
	label$725$33:
	r0->baseFlipY = r4;
	r9 = NULL;
	r0->inFilter = r9;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->width;
	r0->curWidth = r3;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->height;
	r0->curHeight = r3;
	r13 = r0->manager;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->globals;
	if( r12 == NULL ) hl_null_access();
	r14 = (String)global$418;
	r4 = r0->time;
	r15 = hl_alloc_dynamic(&type$6);
	r15->v.d = r4;
	hxsl_Globals_set(r12,r14,r15);
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r5 = true;
	r16->constModified = r5;
	r5 = false;
	r16->pixelAlign__ = r5;
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->halfPixelInverse__;
	if( r17 == NULL ) hl_null_access();
	r4 = 0.5;
	r7 = r0->engine;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->width;
	r18 = (double)r3;
	r4 = r4 / r18;
	r17->x = r4;
	r4 = 0.5;
	r7 = r0->engine;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->height;
	r18 = (double)r3;
	r4 = r4 / r18;
	r17->y = r4;
	r4 = 0.;
	r17->z = r4;
	r4 = 1.;
	r17->w = r4;
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->viewport__;
	if( r17 == NULL ) hl_null_access();
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->width;
	r3 = -r3;
	r4 = (double)r3;
	r18 = 0.5;
	r4 = r4 * r18;
	r17->x = r4;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->height;
	r3 = -r3;
	r4 = (double)r3;
	r18 = 0.5;
	r4 = r4 * r18;
	r17->y = r4;
	r3 = 2;
	r4 = (double)r3;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->width;
	r18 = (double)r3;
	r4 = r4 / r18;
	r17->z = r4;
	r3 = -2;
	r4 = (double)r3;
	r18 = r0->baseFlipY;
	r4 = r4 * r18;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r3 = r10->height;
	r18 = (double)r3;
	r4 = r4 / r18;
	r17->w = r4;
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->filterMatrixA__;
	if( r17 == NULL ) hl_null_access();
	r3 = 1;
	r4 = (double)r3;
	r17->x = r4;
	r3 = 0;
	r4 = (double)r3;
	r17->y = r4;
	r3 = 0;
	r4 = (double)r3;
	r17->z = r4;
	r4 = 1.;
	r17->w = r4;
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->filterMatrixB__;
	if( r17 == NULL ) hl_null_access();
	r3 = 0;
	r4 = (double)r3;
	r17->x = r4;
	r3 = 1;
	r4 = (double)r3;
	r17->y = r4;
	r3 = 0;
	r4 = (double)r3;
	r17->z = r4;
	r4 = 1.;
	r17->w = r4;
	r19 = r0->baseShaderList;
	if( r19 == NULL ) hl_null_access();
	r20 = NULL;
	r19->next = r20;
	r19 = r0->baseShaderList;
	h2d_RenderContext_initShaders(r0,r19);
	r7 = r0->engine;
	if( r7 == NULL ) hl_null_access();
	r21 = r0->pass;
	h3d_Engine_selectMaterial(r7,r21);
	r22 = r0->textures;
	if( r22 == NULL ) hl_null_access();
	h3d_impl_TextureCache_begin(r22);
	return;
}

h3d__mat__Texture h2d_RenderContext_allocTarget(h2d__RenderContext r0,String r1,bool* r2) {
	h3d__impl__TextureCache r5;
	hl__types__ArrayObj r11;
	venum *r10, *r12;
	bool r3, r9;
	h2d__Scene r7;
	int r6, r8;
	h3d__mat__Texture r4;
	if( r2 ) goto label$726$3;
	r3 = false;
	goto label$726$4;
	label$726$3:
	r3 = *r2;
	label$726$4:
	r5 = r0->textures;
	if( r5 == NULL ) hl_null_access();
	r7 = r0->scene;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->width;
	r7 = r0->scene;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->height;
	r9 = false;
	r2 = &r9;
	r10 = NULL;
	r11 = NULL;
	r4 = h3d_impl_TextureCache_allocTarget(r5,r1,r6,r8,r2,r10,r11);
	if( r4 == NULL ) hl_null_access();
	if( !r3 ) goto label$726$21;
	r12 = (venum*)global$419;
	goto label$726$22;
	label$726$21:
	r12 = (venum*)global$420;
	label$726$22:
	r12 = h3d_mat_Texture_set_filter(r4,r12);
	return r4;
}

void h2d_RenderContext_clear(h2d__RenderContext r0,vdynamic* r1) {
	h3d__Engine r3;
	vdynamic *r4, *r5;
	r3 = r0->engine;
	if( r3 == NULL ) hl_null_access();
	r4 = NULL;
	r5 = NULL;
	h3d_Engine_clear(r3,r1,r4,r5);
	return;
}

void h2d_RenderContext_initShaders(h2d__RenderContext r0,hxsl__ShaderList r1) {
	hxsl__RuntimeShader r2;
	hxsl__RuntimeShaderData r7;
	h3d__pass__ShaderManager r3;
	h3d__shader__ShaderBuffers r6;
	h3d__Engine r8;
	int r9;
	h3d__shader__Buffers r5;
	r0->currentShaders = r1;
	r3 = r0->manager;
	if( r3 == NULL ) hl_null_access();
	r2 = h3d_pass_ShaderManager_compileShaders(r3,r1);
	r0->compiledShader = r2;
	r5 = r0->buffers;
	if( r5 ) goto label$728$12;
	r5 = (h3d__shader__Buffers)hl_alloc_obj(h3d__shader__Buffers__val);
	r2 = r0->compiledShader;
	h3d_shader_Buffers_new(r5,r2);
	r0->buffers = r5;
	goto label$728$24;
	label$728$12:
	r5 = r0->buffers;
	r2 = r0->compiledShader;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vertex;
	if( r6 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r7 = r2->vertex;
	h3d_shader_ShaderBuffers_grow(r6,r7);
	r6 = r5->fragment;
	if( r6 == NULL ) hl_null_access();
	r7 = r2->fragment;
	h3d_shader_ShaderBuffers_grow(r6,r7);
	label$728$24:
	r3 = r0->manager;
	if( r3 == NULL ) hl_null_access();
	r5 = r0->buffers;
	r2 = r0->compiledShader;
	h3d_pass_ShaderManager_fillGlobals(r3,r5,r2);
	r8 = r0->engine;
	if( r8 == NULL ) hl_null_access();
	r2 = r0->compiledShader;
	h3d_Engine_selectShader(r8,r2);
	r8 = r0->engine;
	if( r8 == NULL ) hl_null_access();
	r5 = r0->buffers;
	r9 = 0;
	h3d_Engine_uploadShaderBuffers(r8,r5,r9);
	return;
}

void h2d_RenderContext_end(h2d__RenderContext r0) {
	String r8;
	h2d__Drawable r2;
	hxsl__ShaderList r3, r4;
	int r6, r7;
	h3d__mat__Texture r1;
	r1 = NULL;
	r0->texture = r1;
	r2 = NULL;
	r0->currentObj = r2;
	r3 = r0->baseShaderList;
	if( r3 == NULL ) hl_null_access();
	r4 = NULL;
	r3->next = r4;
	r6 = r0->targetsStackIndex;
	r7 = 0;
	if( r6 == r7 ) goto label$729$13;
	r8 = (String)global$421;
	hl_throw((vdynamic*)r8);
	label$729$13:
	return;
}

bool h2d_RenderContext_pushFilter(h2d__RenderContext r0,h2d__Object r1) {
	hl__types__ArrayObj r3;
	bool r6;
	vclosure *r5;
	int r2, r4;
	r3 = r0->filterStack;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->length;
	r4 = 0;
	if( r2 != r4 ) goto label$730$13;
	r5 = r0->onEnterFilter;
	if( !r5 ) goto label$730$13;
	r5 = r0->onEnterFilter;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->hasValue ? ((bool (*)(vdynamic*,h2d__Object))r5->fun)((vdynamic*)r5->value,r1) : ((bool (*)(h2d__Object))r5->fun)(r1);
	if( r6 ) goto label$730$13;
	r6 = false;
	return r6;
	label$730$13:
	r3 = r0->filterStack;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r3,((vdynamic*)r1));
	r0->inFilter = r1;
	r6 = true;
	return r6;
}

void h2d_RenderContext_popFilter(h2d__RenderContext r0) {
	hl__types__ArrayObj r2, r7;
	h2d__Object r3, r8;
	vclosure *r10;
	vdynamic *r1;
	varray *r9;
	int r5, r6;
	r2 = r0->filterStack;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_pop(r2);
	r3 = (h2d__Object)r1;
	r2 = r0->filterStack;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	r6 = 0;
	if( r6 >= r5 ) goto label$731$25;
	r2 = r0->filterStack;
	if( r2 == NULL ) hl_null_access();
	r7 = r0->filterStack;
	if( r7 == NULL ) hl_null_access();
	r5 = r7->length;
	r6 = 1;
	r5 = r5 - r6;
	r6 = r2->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$731$20;
	r8 = NULL;
	goto label$731$23;
	label$731$20:
	r9 = r2->array;
	r1 = ((vdynamic**)(r9 + 1))[r5];
	r8 = (h2d__Object)r1;
	label$731$23:
	r0->inFilter = r8;
	goto label$731$32;
	label$731$25:
	r8 = NULL;
	r0->inFilter = r8;
	r10 = r0->onLeaveFilter;
	if( !r10 ) goto label$731$32;
	r10 = r0->onLeaveFilter;
	if( r10 == NULL ) hl_null_access();
	r10->hasValue ? ((void (*)(vdynamic*,h2d__Object))r10->fun)((vdynamic*)r10->value,r3) : ((void (*)(h2d__Object))r10->fun)(r3);
	label$731$32:
	return;
}

void h2d_RenderContext_pushTarget(h2d__RenderContext r0,h3d__mat__Texture r1,int* r2,int* r3,int* r4,int* r5) {
	vvirtual *r21;
	hl__types__ArrayObj r20;
	bool r22;
	h3d__shader__Base2d r17;
	h3d__Engine r11;
	h3d__Vector r16;
	hxsl__ShaderList r12;
	double r18, r19;
	vdynamic *r23;
	h2d__Scene r15;
	varray *r24;
	int r6, r7, r8, r9, r13, r14;
	if( r2 ) goto label$732$3;
	r6 = 0;
	goto label$732$4;
	label$732$3:
	r6 = *r2;
	label$732$4:
	if( r3 ) goto label$732$7;
	r7 = 0;
	goto label$732$8;
	label$732$7:
	r7 = *r3;
	label$732$8:
	if( r4 ) goto label$732$11;
	r8 = -1;
	goto label$732$12;
	label$732$11:
	r8 = *r4;
	label$732$12:
	if( r5 ) goto label$732$15;
	r9 = -1;
	goto label$732$16;
	label$732$15:
	r9 = *r5;
	label$732$16:
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r2 = NULL;
	r3 = NULL;
	h3d_Engine_pushTarget(r11,r1,r2,r3);
	r12 = r0->baseShaderList;
	h2d_RenderContext_initShaders(r0,r12);
	r14 = 0;
	if( r8 >= r14 ) goto label$732$33;
	if( r1 ) goto label$732$30;
	r15 = r0->scene;
	if( r15 == NULL ) hl_null_access();
	r13 = r15->width;
	goto label$732$32;
	label$732$30:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->width;
	label$732$32:
	r8 = r13;
	label$732$33:
	r14 = 0;
	if( r9 >= r14 ) goto label$732$43;
	if( r1 ) goto label$732$40;
	r15 = r0->scene;
	if( r15 == NULL ) hl_null_access();
	r13 = r15->height;
	goto label$732$42;
	label$732$40:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->height;
	label$732$42:
	r9 = r13;
	label$732$43:
	r17 = r0->baseShader;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->halfPixelInverse__;
	if( r16 == NULL ) hl_null_access();
	r18 = 0.5;
	if( r1 ) goto label$732$53;
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->width;
	goto label$732$55;
	label$732$53:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->width;
	label$732$55:
	r19 = (double)r13;
	r18 = r18 / r19;
	r16->x = r18;
	r18 = 0.5;
	if( r1 ) goto label$732$64;
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->height;
	goto label$732$66;
	label$732$64:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->height;
	label$732$66:
	r19 = (double)r13;
	r18 = r18 / r19;
	r16->y = r18;
	r18 = 0.;
	r16->z = r18;
	r18 = 1.;
	r16->w = r18;
	r17 = r0->baseShader;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->viewport__;
	if( r16 == NULL ) hl_null_access();
	r13 = -r8;
	r18 = (double)r13;
	r19 = 0.5;
	r18 = r18 * r19;
	r19 = (double)r6;
	r18 = r18 - r19;
	r16->x = r18;
	r13 = -r9;
	r18 = (double)r13;
	r19 = 0.5;
	r18 = r18 * r19;
	r19 = (double)r7;
	r18 = r18 - r19;
	r16->y = r18;
	r13 = 2;
	r18 = (double)r13;
	r19 = (double)r8;
	r18 = r18 / r19;
	r16->z = r18;
	r13 = -2;
	r18 = (double)r13;
	r19 = r0->targetFlipY;
	r18 = r18 * r19;
	r19 = (double)r9;
	r18 = r18 / r19;
	r16->w = r18;
	r13 = r0->targetsStackIndex;
	++r13;
	r0->targetsStackIndex = r13;
	r13 = r0->targetsStackIndex;
	r20 = r0->targetsStack;
	if( r20 == NULL ) hl_null_access();
	r14 = r20->length;
	if( r14 >= r13 ) goto label$732$131;
	r20 = r0->targetsStack;
	if( r20 == NULL ) hl_null_access();
	r21 = hl_alloc_virtual(&type$1549);
	if( hl_vfields(r21)[6] ) *(h3d__mat__Texture*)(hl_vfields(r21)[6]) = (h3d__mat__Texture)r1; else hl_dyn_setp(r21->value,116/*t*/,&type$93,r1);
	if( hl_vfields(r21)[8] ) *(int*)(hl_vfields(r21)[8]) = (int)r6; else hl_dyn_seti(r21->value,120/*x*/,&type$3,r6);
	if( hl_vfields(r21)[9] ) *(int*)(hl_vfields(r21)[9]) = (int)r7; else hl_dyn_seti(r21->value,121/*y*/,&type$3,r7);
	if( hl_vfields(r21)[7] ) *(int*)(hl_vfields(r21)[7]) = (int)r8; else hl_dyn_seti(r21->value,119/*w*/,&type$3,r8);
	if( hl_vfields(r21)[0] ) *(int*)(hl_vfields(r21)[0]) = (int)r9; else hl_dyn_seti(r21->value,104/*h*/,&type$3,r9);
	r22 = r0->hasRenderZone;
	if( hl_vfields(r21)[1] ) *(bool*)(hl_vfields(r21)[1]) = (bool)r22; else hl_dyn_seti(r21->value,35754535/*hasRZ*/,&type$7,r22);
	r18 = r0->renderX;
	if( hl_vfields(r21)[4] ) *(double*)(hl_vfields(r21)[4]) = (double)r18; else hl_dyn_setd(r21->value,5696400/*rzX*/,r18);
	r18 = r0->renderY;
	if( hl_vfields(r21)[5] ) *(double*)(hl_vfields(r21)[5]) = (double)r18; else hl_dyn_setd(r21->value,5696401/*rzY*/,r18);
	r18 = r0->renderW;
	if( hl_vfields(r21)[3] ) *(double*)(hl_vfields(r21)[3]) = (double)r18; else hl_dyn_setd(r21->value,5696399/*rzW*/,r18);
	r18 = r0->renderH;
	if( hl_vfields(r21)[2] ) *(double*)(hl_vfields(r21)[2]) = (double)r18; else hl_dyn_setd(r21->value,5696384/*rzH*/,r18);
	r13 = hl_types_ArrayObj_push(r20,((vdynamic*)r21));
	goto label$732$159;
	label$732$131:
	r20 = r0->targetsStack;
	if( r20 == NULL ) hl_null_access();
	r13 = r0->targetsStackIndex;
	r14 = 1;
	r13 = r13 - r14;
	r14 = r20->length;
	if( ((unsigned)r13) < ((unsigned)r14) ) goto label$732$140;
	r21 = NULL;
	goto label$732$143;
	label$732$140:
	r24 = r20->array;
	r23 = ((vdynamic**)(r24 + 1))[r13];
	r21 = hl_to_virtual(&type$1549,(vdynamic*)r23);
	label$732$143:
	if( r21 == NULL ) hl_null_access();
	if( hl_vfields(r21)[6] ) *(h3d__mat__Texture*)(hl_vfields(r21)[6]) = (h3d__mat__Texture)r1; else hl_dyn_setp(r21->value,116/*t*/,&type$93,r1);
	if( hl_vfields(r21)[8] ) *(int*)(hl_vfields(r21)[8]) = (int)r6; else hl_dyn_seti(r21->value,120/*x*/,&type$3,r6);
	if( hl_vfields(r21)[9] ) *(int*)(hl_vfields(r21)[9]) = (int)r7; else hl_dyn_seti(r21->value,121/*y*/,&type$3,r7);
	if( hl_vfields(r21)[7] ) *(int*)(hl_vfields(r21)[7]) = (int)r8; else hl_dyn_seti(r21->value,119/*w*/,&type$3,r8);
	if( hl_vfields(r21)[0] ) *(int*)(hl_vfields(r21)[0]) = (int)r9; else hl_dyn_seti(r21->value,104/*h*/,&type$3,r9);
	r22 = r0->hasRenderZone;
	if( hl_vfields(r21)[1] ) *(bool*)(hl_vfields(r21)[1]) = (bool)r22; else hl_dyn_seti(r21->value,35754535/*hasRZ*/,&type$7,r22);
	r18 = r0->renderX;
	if( hl_vfields(r21)[4] ) *(double*)(hl_vfields(r21)[4]) = (double)r18; else hl_dyn_setd(r21->value,5696400/*rzX*/,r18);
	r18 = r0->renderY;
	if( hl_vfields(r21)[5] ) *(double*)(hl_vfields(r21)[5]) = (double)r18; else hl_dyn_setd(r21->value,5696401/*rzY*/,r18);
	r18 = r0->renderW;
	if( hl_vfields(r21)[3] ) *(double*)(hl_vfields(r21)[3]) = (double)r18; else hl_dyn_setd(r21->value,5696399/*rzW*/,r18);
	r18 = r0->renderH;
	if( hl_vfields(r21)[2] ) *(double*)(hl_vfields(r21)[2]) = (double)r18; else hl_dyn_setd(r21->value,5696384/*rzH*/,r18);
	label$732$159:
	r0->curX = r6;
	r0->curY = r7;
	r0->curWidth = r8;
	r0->curHeight = r9;
	r22 = r0->hasRenderZone;
	if( !r22 ) goto label$732$174;
	r22 = false;
	r0->hasRenderZone = r22;
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r2 = NULL;
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	h3d_Engine_setRenderZone(r11,r2,r3,r4,r5);
	label$732$174:
	return;
}

void h2d_RenderContext_popTarget(h2d__RenderContext r0,bool* r1) {
	String r6;
	vvirtual *r9, *r13;
	hl__types__ArrayObj r8;
	bool r2, r12;
	h3d__shader__Base2d r20;
	h3d__Engine r11;
	h3d__Vector r19;
	hxsl__ShaderList r18;
	double r21, r23, r24, r25;
	h2d__Scene r16;
	vdynamic *r7;
	h3d__mat__Texture r14;
	varray *r10;
	int r4, r5, r15, r17, r22;
	if( r1 ) goto label$733$3;
	r2 = true;
	goto label$733$4;
	label$733$3:
	r2 = *r1;
	label$733$4:
	r4 = r0->targetsStackIndex;
	r5 = 0;
	if( r5 < r4 ) goto label$733$9;
	r6 = (String)global$422;
	hl_throw((vdynamic*)r6);
	label$733$9:
	r8 = r0->targetsStack;
	if( r8 == NULL ) hl_null_access();
	r4 = r0->targetsStackIndex;
	--r4;
	r0->targetsStackIndex = r4;
	r5 = r8->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$733$18;
	r9 = NULL;
	goto label$733$21;
	label$733$18:
	r10 = r8->array;
	r7 = ((vdynamic**)(r10 + 1))[r4];
	r9 = hl_to_virtual(&type$1549,(vdynamic*)r7);
	label$733$21:
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r11);
	if( !r2 ) goto label$733$135;
	r8 = r0->targetsStack;
	if( r8 == NULL ) hl_null_access();
	r4 = r0->targetsStackIndex;
	r5 = 1;
	r4 = r4 - r5;
	r5 = r8->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$733$34;
	r13 = NULL;
	goto label$733$37;
	label$733$34:
	r10 = r8->array;
	r7 = ((vdynamic**)(r10 + 1))[r4];
	r13 = hl_to_virtual(&type$1549,(vdynamic*)r7);
	label$733$37:
	if( r13 ) goto label$733$40;
	r14 = NULL;
	goto label$733$42;
	label$733$40:
	if( r13 == NULL ) hl_null_access();
	r14 = hl_vfields(r13)[6] ? (*(h3d__mat__Texture*)(hl_vfields(r13)[6])) : (h3d__mat__Texture)hl_dyn_getp(r13->value,116/*t*/,&type$93);
	label$733$42:
	if( r13 ) goto label$733$45;
	r4 = 0;
	goto label$733$47;
	label$733$45:
	if( r13 == NULL ) hl_null_access();
	r4 = hl_vfields(r13)[8] ? (*(int*)(hl_vfields(r13)[8])) : (int)hl_dyn_geti(r13->value,120/*x*/,&type$3);
	label$733$47:
	if( r13 ) goto label$733$50;
	r5 = 0;
	goto label$733$52;
	label$733$50:
	if( r13 == NULL ) hl_null_access();
	r5 = hl_vfields(r13)[9] ? (*(int*)(hl_vfields(r13)[9])) : (int)hl_dyn_geti(r13->value,121/*y*/,&type$3);
	label$733$52:
	if( r13 ) goto label$733$57;
	r16 = r0->scene;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->width;
	goto label$733$59;
	label$733$57:
	if( r13 == NULL ) hl_null_access();
	r15 = hl_vfields(r13)[7] ? (*(int*)(hl_vfields(r13)[7])) : (int)hl_dyn_geti(r13->value,119/*w*/,&type$3);
	label$733$59:
	if( r13 ) goto label$733$64;
	r16 = r0->scene;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->height;
	goto label$733$66;
	label$733$64:
	if( r13 == NULL ) hl_null_access();
	r17 = hl_vfields(r13)[0] ? (*(int*)(hl_vfields(r13)[0])) : (int)hl_dyn_geti(r13->value,104/*h*/,&type$3);
	label$733$66:
	r18 = r0->baseShaderList;
	h2d_RenderContext_initShaders(r0,r18);
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->halfPixelInverse__;
	if( r19 == NULL ) hl_null_access();
	r21 = 0.5;
	if( r14 ) goto label$733$78;
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r22 = r11->width;
	goto label$733$80;
	label$733$78:
	if( r14 == NULL ) hl_null_access();
	r22 = r14->width;
	label$733$80:
	r23 = (double)r22;
	r21 = r21 / r23;
	r19->x = r21;
	r21 = 0.5;
	if( r14 ) goto label$733$89;
	r11 = r0->engine;
	if( r11 == NULL ) hl_null_access();
	r22 = r11->height;
	goto label$733$91;
	label$733$89:
	if( r14 == NULL ) hl_null_access();
	r22 = r14->height;
	label$733$91:
	r23 = (double)r22;
	r21 = r21 / r23;
	r19->y = r21;
	r21 = 0.;
	r19->z = r21;
	r21 = 1.;
	r19->w = r21;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->viewport__;
	if( r19 == NULL ) hl_null_access();
	r22 = -r15;
	r21 = (double)r22;
	r23 = 0.5;
	r21 = r21 * r23;
	r23 = (double)r4;
	r21 = r21 - r23;
	r19->x = r21;
	r22 = -r17;
	r21 = (double)r22;
	r23 = 0.5;
	r21 = r21 * r23;
	r23 = (double)r5;
	r21 = r21 - r23;
	r19->y = r21;
	r22 = 2;
	r21 = (double)r22;
	r23 = (double)r15;
	r21 = r21 / r23;
	r19->z = r21;
	r22 = -2;
	r21 = (double)r22;
	if( r14 ) goto label$733$126;
	r23 = r0->baseFlipY;
	goto label$733$127;
	label$733$126:
	r23 = r0->targetFlipY;
	label$733$127:
	r21 = r21 * r23;
	r23 = (double)r17;
	r21 = r21 / r23;
	r19->w = r21;
	r0->curX = r4;
	r0->curY = r5;
	r0->curWidth = r15;
	r0->curHeight = r17;
	label$733$135:
	if( r9 == NULL ) hl_null_access();
	r12 = hl_vfields(r9)[1] ? (*(bool*)(hl_vfields(r9)[1])) : (bool)hl_dyn_geti(r9->value,35754535/*hasRZ*/,&type$7);
	if( !r12 ) goto label$733$143;
	r21 = hl_vfields(r9)[4] ? (*(double*)(hl_vfields(r9)[4])) : (double)hl_dyn_getd(r9->value,5696400/*rzX*/);
	r23 = hl_vfields(r9)[5] ? (*(double*)(hl_vfields(r9)[5])) : (double)hl_dyn_getd(r9->value,5696401/*rzY*/);
	r24 = hl_vfields(r9)[3] ? (*(double*)(hl_vfields(r9)[3])) : (double)hl_dyn_getd(r9->value,5696399/*rzW*/);
	r25 = hl_vfields(r9)[2] ? (*(double*)(hl_vfields(r9)[2])) : (double)hl_dyn_getd(r9->value,5696384/*rzH*/);
	h2d_RenderContext_setRenderZone(r0,r21,r23,r24,r25);
	label$733$143:
	return;
}

void h2d_RenderContext_setRenderZone(h2d__RenderContext r0,double r1,double r2,double r3,double r4) {
	bool r5;
	h2d__Object r13;
	h3d__shader__Base2d r15;
	h3d__Engine r8;
	h3d__Vector r14, r16;
	double r6, r10, r12, r17, r18, r19, r20, r21, r22;
	int *r24, *r26, *r28, *r30;
	h2d__Scene r9;
	int r7, r23, r25, r27, r29;
	r5 = true;
	r0->hasRenderZone = r5;
	r0->renderX = r1;
	r0->renderY = r2;
	r0->renderW = r3;
	r0->renderH = r4;
	r8 = r0->engine;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	r6 = (double)r7;
	r9 = r0->scene;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->width;
	r10 = (double)r7;
	r6 = r6 / r10;
	r8 = r0->engine;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->height;
	r10 = (double)r7;
	r9 = r0->scene;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->height;
	r12 = (double)r7;
	r10 = r10 / r12;
	r13 = r0->inFilter;
	if( !r13 ) goto label$734$70;
	r15 = r0->baseShader;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->filterMatrixA__;
	r15 = r0->baseShader;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->filterMatrixB__;
	r12 = r1 + r3;
	r17 = r2 + r4;
	if( r14 == NULL ) hl_null_access();
	r19 = r14->x;
	r18 = r1 * r19;
	r20 = r14->y;
	r19 = r2 * r20;
	r18 = r18 + r19;
	r19 = r14->z;
	r18 = r18 + r19;
	if( r16 == NULL ) hl_null_access();
	r20 = r16->x;
	r19 = r1 * r20;
	r21 = r16->y;
	r20 = r2 * r21;
	r19 = r19 + r20;
	r20 = r16->z;
	r19 = r19 + r20;
	r1 = r18;
	r2 = r19;
	r21 = r14->x;
	r20 = r12 * r21;
	r22 = r14->y;
	r21 = r17 * r22;
	r20 = r20 + r21;
	r21 = r14->z;
	r20 = r20 + r21;
	r20 = r20 - r18;
	r3 = r20;
	r21 = r16->x;
	r20 = r12 * r21;
	r22 = r16->y;
	r21 = r17 * r22;
	r20 = r20 + r21;
	r21 = r16->z;
	r20 = r20 + r21;
	r20 = r20 - r19;
	r4 = r20;
	label$734$70:
	r8 = r0->engine;
	r7 = r0->curX;
	r17 = (double)r7;
	r12 = r1 - r17;
	r12 = r12 * r6;
	r17 = 1e-010;
	r12 = r12 + r17;
	r7 = (int)r12;
	r23 = r0->curY;
	r18 = (double)r23;
	r17 = r2 - r18;
	r17 = r17 * r10;
	r18 = 1e-010;
	r17 = r17 + r18;
	if( r8 == NULL ) hl_null_access();
	r23 = r7;
	r24 = &r23;
	r25 = (int)r17;
	r26 = &r25;
	r18 = r3 * r6;
	r19 = 1e-010;
	r18 = r18 + r19;
	r27 = (int)r18;
	r28 = &r27;
	r18 = r4 * r10;
	r19 = 1e-010;
	r18 = r18 + r19;
	r29 = (int)r18;
	r30 = &r29;
	h3d_Engine_setRenderZone(r8,r24,r26,r28,r30);
	return;
}

void h2d_RenderContext_clearRenderZone(h2d__RenderContext r0) {
	bool r1;
	h3d__Engine r3;
	int *r4, *r5, *r6, *r7;
	r1 = false;
	r0->hasRenderZone = r1;
	r3 = r0->engine;
	if( r3 == NULL ) hl_null_access();
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	h3d_Engine_setRenderZone(r3,r4,r5,r6,r7);
	return;
}

void h2d_RenderContext_drawLayer(h2d__RenderContext r0,int r1) {
	h2d__Scene r3;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	h2d_Layers_drawLayer(((h2d__Layers)r3),r0,r1);
	return;
}

void h2d_RenderContext_drawScene(h2d__RenderContext r0) {
	h2d__Scene r2;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	h2d_Object_drawRec(((h2d__Object)r2),r0);
	return;
}

void h2d_RenderContext_flush(h2d__RenderContext r0) {
	return;
}

void h2d_RenderContext__flush(h2d__RenderContext r0) {
	vvirtual *r13;
	hl__types__ArrayObj r8;
	venum *r12;
	hl_type *r10;
	hl__types__ArrayBytes_Single r14;
	h3d__Engine r16;
	h3d__impl__MemoryManager r18;
	h3d__Buffer r6;
	double r4, r5;
	int *r15, *r19;
	h3d__mat__Texture r20;
	h3d__Indexes r17;
	varray *r9;
	int r2, r3, r7, r11;
	r2 = r0->bufPos;
	r3 = 0;
	if( r2 != r3 ) goto label$739$4;
	return;
	label$739$4:
	h2d_RenderContext_beforeDraw(r0);
	r2 = r0->bufPos;
	r4 = (double)r2;
	r2 = r0->stride;
	r5 = (double)r2;
	r4 = r4 / r5;
	r2 = (int)r4;
	r6 = (h3d__Buffer)hl_alloc_obj(h3d__Buffer__val);
	r7 = r0->stride;
	r10 = &type$496;
	r11 = 3;
	r9 = hl_alloc_array(r10,r11);
	r12 = (venum*)global$423;
	r11 = 0;
	((venum**)(r9 + 1))[r11] = r12;
	r12 = (venum*)global$424;
	r11 = 1;
	((venum**)(r9 + 1))[r11] = r12;
	r12 = (venum*)global$425;
	r11 = 2;
	((venum**)(r9 + 1))[r11] = r12;
	r8 = hl_types_ArrayObj_alloc(r9);
	r13 = NULL;
	h3d_Buffer_new(r6,r2,r7,r8,r13);
	r14 = r0->buffer;
	r3 = 0;
	r15 = NULL;
	h3d_Buffer_uploadVector(r6,r14,r3,r2,r15);
	r16 = r0->engine;
	if( r16 == NULL ) hl_null_access();
	r18 = r16->mem;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->quadIndexes;
	r3 = 2;
	r7 = 0;
	r15 = &r7;
	r11 = -1;
	r19 = &r11;
	h3d_Engine_renderBuffer(r16,r6,r17,r3,r15,r19);
	h3d_Buffer_dispose(r6);
	r3 = 0;
	r0->bufPos = r3;
	r20 = NULL;
	r0->texture = r20;
	return;
}

void h2d_RenderContext_beforeDraw(h2d__RenderContext r0) {
	hxsl__RuntimeShader r20;
	vvirtual *r5;
	h3d__pass__ShaderManager r18;
	h2d__Drawable r10;
	venum *r7, *r11, *r14, *r15, *r16;
	h2d__filter__Filter r12;
	bool r8;
	h2d__Object r13;
	h3d__Engine r22;
	h3d__shader__Base2d r6;
	hxsl__ShaderList r21;
	h3d__mat__Pass r17;
	vdynamic *r4, *r9;
	h3d__shader__Buffers r19;
	int r3;
	h3d__mat__Texture r2;
	r2 = r0->texture;
	if( r2 ) goto label$740$7;
	r3 = 16711935;
	r4 = NULL;
	r5 = NULL;
	r2 = h3d_mat_Texture_fromColor(r3,r4,r5);
	r0->texture = r2;
	label$740$7:
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r2 = r0->texture;
	r6->texture__ = r2;
	r2 = r0->texture;
	if( r2 == NULL ) hl_null_access();
	r10 = r0->currentObj;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->smooth;
	if( r9 ) goto label$740$19;
	r8 = r0->defaultSmooth;
	goto label$740$23;
	label$740$19:
	r10 = r0->currentObj;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->smooth;
	r8 = r9 ? r9->v.b : 0;
	label$740$23:
	if( !r8 ) goto label$740$26;
	r7 = (venum*)global$419;
	goto label$740$27;
	label$740$26:
	r7 = (venum*)global$420;
	label$740$27:
	r7 = h3d_mat_Texture_set_filter(r2,r7);
	r2 = r0->texture;
	if( r2 == NULL ) hl_null_access();
	r10 = r0->currentObj;
	if( r10 == NULL ) hl_null_access();
	r8 = r10->tileWrap;
	if( !r8 ) goto label$740$42;
	r10 = r0->currentObj;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->filter;
	if( !r12 ) goto label$740$40;
	r13 = r0->inFilter;
	if( !r13 ) goto label$740$42;
	label$740$40:
	r11 = (venum*)global$426;
	goto label$740$43;
	label$740$42:
	r11 = (venum*)global$427;
	label$740$43:
	r11 = h3d_mat_Texture_set_wrap(r2,r11);
	r10 = r0->currentObj;
	if( r10 == NULL ) hl_null_access();
	r14 = r10->blendMode;
	r13 = r0->inFilter;
	r10 = r0->currentObj;
	if( r13 != ((h2d__Object)r10) ) goto label$740$54;
	r16 = (venum*)global$428;
	if( r14 != r16 ) goto label$740$54;
	r15 = (venum*)global$429;
	r14 = r15;
	label$740$54:
	r16 = r0->currentBlend;
	if( r14 == r16 ) goto label$740$60;
	r0->currentBlend = r14;
	r17 = r0->pass;
	if( r17 == NULL ) hl_null_access();
	h3d_mat_Pass_setBlendMode(r17,r14);
	label$740$60:
	r18 = r0->manager;
	if( r18 == NULL ) hl_null_access();
	r19 = r0->buffers;
	r20 = r0->compiledShader;
	r21 = r0->currentShaders;
	h3d_pass_ShaderManager_fillParams(r18,r19,r20,r21);
	r22 = r0->engine;
	if( r22 == NULL ) hl_null_access();
	r17 = r0->pass;
	h3d_Engine_selectMaterial(r22,r17);
	r22 = r0->engine;
	if( r22 == NULL ) hl_null_access();
	r19 = r0->buffers;
	r3 = 1;
	h3d_Engine_uploadShaderBuffers(r22,r19,r3);
	r22 = r0->engine;
	if( r22 == NULL ) hl_null_access();
	r19 = r0->buffers;
	r3 = 2;
	h3d_Engine_uploadShaderBuffers(r22,r19,r3);
	r22 = r0->engine;
	if( r22 == NULL ) hl_null_access();
	r19 = r0->buffers;
	r3 = 3;
	h3d_Engine_uploadShaderBuffers(r22,r19,r3);
	return;
}

bool h2d_RenderContext_beginDrawObject(h2d__RenderContext r0,h2d__Drawable r1,h3d__mat__Texture r2) {
	bool *r5;
	bool r4;
	h2d__Object r6;
	h3d__shader__Base2d r8;
	h3d__Vector r7, r11;
	double r10, r12;
	int r9;
	r4 = true;
	r5 = NULL;
	r4 = h2d_RenderContext_beginDraw(r0,r1,r2,r4,r5);
	if( r4 ) goto label$741$6;
	r4 = false;
	return r4;
	label$741$6:
	r6 = r0->inFilter;
	if( r6 != ((h2d__Object)r1) ) goto label$741$25;
	r8 = r0->baseShader;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->color__;
	if( r7 == NULL ) hl_null_access();
	r9 = 1;
	r10 = (double)r9;
	r7->x = r10;
	r9 = 1;
	r10 = (double)r9;
	r7->y = r10;
	r9 = 1;
	r10 = (double)r9;
	r7->z = r10;
	r9 = 1;
	r10 = (double)r9;
	r7->w = r10;
	goto label$741$48;
	label$741$25:
	r8 = r0->baseShader;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->color__;
	if( r7 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->x;
	r7->x = r10;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->y;
	r7->y = r10;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->z;
	r7->z = r10;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->w;
	r12 = r0->globalAlpha;
	r10 = r10 * r12;
	r7->w = r10;
	label$741$48:
	r8 = r0->baseShader;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->absoluteMatrixA__;
	if( r7 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r10 = r1->matA;
	r7->x = r10;
	r10 = r1->matC;
	r7->y = r10;
	r10 = r1->absX;
	r7->z = r10;
	r10 = 1.;
	r7->w = r10;
	r8 = r0->baseShader;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->absoluteMatrixB__;
	if( r7 == NULL ) hl_null_access();
	r10 = r1->matB;
	r7->x = r10;
	r10 = r1->matD;
	r7->y = r10;
	r10 = r1->absY;
	r7->z = r10;
	r10 = 1.;
	r7->w = r10;
	h2d_RenderContext_beforeDraw(r0);
	r4 = true;
	return r4;
}

bool h2d_RenderContext_beginDrawBatch(h2d__RenderContext r0,h2d__Drawable r1,h3d__mat__Texture r2) {
	bool *r4;
	bool r3;
	r3 = false;
	r4 = NULL;
	r3 = h2d_RenderContext_beginDraw(r0,r1,r2,r3,r4);
	return r3;
}

bool h2d_RenderContext_drawTile(h2d__RenderContext r0,h2d__Drawable r1,h2d__Tile r2) {
	bool *r32;
	vvirtual *r38;
	hl__types__ArrayObj r34;
	venum *r37;
	hl_type *r36;
	bool r27, r31;
	h2d__Object r4;
	hl__types__ArrayBytes_Single r39;
	h3d__Engine r42;
	h3d__shader__Base2d r6;
	h3d__impl__MemoryManager r44;
	h3d__Vector r5, r7, r11;
	float r40;
	h3d__Buffer r33;
	double r8, r9, r10, r12, r13, r14, r15, r16, r17, r19, r20, r22, r23, r24, r25, r26;
	int *r41, *r45;
	h3d__Indexes r43;
	varray *r35;
	h3d__mat__Texture r30;
	int r18, r21, r28, r29;
	r4 = r0->inFilter;
	if( !r4 ) goto label$743$64;
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->filterMatrixA__;
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->filterMatrixB__;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->matA;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->x;
	r9 = r9 * r10;
	r10 = r1->matB;
	r12 = r5->y;
	r10 = r10 * r12;
	r9 = r9 + r10;
	r8 = r9;
	r10 = r1->matA;
	if( r7 == NULL ) hl_null_access();
	r12 = r7->x;
	r10 = r10 * r12;
	r12 = r1->matB;
	r13 = r7->y;
	r12 = r12 * r13;
	r10 = r10 + r12;
	r9 = r10;
	r12 = r1->matC;
	r13 = r5->x;
	r12 = r12 * r13;
	r13 = r1->matD;
	r14 = r5->y;
	r13 = r13 * r14;
	r12 = r12 + r13;
	r10 = r12;
	r13 = r1->matC;
	r14 = r7->x;
	r13 = r13 * r14;
	r14 = r1->matD;
	r15 = r7->y;
	r14 = r14 * r15;
	r13 = r13 + r14;
	r12 = r13;
	r14 = r1->absX;
	r15 = r5->x;
	r14 = r14 * r15;
	r15 = r1->absY;
	r16 = r5->y;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r15 = r5->z;
	r14 = r14 + r15;
	r13 = r14;
	r15 = r1->absX;
	r16 = r7->x;
	r15 = r15 * r16;
	r16 = r1->absY;
	r17 = r7->y;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r16 = r7->z;
	r15 = r15 + r16;
	r14 = r15;
	goto label$743$77;
	label$743$64:
	if( r1 == NULL ) hl_null_access();
	r15 = r1->matA;
	r8 = r15;
	r15 = r1->matB;
	r9 = r15;
	r15 = r1->matC;
	r10 = r15;
	r15 = r1->matD;
	r12 = r15;
	r15 = r1->absX;
	r13 = r15;
	r15 = r1->absY;
	r14 = r15;
	label$743$77:
	r18 = 0;
	r16 = (double)r18;
	if( r9 != r16 ) goto label$743$151;
	r18 = 0;
	r16 = (double)r18;
	if( r10 != r16 ) goto label$743$151;
	r15 = r1->matA;
	r18 = 0;
	r17 = (double)r18;
	if( !(r15 < r17) ) goto label$743$89;
	r16 = -r15;
	goto label$743$90;
	label$743$89:
	r16 = r15;
	label$743$90:
	r17 = r1->matD;
	r18 = 0;
	r20 = (double)r18;
	if( !(r17 < r20) ) goto label$743$96;
	r19 = -r17;
	goto label$743$97;
	label$743$96:
	r19 = r17;
	label$743$97:
	if( r2 == NULL ) hl_null_access();
	r18 = r2->width;
	r21 = r2->height;
	if( r21 >= r18 ) goto label$743$103;
	r18 = r2->width;
	goto label$743$104;
	label$743$103:
	r18 = r2->height;
	label$743$104:
	r20 = (double)r18;
	r22 = 1.5;
	r20 = r20 * r22;
	if( !(r16 < r19) ) goto label$743$110;
	r22 = r19;
	goto label$743$111;
	label$743$110:
	r22 = r16;
	label$743$111:
	r20 = r20 * r22;
	r18 = r2->dx;
	r23 = (double)r18;
	r18 = r2->width;
	r24 = (double)r18;
	r25 = 0.5;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r23 = r23 * r8;
	r22 = r13 + r23;
	r18 = r0->curX;
	r23 = (double)r18;
	r22 = r22 - r23;
	r18 = r2->dy;
	r24 = (double)r18;
	r18 = r2->height;
	r25 = (double)r18;
	r26 = 0.5;
	r25 = r25 * r26;
	r24 = r24 + r25;
	r24 = r24 * r12;
	r23 = r14 + r24;
	r18 = r0->curY;
	r24 = (double)r18;
	r23 = r23 - r24;
	r25 = -r20;
	if( r22 < r25 ) goto label$743$148;
	r25 = -r20;
	if( r23 < r25 ) goto label$743$148;
	r24 = r22 - r20;
	r18 = r0->curWidth;
	r25 = (double)r18;
	if( r25 < r24 ) goto label$743$148;
	r24 = r23 - r20;
	r18 = r0->curHeight;
	r25 = (double)r18;
	if( !(r25 < r24) ) goto label$743$150;
	label$743$148:
	r27 = false;
	return r27;
	label$743$150:
	goto label$743$284;
	label$743$151:
	r15 = 1e+020;
	r16 = 1e+020;
	r17 = -1e+020;
	r19 = -1e+020;
	if( r2 == NULL ) hl_null_access();
	r18 = r2->dx;
	r20 = (double)r18;
	r20 = r20 * r8;
	r18 = r2->dy;
	r22 = (double)r18;
	r22 = r22 * r10;
	r20 = r20 + r22;
	r18 = r2->dx;
	r22 = (double)r18;
	r22 = r22 * r9;
	r18 = r2->dy;
	r23 = (double)r18;
	r23 = r23 * r12;
	r22 = r22 + r23;
	r24 = 1e+020;
	if( !(r20 < r24) ) goto label$743$173;
	r15 = r20;
	label$743$173:
	r24 = -1e+020;
	if( !(r24 < r20) ) goto label$743$176;
	r17 = r20;
	label$743$176:
	r24 = 1e+020;
	if( !(r22 < r24) ) goto label$743$179;
	r16 = r22;
	label$743$179:
	r24 = -1e+020;
	if( !(r24 < r22) ) goto label$743$182;
	r19 = r22;
	label$743$182:
	r18 = r2->width;
	r28 = r2->dx;
	r21 = r18 + r28;
	r20 = (double)r21;
	r20 = r20 * r8;
	r21 = r2->dy;
	r22 = (double)r21;
	r22 = r22 * r10;
	r20 = r20 + r22;
	r28 = r2->dx;
	r21 = r18 + r28;
	r22 = (double)r21;
	r22 = r22 * r9;
	r21 = r2->dy;
	r23 = (double)r21;
	r23 = r23 * r12;
	r22 = r22 + r23;
	if( !(r20 < r15) ) goto label$743$201;
	r15 = r20;
	label$743$201:
	if( !(r17 < r20) ) goto label$743$203;
	r17 = r20;
	label$743$203:
	if( !(r22 < r16) ) goto label$743$205;
	r16 = r22;
	label$743$205:
	if( !(r19 < r22) ) goto label$743$207;
	r19 = r22;
	label$743$207:
	r18 = r2->height;
	r21 = r2->dx;
	r20 = (double)r21;
	r20 = r20 * r8;
	r28 = r2->dy;
	r21 = r18 + r28;
	r22 = (double)r21;
	r22 = r22 * r10;
	r20 = r20 + r22;
	r21 = r2->dx;
	r22 = (double)r21;
	r22 = r22 * r9;
	r28 = r2->dy;
	r21 = r18 + r28;
	r23 = (double)r21;
	r23 = r23 * r12;
	r22 = r22 + r23;
	if( !(r20 < r15) ) goto label$743$226;
	r15 = r20;
	label$743$226:
	if( !(r17 < r20) ) goto label$743$228;
	r17 = r20;
	label$743$228:
	if( !(r22 < r16) ) goto label$743$230;
	r16 = r22;
	label$743$230:
	if( !(r19 < r22) ) goto label$743$232;
	r19 = r22;
	label$743$232:
	r18 = r2->width;
	r21 = r2->height;
	r29 = r2->dx;
	r28 = r18 + r29;
	r20 = (double)r28;
	r20 = r20 * r8;
	r29 = r2->dy;
	r28 = r21 + r29;
	r22 = (double)r28;
	r22 = r22 * r10;
	r20 = r20 + r22;
	r29 = r2->dx;
	r28 = r18 + r29;
	r22 = (double)r28;
	r22 = r22 * r9;
	r29 = r2->dy;
	r28 = r21 + r29;
	r23 = (double)r28;
	r23 = r23 * r12;
	r22 = r22 + r23;
	if( !(r20 < r15) ) goto label$743$254;
	r15 = r20;
	label$743$254:
	if( !(r17 < r20) ) goto label$743$256;
	r17 = r20;
	label$743$256:
	if( !(r22 < r16) ) goto label$743$258;
	r16 = r22;
	label$743$258:
	if( !(r19 < r22) ) goto label$743$260;
	r19 = r22;
	label$743$260:
	r18 = r0->curX;
	r22 = (double)r18;
	r20 = r13 - r22;
	r18 = r0->curY;
	r23 = (double)r18;
	r22 = r14 - r23;
	r23 = r20 + r17;
	r18 = 0;
	r24 = (double)r18;
	if( r23 < r24 ) goto label$743$282;
	r23 = r22 + r19;
	r18 = 0;
	r24 = (double)r18;
	if( r23 < r24 ) goto label$743$282;
	r23 = r20 + r15;
	r18 = r0->curWidth;
	r24 = (double)r18;
	if( r24 < r23 ) goto label$743$282;
	r23 = r22 + r16;
	r18 = r0->curHeight;
	r24 = (double)r18;
	if( !(r24 < r23) ) goto label$743$284;
	label$743$282:
	r27 = false;
	return r27;
	label$743$284:
	r30 = r2->innerTex;
	r27 = true;
	r31 = true;
	r32 = &r31;
	r27 = h2d_RenderContext_beginDraw(r0,r1,r30,r27,r32);
	if( r27 ) goto label$743$292;
	r27 = false;
	return r27;
	label$743$292:
	r4 = r0->inFilter;
	if( r4 != ((h2d__Object)r1) ) goto label$743$311;
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->color__;
	if( r5 == NULL ) hl_null_access();
	r18 = 1;
	r15 = (double)r18;
	r5->x = r15;
	r18 = 1;
	r15 = (double)r18;
	r5->y = r15;
	r18 = 1;
	r15 = (double)r18;
	r5->z = r15;
	r18 = 1;
	r15 = (double)r18;
	r5->w = r15;
	goto label$743$333;
	label$743$311:
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->color__;
	if( r5 == NULL ) hl_null_access();
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->x;
	r5->x = r15;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->y;
	r5->y = r15;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->z;
	r5->z = r15;
	r11 = r1->color;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->w;
	r16 = r0->globalAlpha;
	r15 = r15 * r16;
	r5->w = r15;
	label$743$333:
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->absoluteMatrixA__;
	if( r5 == NULL ) hl_null_access();
	r18 = r2->width;
	r15 = (double)r18;
	r16 = r1->matA;
	r15 = r15 * r16;
	r5->x = r15;
	r18 = r2->height;
	r15 = (double)r18;
	r16 = r1->matC;
	r15 = r15 * r16;
	r5->y = r15;
	r15 = r1->absX;
	r18 = r2->dx;
	r16 = (double)r18;
	r17 = r1->matA;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r18 = r2->dy;
	r16 = (double)r18;
	r17 = r1->matC;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r5->z = r15;
	r15 = 1.;
	r5->w = r15;
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->absoluteMatrixB__;
	if( r5 == NULL ) hl_null_access();
	r18 = r2->width;
	r15 = (double)r18;
	r16 = r1->matB;
	r15 = r15 * r16;
	r5->x = r15;
	r18 = r2->height;
	r15 = (double)r18;
	r16 = r1->matD;
	r15 = r15 * r16;
	r5->y = r15;
	r15 = r1->absY;
	r18 = r2->dx;
	r16 = (double)r18;
	r17 = r1->matB;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r18 = r2->dy;
	r16 = (double)r18;
	r17 = r1->matD;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r5->z = r15;
	r15 = 1.;
	r5->w = r15;
	r6 = r0->baseShader;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->uvPos__;
	if( r5 == NULL ) hl_null_access();
	r15 = r2->u;
	r5->x = r15;
	r15 = r2->v;
	r5->y = r15;
	r15 = r2->u2;
	r16 = r2->u;
	r15 = r15 - r16;
	r5->z = r15;
	r15 = r2->v2;
	r16 = r2->v;
	r15 = r15 - r16;
	r5->w = r15;
	h2d_RenderContext_beforeDraw(r0);
	r33 = r0->fixedBuffer;
	if( !r33 ) goto label$743$412;
	r33 = r0->fixedBuffer;
	if( r33 == NULL ) hl_null_access();
	r27 = h3d_Buffer_isDisposed(r33);
	if( !r27 ) goto label$743$532;
	label$743$412:
	r33 = (h3d__Buffer)hl_alloc_obj(h3d__Buffer__val);
	r18 = 4;
	r21 = 8;
	r36 = &type$496;
	r28 = 2;
	r35 = hl_alloc_array(r36,r28);
	r37 = (venum*)global$423;
	r28 = 0;
	((venum**)(r35 + 1))[r28] = r37;
	r37 = (venum*)global$425;
	r28 = 1;
	((venum**)(r35 + 1))[r28] = r37;
	r34 = hl_types_ArrayObj_alloc(r35);
	r38 = NULL;
	h3d_Buffer_new(r33,r18,r21,r34,r38);
	r0->fixedBuffer = r33;
	r39 = (hl__types__ArrayBytes_Single)hl_alloc_obj(hl__types__ArrayBytes_Single__val);
	hl_types_ArrayBytes_Single_new(r39);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 0;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r18 = 1;
	r40 = (float)r18;
	r18 = hl_types_ArrayBytes_Single_push(r39,r40);
	r33 = r0->fixedBuffer;
	if( r33 == NULL ) hl_null_access();
	r18 = 0;
	r21 = 4;
	r41 = NULL;
	h3d_Buffer_uploadVector(r33,r39,r18,r21,r41);
	label$743$532:
	r42 = r0->engine;
	if( r42 == NULL ) hl_null_access();
	r33 = r0->fixedBuffer;
	r44 = r42->mem;
	if( r44 == NULL ) hl_null_access();
	r43 = r44->quadIndexes;
	r18 = 2;
	r21 = 0;
	r41 = &r21;
	r28 = -1;
	r45 = &r28;
	h3d_Engine_renderBuffer(r42,r33,r43,r18,r41,r45);
	r27 = true;
	return r27;
}

bool h2d_RenderContext_beginDraw(h2d__RenderContext r0,h2d__Drawable r1,h3d__mat__Texture r2,bool r3,bool* r4) {
	String r23;
	h3d__pass__ShaderManager r18;
	bool r5, r8, r9, r16, r21;
	hxsl__ShaderInstance r15, r19;
	hxsl__Shader r13, r14;
	h3d__shader__Base2d r20;
	hxsl__ShaderList r10, r11, r12, r22;
	hxsl__Globals r17;
	vclosure *r7;
	int r24;
	if( r4 ) goto label$744$3;
	r5 = false;
	goto label$744$4;
	label$744$3:
	r5 = *r4;
	label$744$4:
	r7 = r0->onBeginDraw;
	if( !r7 ) goto label$744$12;
	r7 = r0->onBeginDraw;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->hasValue ? ((bool (*)(vdynamic*,h2d__Drawable))r7->fun)((vdynamic*)r7->value,r1) : ((bool (*)(h2d__Drawable))r7->fun)(r1);
	if( r8 ) goto label$744$12;
	r8 = false;
	return r8;
	label$744$12:
	r8 = false;
	r9 = false;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->shaders;
	r11 = r0->currentShaders;
	if( r11 == NULL ) hl_null_access();
	r11 = r11->next;
	label$744$19:
	if( !r10 ) goto label$744$45;
	if( !r11 ) goto label$744$45;
	if( r10 == NULL ) hl_null_access();
	r13 = r10->s;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->s;
	r12 = r10->next;
	r10 = r12;
	r12 = r11->next;
	r11 = r12;
	if( r14 == NULL ) hl_null_access();
	r15 = r14->instance;
	if( r13 == r14 ) goto label$744$35;
	r16 = true;
	r9 = r16;
	label$744$35:
	if( r13 == NULL ) hl_null_access();
	r18 = r0->manager;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->globals;
	((void (*)(hxsl__Shader,hxsl__Globals))r13->$type->vobj_proto[2])(r13,r17);
	r19 = r13->instance;
	if( r19 == r15 ) goto label$744$44;
	r16 = true;
	r8 = r16;
	label$744$44:
	goto label$744$19;
	label$744$45:
	if( r10 ) goto label$744$60;
	if( r11 ) goto label$744$60;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = r20->isRelative__;
	if( r16 != r3 ) goto label$744$60;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = r20->hasUVPos__;
	if( r16 != r5 ) goto label$744$60;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = r20->killAlpha__;
	r21 = r0->killAlpha;
	if( r16 == r21 ) goto label$744$62;
	label$744$60:
	r16 = true;
	r8 = r16;
	label$744$62:
	if( !r8 ) goto label$744$93;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = true;
	r20->constModified = r16;
	r20->hasUVPos__ = r5;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = true;
	r20->constModified = r16;
	r20->isRelative__ = r3;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r16 = true;
	r20->constModified = r16;
	r16 = r0->killAlpha;
	r20->killAlpha__ = r16;
	r20 = r0->baseShader;
	if( r20 == NULL ) hl_null_access();
	r18 = r0->manager;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->globals;
	h3d_shader_Base2d_updateConstants(r20,r17);
	r12 = r0->baseShaderList;
	if( r12 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r22 = r1->shaders;
	r12->next = r22;
	r12 = r0->baseShaderList;
	h2d_RenderContext_initShaders(r0,r12);
	goto label$744$104;
	label$744$93:
	if( !r9 ) goto label$744$104;
	r12 = r0->currentShaders;
	r22 = r0->baseShaderList;
	if( r12 == r22 ) goto label$744$99;
	r23 = (String)global$430;
	hl_throw((vdynamic*)r23);
	label$744$99:
	r12 = r0->currentShaders;
	if( r12 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r22 = r1->shaders;
	r12->next = r22;
	label$744$104:
	r0->texture = r2;
	r24 = 8;
	r0->stride = r24;
	r0->currentObj = r1;
	r16 = true;
	return r16;
}

void h2d_RenderContext_new(h2d__RenderContext r0,h2d__Scene r1) {
	String r10;
	h2d__col__Bounds r2;
	hl__types__ArrayObj r8;
	hl_type *r19;
	venum *r13, *r14, *r15;
	h3d__pass__ShaderManager r7;
	bool r4;
	h3d__shader__Base2d r16;
	hxsl__ShaderList r11, r17;
	h3d__mat__Pass r9, r12;
	double r5;
	varray *r18;
	int r6;
	r2 = (h2d__col__Bounds)hl_alloc_obj(h2d__col__Bounds__val);
	h2d_col_Bounds_new(r2);
	r0->tmpBounds = r2;
	r4 = false;
	r0->defaultSmooth = r4;
	r5 = 1.;
	r0->globalAlpha = r5;
	h3d_impl_RenderContext_new(((h3d__impl__RenderContext)r0));
	r0->scene = r1;
	r6 = 0;
	r0->bufPos = r6;
	r7 = (h3d__pass__ShaderManager)hl_alloc_obj(h3d__pass__ShaderManager__val);
	r8 = NULL;
	h3d_pass_ShaderManager_new(r7,r8);
	r0->manager = r7;
	r9 = (h3d__mat__Pass)hl_alloc_obj(h3d__mat__Pass__val);
	r10 = (String)global$8;
	r11 = NULL;
	r12 = NULL;
	h3d_mat_Pass_new(r9,r10,r11,r12);
	r0->pass = r9;
	r9 = r0->pass;
	if( r9 == NULL ) hl_null_access();
	r4 = true;
	r13 = (venum*)global$414;
	h3d_mat_Pass_depth(r9,r4,r13);
	r9 = r0->pass;
	if( r9 == NULL ) hl_null_access();
	r14 = (venum*)global$415;
	r14 = h3d_mat_Pass_set_culling(r9,r14);
	r15 = (venum*)global$396;
	r0->currentBlend = r15;
	r9 = r0->pass;
	if( r9 == NULL ) hl_null_access();
	r15 = r0->currentBlend;
	h3d_mat_Pass_setBlendMode(r9,r15);
	r16 = (h3d__shader__Base2d)hl_alloc_obj(h3d__shader__Base2d__val);
	h3d_shader_Base2d_new(r16);
	r0->baseShader = r16;
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r6 = 100;
	hxsl_Shader_setPriority(((hxsl__Shader)r16),r6);
	r16 = r0->baseShader;
	if( r16 == NULL ) hl_null_access();
	r5 = 0.;
	r16->zValue__ = r5;
	r11 = (hxsl__ShaderList)hl_alloc_obj(hxsl__ShaderList__val);
	r16 = r0->baseShader;
	r17 = NULL;
	hxsl_ShaderList_new(r11,((hxsl__Shader)r16),r17);
	r0->baseShaderList = r11;
	r19 = &type$1549;
	r6 = 0;
	r18 = hl_alloc_array(r19,r6);
	r8 = hl_types_ArrayObj_alloc(r18);
	r0->targetsStack = r8;
	r6 = 0;
	r0->targetsStackIndex = r6;
	r19 = &type$136;
	r6 = 0;
	r18 = hl_alloc_array(r19,r6);
	r8 = hl_types_ArrayObj_alloc(r18);
	r0->filterStack = r8;
	return;
}

