// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

String dx_Window_set_title(dx__Window r0,String r1) {
	dx_window *r3;
	vbyte *r4;
	r3 = r0->win;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->bytes;
	directx_win_set_title(r3,r4);
	r0->title = r1;
	return r1;
}

int dx_Window_set_displayMode(dx__Window r0,int r1) {
	vvirtual *r6;
	bool r5, r7;
	dx_window *r8;
	int r3, r4;
	r4 = r0->displayMode;
	if( r1 != r4 ) goto label$544$3;
	return r1;
	label$544$3:
	r0->displayMode = r1;
	r4 = 0;
	if( r1 != r4 ) goto label$544$8;
	r5 = false;
	goto label$544$9;
	label$544$8:
	r5 = true;
	label$544$9:
	r6 = r0->savedSize;
	if( r6 ) goto label$544$33;
	if( r5 ) goto label$544$13;
	return r1;
	label$544$13:
	r6 = hl_alloc_virtual(&type$117);
	r3 = dx_Window_get_x(r0);
	if( hl_vfields(r6)[2] ) *(int*)(hl_vfields(r6)[2]) = (int)r3; else hl_dyn_seti(r6->value,120/*x*/,&type$3,r3);
	r3 = dx_Window_get_y(r0);
	if( hl_vfields(r6)[3] ) *(int*)(hl_vfields(r6)[3]) = (int)r3; else hl_dyn_seti(r6->value,121/*y*/,&type$3,r3);
	r3 = dx_Window_get_width(r0);
	if( hl_vfields(r6)[1] ) *(int*)(hl_vfields(r6)[1]) = (int)r3; else hl_dyn_seti(r6->value,-362629759/*width*/,&type$3,r3);
	r3 = dx_Window_get_height(r0);
	if( hl_vfields(r6)[0] ) *(int*)(hl_vfields(r6)[0]) = (int)r3; else hl_dyn_seti(r6->value,38537191/*height*/,&type$3,r3);
	r0->savedSize = r6;
	r8 = r0->win;
	r7 = true;
	directx_win_set_fullscreen(r8,r7);
	r4 = 1;
	if( r1 == r4 ) goto label$544$30;
	r7 = false;
	goto label$544$31;
	label$544$30:
	r7 = true;
	label$544$31:
	r7 = dx_Driver_set_fullScreen(r7);
	goto label$544$60;
	label$544$33:
	r4 = 1;
	if( r1 == r4 ) goto label$544$37;
	r7 = false;
	goto label$544$38;
	label$544$37:
	r7 = true;
	label$544$38:
	r7 = dx_Driver_set_fullScreen(r7);
	if( !r5 ) goto label$544$41;
	return r1;
	label$544$41:
	r8 = r0->win;
	r7 = false;
	directx_win_set_fullscreen(r8,r7);
	r6 = r0->savedSize;
	if( r6 == NULL ) hl_null_access();
	r3 = hl_vfields(r6)[1] ? (*(int*)(hl_vfields(r6)[1])) : (int)hl_dyn_geti(r6->value,-362629759/*width*/,&type$3);
	r6 = r0->savedSize;
	if( r6 == NULL ) hl_null_access();
	r4 = hl_vfields(r6)[0] ? (*(int*)(hl_vfields(r6)[0])) : (int)hl_dyn_geti(r6->value,38537191/*height*/,&type$3);
	dx_Window_resize(r0,r3,r4);
	r6 = r0->savedSize;
	if( r6 == NULL ) hl_null_access();
	r3 = hl_vfields(r6)[2] ? (*(int*)(hl_vfields(r6)[2])) : (int)hl_dyn_geti(r6->value,120/*x*/,&type$3);
	r6 = r0->savedSize;
	if( r6 == NULL ) hl_null_access();
	r4 = hl_vfields(r6)[3] ? (*(int*)(hl_vfields(r6)[3])) : (int)hl_dyn_geti(r6->value,121/*y*/,&type$3);
	dx_Window_setPosition(r0,r3,r4);
	r6 = NULL;
	r0->savedSize = r6;
	label$544$60:
	return r1;
}

bool dx_Window_set_visible(dx__Window r0,bool r1) {
	bool r3;
	dx_window *r4;
	int r5;
	r3 = r0->visible;
	if( r3 != r1 ) goto label$545$3;
	return r1;
	label$545$3:
	r4 = r0->win;
	if( !r1 ) goto label$545$7;
	r5 = 4;
	goto label$545$8;
	label$545$7:
	r5 = 3;
	label$545$8:
	directx_win_resize(r4,r5);
	r0->visible = r1;
	return r1;
}

void dx_Window_resize(dx__Window r0,int r1,int r2) {
	dx_window *r4;
	r4 = r0->win;
	directx_win_set_size(r4,r1,r2);
	return;
}

void dx_Window_setPosition(dx__Window r0,int r1,int r2) {
	dx_window *r4;
	r4 = r0->win;
	directx_win_set_position(r4,r1,r2);
	return;
}

int dx_Window_get_width(dx__Window r0) {
	dx_window *r3;
	int *r4, *r5;
	int r1;
	r1 = 0;
	r3 = r0->win;
	r4 = &r1;
	r5 = NULL;
	directx_win_get_size(r3,r4,r5);
	return r1;
}

int dx_Window_get_height(dx__Window r0) {
	dx_window *r3;
	int *r4, *r5;
	int r1;
	r1 = 0;
	r3 = r0->win;
	r4 = NULL;
	r5 = &r1;
	directx_win_get_size(r3,r4,r5);
	return r1;
}

int dx_Window_get_x(dx__Window r0) {
	dx_window *r3;
	int *r4, *r5;
	int r1;
	r1 = 0;
	r3 = r0->win;
	r4 = &r1;
	r5 = NULL;
	directx_win_get_position(r3,r4,r5);
	return r1;
}

int dx_Window_get_y(dx__Window r0) {
	dx_window *r3;
	int *r4, *r5;
	int r1;
	r1 = 0;
	r3 = r0->win;
	r4 = NULL;
	r5 = &r1;
	directx_win_get_position(r3,r4,r5);
	return r1;
}

void dx_Window_destroy(dx__Window r0) {
	hl__types__ArrayObj r4;
	dx__$Window r5;
	bool r3;
	dx_window *r2;
	r2 = r0->win;
	directx_win_destroy(r2);
	r2 = NULL;
	r0->win = r2;
	r5 = (dx__$Window)global$33;
	r4 = r5->windows;
	if( r4 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_remove(r4,((vdynamic*)r0));
	return;
}

void dx_Window_maximize(dx__Window r0) {
	dx_window *r2;
	int r3;
	r2 = r0->win;
	r3 = 0;
	directx_win_resize(r2,r3);
	return;
}

void dx_Window_minimize(dx__Window r0) {
	dx_window *r2;
	int r3;
	r2 = r0->win;
	r3 = 1;
	directx_win_resize(r2,r3);
	return;
}

void dx_Window_restore(dx__Window r0) {
	dx_window *r2;
	int r3;
	r2 = r0->win;
	r3 = 2;
	directx_win_resize(r2,r3);
	return;
}

bool dx_Window_getNextEvent(dx__Window r0,dx__Event r1) {
	bool r2;
	dx_window *r3;
	r3 = r0->win;
	r2 = directx_win_get_next_event(r3,((vdynamic*)r1));
	return r2;
}

void dx_Window_clipCursor(dx__Window r0,bool r1) {
	dx_window *r3;
	if( !r1 ) goto label$557$3;
	r3 = r0->win;
	goto label$557$4;
	label$557$3:
	r3 = NULL;
	label$557$4:
	directx_win_clip_cursor(r3);
	return;
}

void dx_Window_new(dx__Window r0,String r1,int r2,int r3) {
	String r7;
	hl__types__ArrayObj r8;
	dx__$Window r9;
	bool r4;
	dx_window *r5;
	int r6;
	r4 = true;
	r0->visible = r4;
	r5 = directx_win_create(r2,r3);
	r0->win = r5;
	r7 = dx_Window_set_title(r0,r1);
	r9 = (dx__$Window)global$33;
	r8 = r9->windows;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r8,((vdynamic*)r0));
	r4 = true;
	r0->vsync = r4;
	return;
}

