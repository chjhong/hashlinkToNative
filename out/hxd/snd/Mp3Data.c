// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

void hxd_snd_Mp3Data_decodeBuffer(hxd__snd__Mp3Data r0,haxe__io__Bytes r1,int r2,int r3,int r4) {
	String r5;
	r5 = (String)global$1319;
	hl_throw((vdynamic*)r5);
}

void hxd_snd_Mp3Data_new(hxd__snd__Mp3Data r0,haxe__io__Bytes r1) {
	hl__types__ArrayObj r10;
	haxe__io__BytesInput r4;
	format__mp3__Reader r3;
	vvirtual *r2, *r12, *r19;
	venum *r20, *r21, *r22, *r23;
	haxe__io__Bytes r5;
	vdynamic *r6, *r7, *r13;
	varray *r14;
	int r9, r11, r15, r16, r17, r18;
	r3 = (format__mp3__Reader)hl_alloc_obj(format__mp3__Reader__val);
	r4 = (haxe__io__BytesInput)hl_alloc_obj(haxe__io__BytesInput__val);
	r6 = NULL;
	r7 = NULL;
	haxe_io_BytesInput_new(r4,r1,r6,r7);
	format_mp3_Reader_new(r3,((haxe__io__Input)r4));
	r2 = format_mp3_Reader_read(r3);
	if( r2 == NULL ) hl_null_access();
	r9 = hl_vfields(r2)[2] ? (*(int*)(hl_vfields(r2)[2])) : (int)hl_dyn_geti(r2->value,27753940/*sampleCount*/,&type$3);
	r0->samples = r9;
	r10 = hl_vfields(r2)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r2)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r2->value,-326783332/*frames*/,&type$46);
	if( r10 == NULL ) hl_null_access();
	r9 = 0;
	r11 = r10->length;
	if( ((unsigned)r9) < ((unsigned)r11) ) goto label$3749$17;
	r12 = NULL;
	goto label$3749$20;
	label$3749$17:
	r14 = r10->array;
	r13 = ((vdynamic**)(r14 + 1))[r9];
	r12 = hl_to_virtual(&type$934,(vdynamic*)r13);
	label$3749$20:
	if( r12 == NULL ) hl_null_access();
	r5 = hl_vfields(r12)[0] ? (*(haxe__io__Bytes*)(hl_vfields(r12)[0])) : (haxe__io__Bytes)hl_dyn_getp(r12->value,40064820/*data*/,&type$75);
	r9 = -1;
	r11 = 0;
	if( r5 == NULL ) hl_null_access();
	r15 = r5->length;
	r16 = 24;
	r15 = r15 - r16;
	label$3749$28:
	if( r11 >= r15 ) goto label$3749$54;
	r16 = r11;
	++r11;
	if( r5 == NULL ) hl_null_access();
	r17 = haxe_io_Bytes_get(r5,r16);
	r18 = 76;
	if( r17 != r18 ) goto label$3749$53;
	r18 = 1;
	r17 = r16 + r18;
	r17 = haxe_io_Bytes_get(r5,r17);
	r18 = 65;
	if( r17 != r18 ) goto label$3749$53;
	r18 = 2;
	r17 = r16 + r18;
	r17 = haxe_io_Bytes_get(r5,r17);
	r18 = 77;
	if( r17 != r18 ) goto label$3749$53;
	r18 = 3;
	r17 = r16 + r18;
	r17 = haxe_io_Bytes_get(r5,r17);
	r18 = 69;
	if( r17 != r18 ) goto label$3749$53;
	r9 = r16;
	goto label$3749$54;
	label$3749$53:
	goto label$3749$28;
	label$3749$54:
	r15 = 0;
	if( r9 < r15 ) goto label$3749$82;
	if( r5 == NULL ) hl_null_access();
	r15 = 21;
	r11 = r9 + r15;
	r11 = haxe_io_Bytes_get(r5,r11);
	r15 = 16;
	r11 = r11 << r15;
	r16 = 22;
	r15 = r9 + r16;
	r15 = haxe_io_Bytes_get(r5,r15);
	r16 = 8;
	r15 = r15 << r16;
	r11 = r11 | r15;
	r16 = 23;
	r15 = r9 + r16;
	r15 = haxe_io_Bytes_get(r5,r15);
	r11 = r11 | r15;
	r15 = r0->samples;
	r17 = 12;
	r16 = r11 >> r17;
	r18 = 4095;
	r17 = r11 & r18;
	r16 = r16 + r17;
	r17 = 1152;
	r16 = r16 + r17;
	r15 = r15 - r16;
	r0->samples = r15;
	label$3749$82:
	if( r2 == NULL ) hl_null_access();
	r10 = hl_vfields(r2)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r2)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r2->value,-326783332/*frames*/,&type$46);
	if( r10 == NULL ) hl_null_access();
	r11 = 0;
	r15 = r10->length;
	if( ((unsigned)r11) < ((unsigned)r15) ) goto label$3749$90;
	r12 = NULL;
	goto label$3749$93;
	label$3749$90:
	r14 = r10->array;
	r13 = ((vdynamic**)(r14 + 1))[r11];
	r12 = hl_to_virtual(&type$934,(vdynamic*)r13);
	label$3749$93:
	if( r12 == NULL ) hl_null_access();
	r19 = hl_vfields(r12)[1] ? (*(vvirtual**)(hl_vfields(r12)[1])) : (vvirtual*)hl_dyn_getp(r12->value,-50329203/*header*/,&type$930);
	r20 = (venum*)global$1318;
	r0->sampleFormat = r20;
	if( r19 == NULL ) hl_null_access();
	r21 = hl_vfields(r19)[12] ? (*(venum**)(hl_vfields(r19)[12])) : (venum*)hl_dyn_getp(r19->value,372418284/*samplingRate*/,&type$434);
	r11 = format_mp3_MPEG_srEnum2Num(r21);
	r0->samplingRate = r11;
	r22 = hl_vfields(r19)[1] ? (*(venum**)(hl_vfields(r19)[1])) : (venum*)hl_dyn_getp(r19->value,405740998/*channelMode*/,&type$446);
	r23 = (venum*)global$323;
	if( r22 != r23 ) goto label$3749$106;
	r11 = 1;
	goto label$3749$107;
	label$3749$106:
	r11 = 2;
	label$3749$107:
	r0->channels = r11;
	return;
}

