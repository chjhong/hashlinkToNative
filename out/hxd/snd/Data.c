// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

bool hxd_snd_Data_isLoading(hxd__snd__Data r0) {
	bool r1;
	r1 = false;
	return r1;
}

void hxd_snd_Data_decode(hxd__snd__Data r0,haxe__io__Bytes r1,int r2,int r3,int r4) {
	String r10, r13, r14, r15;
	int *r11;
	vbyte *r12;
	int r5, r7, r8, r9, r16;
	r5 = hxd_snd_Data_getBytesPerSample(r0);
	r8 = 0;
	if( r3 < r8 ) goto label$3727$12;
	r8 = 0;
	if( r4 < r8 ) goto label$3727$12;
	r8 = 0;
	if( r2 < r8 ) goto label$3727$12;
	r8 = r4 * r5;
	r7 = r2 + r8;
	if( r1 == NULL ) hl_null_access();
	r8 = r1->length;
	if( r8 >= r7 ) goto label$3727$48;
	label$3727$12:
	r10 = (String)global$1304;
	r7 = r3;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r13 = String___alloc__(r12,r7);
	r10 = String___add__(r10,r13);
	r14 = (String)global$1305;
	r7 = r4;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r15 = String___alloc__(r12,r7);
	r14 = String___add__(r14,r15);
	r13 = String___add__(r10,r14);
	r14 = (String)global$1306;
	r7 = r2;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r15 = String___alloc__(r12,r7);
	r14 = String___add__(r14,r15);
	r13 = String___add__(r13,r14);
	r14 = (String)global$1307;
	r7 = r5;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r15 = String___alloc__(r12,r7);
	r14 = String___add__(r14,r15);
	r13 = String___add__(r13,r14);
	r14 = (String)global$1308;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->length;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r15 = String___alloc__(r12,r7);
	r14 = String___add__(r14,r15);
	r13 = String___add__(r13,r14);
	hl_throw((vdynamic*)r13);
	label$3727$48:
	r7 = r3 + r4;
	r8 = r0->samples;
	if( r7 < r8 ) goto label$3727$65;
	r7 = 0;
	r9 = r0->samples;
	if( r3 >= r9 ) goto label$3727$58;
	r8 = r0->samples;
	r8 = r8 - r3;
	r7 = r8;
	((void (*)(hxd__snd__Data,haxe__io__Bytes,int,int,int))r0->$type->vobj_proto[1])(r0,r1,r2,r3,r7);
	label$3727$58:
	r9 = r7 * r5;
	r8 = r2 + r9;
	r9 = r4 - r7;
	r9 = r9 * r5;
	r16 = 0;
	haxe_io_Bytes_fill(r1,r8,r9,r16);
	return;
	label$3727$65:
	((void (*)(hxd__snd__Data,haxe__io__Bytes,int,int,int))r0->$type->vobj_proto[1])(r0,r1,r2,r3,r4);
	return;
}

hxd__snd__Data hxd_snd_Data_resample(hxd__snd__Data r0,int r1,venum* r2,int r3) {
	hxd__snd__WavData r18;
	venum *r5;
	haxe__io__Bytes r11, r13, r16;
	double r8, r9, r10;
	int r6, r7, r12, r14, r15, r17;
	r5 = r0->sampleFormat;
	if( r5 != r2 ) goto label$3728$7;
	r6 = r0->samplingRate;
	if( r6 != r1 ) goto label$3728$7;
	r6 = r0->channels;
	if( r6 != r3 ) goto label$3728$7;
	return r0;
	label$3728$7:
	r6 = r0->samples;
	r8 = (double)r6;
	r9 = (double)r1;
	r6 = r0->samplingRate;
	r10 = (double)r6;
	r9 = r9 / r10;
	r8 = r8 * r9;
	r6 = hl_math_ceil(r8);
	r7 = hxd_snd_Data_getBytesPerSample(r0);
	r12 = r0->samples;
	r7 = r7 * r12;
	r11 = haxe_io_Bytes_alloc(r7);
	r7 = 0;
	r12 = 0;
	r14 = r0->samples;
	((void (*)(hxd__snd__Data,haxe__io__Bytes,int,int,int))r0->$type->vobj_proto[1])(r0,r11,r7,r12,r14);
	r7 = r3 * r6;
	if( r2 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r2);
	switch(r12) {
		default:
			goto label$3728$36;
		case 0:
			r14 = 1;
			r12 = r14;
			goto label$3728$36;
		case 1:
			r14 = 2;
			r12 = r14;
			goto label$3728$36;
		case 2:
			r14 = 4;
			r12 = r14;
	}
	label$3728$36:
	r14 = r7 * r12;
	r13 = haxe_io_Bytes_alloc(r14);
	r14 = 0;
	r15 = 0;
	r17 = r0->samples;
	hxd_snd_Data_resampleBuffer(r0,r13,r14,r11,r15,r1,r2,r3,r17);
	r18 = (hxd__snd__WavData)hl_alloc_obj(hxd__snd__WavData__val);
	r16 = NULL;
	hxd_snd_WavData_new(r18,r16);
	r18->channels = r3;
	r18->samples = r6;
	r18->sampleFormat = r2;
	r18->samplingRate = r1;
	r18->rawData = r13;
	return ((hxd__snd__Data)r18);
}

void hxd_snd_Data_resampleBuffer(hxd__snd__Data r0,haxe__io__Bytes r1,int r2,haxe__io__Bytes r3,int r4,int r5,venum* r6,int r7,int r8) {
	venum *r19, *r20, *r29;
	bool r15, r18;
	double r12, r13, r14, r30, r34, r35, r36, r40;
	vbyte *r25;
	int r9, r11, r16, r17, r21, r22, r23, r24, r26, r27, r28, r31, r32, r33, r37, r38, r39;
	r9 = hxd_snd_Data_getBytesPerSample(r0);
	r12 = (double)r8;
	r13 = (double)r5;
	r11 = r0->samplingRate;
	r14 = (double)r11;
	r13 = r13 / r14;
	r12 = r12 * r13;
	r11 = hl_math_ceil(r12);
	if( r8 != r11 ) goto label$3729$11;
	r15 = false;
	goto label$3729$12;
	label$3729$11:
	r15 = true;
	label$3729$12:
	if( r15 ) goto label$3729$113;
	r19 = r0->sampleFormat;
	r20 = (venum*)global$1309;
	if( r19 != r20 ) goto label$3729$113;
	r20 = (venum*)global$1309;
	if( r6 != r20 ) goto label$3729$113;
	r17 = 1;
	if( r7 != r17 ) goto label$3729$113;
	r16 = r0->channels;
	r17 = 2;
	if( r16 != r17 ) goto label$3729$113;
	r16 = r4;
	r17 = r2;
	r21 = 0;
	r22 = r8;
	label$3729$27:
	if( r21 >= r22 ) goto label$3729$112;
	++r21;
	r24 = 1;
	r23 = r16 + r24;
	if( r3 == NULL ) hl_null_access();
	r24 = r3->length;
	if( ((unsigned)r23) >= ((unsigned)r24) ) goto label$3729$37;
	r18 = false;
	goto label$3729$38;
	label$3729$37:
	r18 = true;
	label$3729$38:
	if( !r18 ) goto label$3729$42;
	r24 = 0;
	r23 = r24;
	goto label$3729$45;
	label$3729$42:
	r25 = r3->b;
	r24 = *(unsigned short*)(r25 + r16);
	r23 = r24;
	label$3729$45:
	r26 = 2;
	r24 = r16 + r26;
	r16 = r24;
	r26 = 1;
	r24 = r24 + r26;
	r26 = r3->length;
	if( ((unsigned)r24) >= ((unsigned)r26) ) goto label$3729$54;
	r18 = false;
	goto label$3729$55;
	label$3729$54:
	r18 = true;
	label$3729$55:
	if( !r18 ) goto label$3729$59;
	r26 = 0;
	r24 = r26;
	goto label$3729$62;
	label$3729$59:
	r25 = r3->b;
	r26 = *(unsigned short*)(r25 + r16);
	r24 = r26;
	label$3729$62:
	r27 = 2;
	r26 = r16 + r27;
	r16 = r26;
	r26 = r23 ^ r24;
	r27 = 32768;
	if( r26 < r27 ) goto label$3729$91;
	r27 = 32768;
	r26 = r23 & r27;
	r27 = 0;
	if( r26 != r27 ) goto label$3729$73;
	goto label$3729$76;
	label$3729$73:
	r27 = -65536;
	r26 = r23 | r27;
	r23 = r26;
	label$3729$76:
	r27 = 32768;
	r26 = r24 & r27;
	r27 = 0;
	if( r26 != r27 ) goto label$3729$81;
	goto label$3729$84;
	label$3729$81:
	r27 = -65536;
	r26 = r24 | r27;
	r24 = r26;
	label$3729$84:
	r27 = r23 + r24;
	r28 = 1;
	r27 = r27 >> r28;
	r28 = 65535;
	r27 = r27 & r28;
	r26 = r27;
	goto label$3729$95;
	label$3729$91:
	r27 = r23 + r24;
	r28 = 1;
	r27 = r27 >> r28;
	r26 = r27;
	label$3729$95:
	r28 = 1;
	r27 = r17 + r28;
	if( r1 == NULL ) hl_null_access();
	r28 = r1->length;
	if( ((unsigned)r27) >= ((unsigned)r28) ) goto label$3729$102;
	r18 = false;
	goto label$3729$103;
	label$3729$102:
	r18 = true;
	label$3729$103:
	if( !r18 ) goto label$3729$106;
	r29 = (venum*)global$808;
	hl_throw((vdynamic*)r29);
	label$3729$106:
	r25 = r1->b;
	*(unsigned short*)(r25 + r17) = (unsigned short)r26;
	r28 = 2;
	r27 = r17 + r28;
	r17 = r27;
	goto label$3729$27;
	label$3729$112:
	return;
	label$3729$113:
	r16 = r0->channels;
	if( r7 >= r16 ) goto label$3729$117;
	r17 = r7;
	goto label$3729$118;
	label$3729$117:
	r17 = r16;
	label$3729$118:
	r21 = r7 - r17;
	r12 = 0.;
	r22 = 0;
	r23 = 0;
	r24 = r11;
	label$3729$123:
	if( r23 >= r24 ) goto label$3729$344;
	r26 = r23;
	++r23;
	r13 = (double)r26;
	r27 = 1;
	r26 = r11 - r27;
	r14 = (double)r26;
	r13 = r13 / r14;
	r27 = 1;
	r26 = r8 - r27;
	r14 = (double)r26;
	r13 = r13 * r14;
	r26 = (int)r13;
	r30 = (double)r26;
	r14 = r13 - r30;
	r28 = r26 * r9;
	r27 = r4 + r28;
	r32 = 1;
	r31 = r8 - r32;
	if( r26 != r31 ) goto label$3729$146;
	r18 = false;
	r15 = r18;
	label$3729$146:
	r28 = 0;
	r31 = r17;
	label$3729$148:
	if( r28 >= r31 ) goto label$3729$306;
	++r28;
	r30 = 0.;
	r19 = r0->sampleFormat;
	if( r19 == NULL ) hl_null_access();
	r32 = HL__ENUM_INDEX__(r19);
	switch(r32) {
		default:
			goto label$3729$245;
		case 0:
			if( r3 == NULL ) hl_null_access();
			r32 = haxe_io_Bytes_get(r3,r27);
			r35 = (double)r32;
			r32 = 255;
			r36 = (double)r32;
			r35 = r35 / r36;
			r34 = r35;
			if( !r15 ) goto label$3729$172;
			r32 = r27 + r9;
			r32 = haxe_io_Bytes_get(r3,r32);
			r35 = (double)r32;
			r32 = 255;
			r36 = (double)r32;
			r35 = r35 / r36;
			r30 = r35;
			label$3729$172:
			++r27;
			goto label$3729$245;
		case 1:
			r33 = 1;
			r32 = r27 + r33;
			if( r3 == NULL ) hl_null_access();
			r33 = r3->length;
			if( ((unsigned)r32) >= ((unsigned)r33) ) goto label$3729$181;
			r18 = false;
			goto label$3729$182;
			label$3729$181:
			r18 = true;
			label$3729$182:
			if( !r18 ) goto label$3729$186;
			r33 = 0;
			r32 = r33;
			goto label$3729$189;
			label$3729$186:
			r25 = r3->b;
			r33 = *(unsigned short*)(r25 + r27);
			r32 = r33;
			label$3729$189:
			r37 = 32768;
			r33 = r33 & r37;
			r37 = 0;
			if( r33 != r37 ) goto label$3729$195;
			r33 = r32;
			goto label$3729$197;
			label$3729$195:
			r37 = -65536;
			r33 = r32 | r37;
			label$3729$197:
			r35 = (double)r33;
			r33 = 32768;
			r36 = (double)r33;
			r35 = r35 / r36;
			r34 = r35;
			if( !r15 ) goto label$3729$231;
			r33 = r27 + r9;
			r38 = 1;
			r37 = r33 + r38;
			r38 = r3->length;
			if( ((unsigned)r37) >= ((unsigned)r38) ) goto label$3729$210;
			r18 = false;
			goto label$3729$211;
			label$3729$210:
			r18 = true;
			label$3729$211:
			if( !r18 ) goto label$3729$215;
			r38 = 0;
			r37 = r38;
			goto label$3729$218;
			label$3729$215:
			r25 = r3->b;
			r38 = *(unsigned short*)(r25 + r33);
			r37 = r38;
			label$3729$218:
			r39 = 32768;
			r38 = r38 & r39;
			r39 = 0;
			if( r38 != r39 ) goto label$3729$224;
			r38 = r37;
			goto label$3729$226;
			label$3729$224:
			r39 = -65536;
			r38 = r37 | r39;
			label$3729$226:
			r35 = (double)r38;
			r38 = 32768;
			r36 = (double)r38;
			r35 = r35 / r36;
			r30 = r35;
			label$3729$231:
			r37 = 2;
			r33 = r27 + r37;
			r27 = r33;
			goto label$3729$245;
		case 2:
			if( r3 == NULL ) hl_null_access();
			r35 = haxe_io_Bytes_getFloat(r3,r27);
			r34 = r35;
			if( !r15 ) goto label$3729$242;
			r32 = r27 + r9;
			r35 = haxe_io_Bytes_getFloat(r3,r32);
			r30 = r35;
			label$3729$242:
			r33 = 4;
			r32 = r27 + r33;
			r27 = r32;
	}
	label$3729$245:
	if( !r15 ) goto label$3729$250;
	r40 = r30 - r34;
	r36 = r14 * r40;
	r35 = r34 + r36;
	goto label$3729$251;
	label$3729$250:
	r35 = r34;
	label$3729$251:
	r12 = r35;
	if( r6 == NULL ) hl_null_access();
	r32 = HL__ENUM_INDEX__(r6);
	switch(r32) {
		default:
			goto label$3729$305;
		case 0:
			r32 = 1;
			r36 = (double)r32;
			r35 = r35 + r36;
			r32 = 128;
			r36 = (double)r32;
			r35 = r35 * r36;
			r32 = (int)r35;
			r22 = r32;
			r33 = 255;
			if( r33 >= r32 ) goto label$3729$268;
			r32 = 255;
			r22 = r32;
			label$3729$268:
			if( r1 == NULL ) hl_null_access();
			r32 = r2;
			++r2;
			haxe_io_Bytes_set(r1,r32,r22);
			goto label$3729$305;
		case 1:
			r32 = 32768;
			r36 = (double)r32;
			r35 = r35 * r36;
			r32 = (int)r35;
			r33 = 32767;
			if( r33 >= r32 ) goto label$3729$280;
			r32 = 32767;
			label$3729$280:
			r33 = 65535;
			r32 = r32 & r33;
			r22 = r32;
			r33 = 1;
			r32 = r2 + r33;
			if( r1 == NULL ) hl_null_access();
			r33 = r1->length;
			if( ((unsigned)r32) >= ((unsigned)r33) ) goto label$3729$290;
			r18 = false;
			goto label$3729$291;
			label$3729$290:
			r18 = true;
			label$3729$291:
			if( !r18 ) goto label$3729$294;
			r29 = (venum*)global$808;
			hl_throw((vdynamic*)r29);
			label$3729$294:
			r25 = r1->b;
			*(unsigned short*)(r25 + r2) = (unsigned short)r22;
			r33 = 2;
			r32 = r2 + r33;
			r2 = r32;
			goto label$3729$305;
		case 2:
			if( r1 == NULL ) hl_null_access();
			haxe_io_Bytes_setFloat(r1,r2,r35);
			r33 = 4;
			r32 = r2 + r33;
			r2 = r32;
	}
	label$3729$305:
	goto label$3729$148;
	label$3729$306:
	r28 = 0;
	r31 = r21;
	label$3729$308:
	if( r28 >= r31 ) goto label$3729$343;
	++r28;
	if( r6 == NULL ) hl_null_access();
	r32 = HL__ENUM_INDEX__(r6);
	switch(r32) {
		default:
			goto label$3729$342;
		case 0:
			if( r1 == NULL ) hl_null_access();
			r32 = r2;
			++r2;
			haxe_io_Bytes_set(r1,r32,r22);
			goto label$3729$342;
		case 1:
			r33 = 1;
			r32 = r2 + r33;
			if( r1 == NULL ) hl_null_access();
			r33 = r1->length;
			if( ((unsigned)r32) >= ((unsigned)r33) ) goto label$3729$327;
			r18 = false;
			goto label$3729$328;
			label$3729$327:
			r18 = true;
			label$3729$328:
			if( !r18 ) goto label$3729$331;
			r29 = (venum*)global$808;
			hl_throw((vdynamic*)r29);
			label$3729$331:
			r25 = r1->b;
			*(unsigned short*)(r25 + r2) = (unsigned short)r22;
			r33 = 2;
			r32 = r2 + r33;
			r2 = r32;
			goto label$3729$342;
		case 2:
			if( r1 == NULL ) hl_null_access();
			haxe_io_Bytes_setFloat(r1,r2,r12);
			r33 = 4;
			r32 = r2 + r33;
			r2 = r32;
	}
	label$3729$342:
	goto label$3729$308;
	label$3729$343:
	goto label$3729$123;
	label$3729$344:
	return;
}

void hxd_snd_Data_decodeBuffer(hxd__snd__Data r0,haxe__io__Bytes r1,int r2,int r3,int r4) {
	String r5;
	r5 = (String)global$484;
	hl_throw((vdynamic*)r5);
}

int hxd_snd_Data_getBytesPerSample(hxd__snd__Data r0) {
	venum *r2;
	int r1, r3;
	r2 = r0->sampleFormat;
	if( r2 == NULL ) hl_null_access();
	r1 = HL__ENUM_INDEX__(r2);
	switch(r1) {
		default:
			goto label$3731$13;
		case 0:
			r3 = 1;
			r1 = r3;
			goto label$3731$13;
		case 1:
			r3 = 2;
			r1 = r3;
			goto label$3731$13;
		case 2:
			r3 = 4;
			r1 = r3;
	}
	label$3731$13:
	r3 = r0->channels;
	r3 = r3 * r1;
	return r3;
}

void hxd_snd_Data_load(hxd__snd__Data r0,vclosure* r1) {
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	return;
}

double hxd_snd_Data_get_duration(hxd__snd__Data r0) {
	double r1, r3;
	int r2;
	r2 = r0->samples;
	r1 = (double)r2;
	r2 = r0->samplingRate;
	r3 = (double)r2;
	r1 = r1 / r3;
	return r1;
}

int hxd_snd_Data_formatBytes(venum* r0) {
	int r1;
	if( r0 == NULL ) hl_null_access();
	r1 = HL__ENUM_INDEX__(r0);
	switch(r1) {
		default:
			goto label$3734$10;
		case 0:
			r1 = 1;
			return r1;
		case 1:
			r1 = 2;
			return r1;
		case 2:
			r1 = 4;
			return r1;
	}
	label$3734$10:
	r1 = 0;
	return r1;
}

