// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

String hxd_Key_getKeyName(int r0) {
	String r3, r6;
	int *r4;
	vbyte *r5;
	int r1, r2;
	r2 = 0;
	if( r2 == r0 ) goto label$3295$116;
	r2 = 1;
	if( r2 == r0 ) goto label$3295$118;
	r2 = 2;
	if( r2 == r0 ) goto label$3295$120;
	r2 = 8;
	if( r2 == r0 ) goto label$3295$122;
	r2 = 9;
	if( r2 == r0 ) goto label$3295$124;
	r2 = 13;
	if( r2 == r0 ) goto label$3295$126;
	r2 = 16;
	if( r2 == r0 ) goto label$3295$128;
	r2 = 17;
	if( r2 == r0 ) goto label$3295$130;
	r2 = 18;
	if( r2 == r0 ) goto label$3295$132;
	r2 = 27;
	if( r2 == r0 ) goto label$3295$134;
	r2 = 32;
	if( r2 == r0 ) goto label$3295$136;
	r2 = 33;
	if( r2 == r0 ) goto label$3295$138;
	r2 = 34;
	if( r2 == r0 ) goto label$3295$140;
	r2 = 35;
	if( r2 == r0 ) goto label$3295$142;
	r2 = 36;
	if( r2 == r0 ) goto label$3295$144;
	r2 = 37;
	if( r2 == r0 ) goto label$3295$146;
	r2 = 38;
	if( r2 == r0 ) goto label$3295$148;
	r2 = 39;
	if( r2 == r0 ) goto label$3295$150;
	r2 = 40;
	if( r2 == r0 ) goto label$3295$152;
	r2 = 45;
	if( r2 == r0 ) goto label$3295$154;
	r2 = 46;
	if( r2 == r0 ) goto label$3295$156;
	r2 = 106;
	if( r2 == r0 ) goto label$3295$158;
	r2 = 107;
	if( r2 == r0 ) goto label$3295$160;
	r2 = 108;
	if( r2 == r0 ) goto label$3295$162;
	r2 = 109;
	if( r2 == r0 ) goto label$3295$164;
	r2 = 110;
	if( r2 == r0 ) goto label$3295$166;
	r2 = 111;
	if( r2 == r0 ) goto label$3295$168;
	r2 = 272;
	if( r2 == r0 ) goto label$3295$170;
	r2 = 273;
	if( r2 == r0 ) goto label$3295$172;
	r2 = 274;
	if( r2 == r0 ) goto label$3295$174;
	r2 = 528;
	if( r2 == r0 ) goto label$3295$176;
	r2 = 529;
	if( r2 == r0 ) goto label$3295$178;
	r2 = 530;
	if( r2 == r0 ) goto label$3295$180;
	r2 = 48;
	if( r0 < r2 ) goto label$3295$78;
	r2 = 57;
	if( r2 < r0 ) goto label$3295$78;
	r3 = (String)global$8;
	r2 = 48;
	r1 = r0 - r2;
	r4 = &r1;
	r5 = hl_itos(r1,r4);
	r6 = String___alloc__(r5,r1);
	r3 = String___add__(r3,r6);
	return r3;
	label$3295$78:
	r2 = 96;
	if( r0 < r2 ) goto label$3295$90;
	r2 = 105;
	if( r2 < r0 ) goto label$3295$90;
	r3 = (String)global$913;
	r2 = 96;
	r1 = r0 - r2;
	r4 = &r1;
	r5 = hl_itos(r1,r4);
	r6 = String___alloc__(r5,r1);
	r3 = String___add__(r3,r6);
	return r3;
	label$3295$90:
	r2 = 65;
	if( r0 < r2 ) goto label$3295$100;
	r2 = 90;
	if( r2 < r0 ) goto label$3295$100;
	r1 = 65;
	r1 = r1 + r0;
	r2 = 65;
	r1 = r1 - r2;
	r3 = String_fromCharCode(r1);
	return r3;
	label$3295$100:
	r2 = 112;
	if( r0 < r2 ) goto label$3295$114;
	r2 = 123;
	if( r2 < r0 ) goto label$3295$114;
	r3 = (String)global$914;
	r2 = 112;
	r1 = r0 - r2;
	r2 = 1;
	r1 = r1 + r2;
	r4 = &r1;
	r5 = hl_itos(r1,r4);
	r6 = String___alloc__(r5,r1);
	r3 = String___add__(r3,r6);
	return r3;
	label$3295$114:
	r3 = NULL;
	return r3;
	label$3295$116:
	r3 = (String)global$915;
	return r3;
	label$3295$118:
	r3 = (String)global$916;
	return r3;
	label$3295$120:
	r3 = (String)global$917;
	return r3;
	label$3295$122:
	r3 = (String)global$918;
	return r3;
	label$3295$124:
	r3 = (String)global$919;
	return r3;
	label$3295$126:
	r3 = (String)global$920;
	return r3;
	label$3295$128:
	r3 = (String)global$921;
	return r3;
	label$3295$130:
	r3 = (String)global$922;
	return r3;
	label$3295$132:
	r3 = (String)global$923;
	return r3;
	label$3295$134:
	r3 = (String)global$924;
	return r3;
	label$3295$136:
	r3 = (String)global$925;
	return r3;
	label$3295$138:
	r3 = (String)global$926;
	return r3;
	label$3295$140:
	r3 = (String)global$927;
	return r3;
	label$3295$142:
	r3 = (String)global$928;
	return r3;
	label$3295$144:
	r3 = (String)global$929;
	return r3;
	label$3295$146:
	r3 = (String)global$930;
	return r3;
	label$3295$148:
	r3 = (String)global$931;
	return r3;
	label$3295$150:
	r3 = (String)global$932;
	return r3;
	label$3295$152:
	r3 = (String)global$933;
	return r3;
	label$3295$154:
	r3 = (String)global$934;
	return r3;
	label$3295$156:
	r3 = (String)global$935;
	return r3;
	label$3295$158:
	r3 = (String)global$936;
	return r3;
	label$3295$160:
	r3 = (String)global$937;
	return r3;
	label$3295$162:
	r3 = (String)global$938;
	return r3;
	label$3295$164:
	r3 = (String)global$939;
	return r3;
	label$3295$166:
	r3 = (String)global$940;
	return r3;
	label$3295$168:
	r3 = (String)global$941;
	return r3;
	label$3295$170:
	r3 = (String)global$942;
	return r3;
	label$3295$172:
	r3 = (String)global$943;
	return r3;
	label$3295$174:
	r3 = (String)global$944;
	return r3;
	label$3295$176:
	r3 = (String)global$945;
	return r3;
	label$3295$178:
	r3 = (String)global$946;
	return r3;
	label$3295$180:
	r3 = (String)global$947;
	return r3;
}

void hxd_Key_onEvent(hxd__Event r0) {
	venum *r3;
	bool r12;
	hl__types__ArrayBytes_Int r5;
	hxd__$Timer r7;
	double r10, r11;
	vbyte *r9;
	hxd__$Key r6;
	int r2, r4, r8;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->kind;
	if( r3 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r3);
	switch(r2) {
		default:
		case 2:
		case 3:
		case 4:
		case 6:
		case 7:
			goto label$3294$117;
		case 0:
			r2 = r0->button;
			r4 = 5;
			if( r2 >= r4 ) goto label$3294$24;
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r2 = r0->button;
			r7 = (hxd__$Timer)global$146;
			r4 = r7->frameCount;
			r8 = 1;
			r4 = r4 + r8;
			r8 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r8) ) goto label$3294$20;
			hl_types_ArrayBytes_Int___expand(r5,r2);
			label$3294$20:
			r9 = r5->bytes;
			r8 = 2;
			r8 = r2 << r8;
			*(int*)(r9 + r8) = r4;
			label$3294$24:
			goto label$3294$117;
		case 1:
			r2 = r0->button;
			r4 = 5;
			if( r2 >= r4 ) goto label$3294$44;
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r2 = r0->button;
			r7 = (hxd__$Timer)global$146;
			r4 = r7->frameCount;
			r8 = 1;
			r4 = r4 + r8;
			r4 = -r4;
			r8 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r8) ) goto label$3294$40;
			hl_types_ArrayBytes_Int___expand(r5,r2);
			label$3294$40:
			r9 = r5->bytes;
			r8 = 2;
			r8 = r2 << r8;
			*(int*)(r9 + r8) = r4;
			label$3294$44:
			goto label$3294$117;
		case 5:
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r10 = r0->wheelDelta;
			r2 = 0;
			r11 = (double)r2;
			if( !(r11 < r10) ) goto label$3294$54;
			r2 = 6;
			goto label$3294$55;
			label$3294$54:
			r2 = 5;
			label$3294$55:
			r7 = (hxd__$Timer)global$146;
			r4 = r7->frameCount;
			r8 = 1;
			r4 = r4 + r8;
			r8 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r8) ) goto label$3294$62;
			hl_types_ArrayBytes_Int___expand(r5,r2);
			label$3294$62:
			r9 = r5->bytes;
			r8 = 2;
			r8 = r2 << r8;
			*(int*)(r9 + r8) = r4;
			goto label$3294$117;
		case 8:
			r6 = (hxd__$Key)global$912;
			r12 = r6->ALLOW_KEY_REPEAT;
			if( r12 ) goto label$3294$85;
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r2 = r0->keyCode;
			r4 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r4) ) goto label$3294$78;
			r2 = 0;
			goto label$3294$82;
			label$3294$78:
			r9 = r5->bytes;
			r4 = 2;
			r4 = r2 << r4;
			r2 = *(int*)(r9 + r4);
			label$3294$82:
			r4 = 0;
			if( r4 >= r2 ) goto label$3294$85;
			return;
			label$3294$85:
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r2 = r0->keyCode;
			r7 = (hxd__$Timer)global$146;
			r4 = r7->frameCount;
			r8 = 1;
			r4 = r4 + r8;
			r8 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r8) ) goto label$3294$96;
			hl_types_ArrayBytes_Int___expand(r5,r2);
			label$3294$96:
			r9 = r5->bytes;
			r8 = 2;
			r8 = r2 << r8;
			*(int*)(r9 + r8) = r4;
			goto label$3294$117;
		case 9:
			r6 = (hxd__$Key)global$912;
			r5 = r6->keyPressed;
			if( r5 == NULL ) hl_null_access();
			r2 = r0->keyCode;
			r7 = (hxd__$Timer)global$146;
			r4 = r7->frameCount;
			r8 = 1;
			r4 = r4 + r8;
			r4 = -r4;
			r8 = r5->length;
			if( ((unsigned)r2) < ((unsigned)r8) ) goto label$3294$113;
			hl_types_ArrayBytes_Int___expand(r5,r2);
			label$3294$113:
			r9 = r5->bytes;
			r8 = 2;
			r8 = r2 << r8;
			*(int*)(r9 + r8) = r4;
	}
	label$3294$117:
	return;
}

void hxd_Key_dispose() {
	bool r1;
	hl__types__ArrayBytes_Int r5;
	hxd__Window r3;
	vclosure *r4;
	int r7;
	vbyte *r6;
	hxd__$Key r2;
	r2 = (hxd__$Key)global$912;
	r1 = r2->initDone;
	if( !r1 ) goto label$3293$17;
	r3 = hxd_Window_getInstance();
	if( r3 == NULL ) hl_null_access();
	r4 = &cl$3294;
	hxd_Window_removeEventTarget(r3,r4);
	r1 = false;
	r2 = (hxd__$Key)global$912;
	r2->initDone = r1;
	r7 = 0;
	r6 = hl_alloc_bytes(r7);
	r7 = 0;
	r7 = 0;
	r5 = hl_types_ArrayBase_allocI32(r6,r7);
	r2 = (hxd__$Key)global$912;
	r2->keyPressed = r5;
	label$3293$17:
	return;
}

void hxd_Key_initialize() {
	bool r1;
	hl__types__ArrayBytes_Int r3;
	hxd__Window r6;
	vclosure *r7;
	int r5;
	vbyte *r4;
	hxd__$Key r2;
	r2 = (hxd__$Key)global$912;
	r1 = r2->initDone;
	if( !r1 ) goto label$1758$4;
	hxd_Key_dispose();
	label$1758$4:
	r1 = true;
	r2 = (hxd__$Key)global$912;
	r2->initDone = r1;
	r5 = 0;
	r4 = hl_alloc_bytes(r5);
	r5 = 0;
	r5 = 0;
	r3 = hl_types_ArrayBase_allocI32(r4,r5);
	r2 = (hxd__$Key)global$912;
	r2->keyPressed = r3;
	r6 = hxd_Window_getInstance();
	if( r6 == NULL ) hl_null_access();
	r7 = &cl$3294;
	hxd_Window_addEventTarget(r6,r7);
	return;
}

bool hxd_Key_isReleased(int r0) {
	bool r1;
	hl__types__ArrayBytes_Int r2;
	hxd__$Timer r7;
	vbyte *r6;
	int r4, r5, r8;
	hxd__$Key r3;
	r3 = (hxd__$Key)global$912;
	r2 = r3->keyPressed;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r5) ) goto label$3292$7;
	r4 = 0;
	goto label$3292$11;
	label$3292$7:
	r6 = r2->bytes;
	r5 = 2;
	r5 = r0 << r5;
	r4 = *(int*)(r6 + r5);
	label$3292$11:
	r7 = (hxd__$Timer)global$146;
	r5 = r7->frameCount;
	r8 = 1;
	r5 = r5 + r8;
	r5 = -r5;
	r8 = 1;
	r5 = r5 + r8;
	if( r4 == r5 ) goto label$3292$21;
	r1 = false;
	goto label$3292$22;
	label$3292$21:
	r1 = true;
	label$3292$22:
	return r1;
}

bool hxd_Key_isPressed(int r0) {
	bool r1;
	hl__types__ArrayBytes_Int r2;
	hxd__$Timer r7;
	vbyte *r6;
	int r4, r5, r8;
	hxd__$Key r3;
	r3 = (hxd__$Key)global$912;
	r2 = r3->keyPressed;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r5) ) goto label$3291$7;
	r4 = 0;
	goto label$3291$11;
	label$3291$7:
	r6 = r2->bytes;
	r5 = 2;
	r5 = r0 << r5;
	r4 = *(int*)(r6 + r5);
	label$3291$11:
	r7 = (hxd__$Timer)global$146;
	r5 = r7->frameCount;
	r8 = 1;
	r5 = r5 + r8;
	r8 = 1;
	r5 = r5 - r8;
	if( r4 == r5 ) goto label$3291$20;
	r1 = false;
	goto label$3291$21;
	label$3291$20:
	r1 = true;
	label$3291$21:
	return r1;
}

int hxd_Key_getFrame() {
	hxd__$Timer r1;
	int r0, r2;
	r1 = (hxd__$Timer)global$146;
	r0 = r1->frameCount;
	r2 = 1;
	r0 = r0 + r2;
	return r0;
}

bool hxd_Key_isDown(int r0) {
	bool r1;
	hl__types__ArrayBytes_Int r2;
	vbyte *r6;
	int r4, r5;
	hxd__$Key r3;
	r3 = (hxd__$Key)global$912;
	r2 = r3->keyPressed;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	if( ((unsigned)r0) < ((unsigned)r5) ) goto label$3289$7;
	r4 = 0;
	goto label$3289$11;
	label$3289$7:
	r6 = r2->bytes;
	r5 = 2;
	r5 = r0 << r5;
	r4 = *(int*)(r6 + r5);
	label$3289$11:
	r5 = 0;
	if( r4 > r5 ) goto label$3289$15;
	r1 = false;
	goto label$3289$16;
	label$3289$15:
	r1 = true;
	label$3289$16:
	return r1;
}

