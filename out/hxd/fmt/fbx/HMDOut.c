// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

double hxd_fmt_fbx_HMDOut_int32tof(hxd__fmt__fbx__HMDOut r0,int r1) {
	haxe__io__Bytes r3;
	double r7;
	int r4, r5, r6;
	r3 = r0->tmp;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r6 = 255;
	r5 = r1 & r6;
	haxe_io_Bytes_set(r3,r4,r5);
	r3 = r0->tmp;
	if( r3 == NULL ) hl_null_access();
	r4 = 1;
	r6 = 8;
	r5 = r1 >> r6;
	r6 = 255;
	r5 = r5 & r6;
	haxe_io_Bytes_set(r3,r4,r5);
	r3 = r0->tmp;
	if( r3 == NULL ) hl_null_access();
	r4 = 2;
	r6 = 16;
	r5 = r1 >> r6;
	r6 = 255;
	r5 = r5 & r6;
	haxe_io_Bytes_set(r3,r4,r5);
	r3 = r0->tmp;
	if( r3 == NULL ) hl_null_access();
	r4 = 3;
	r6 = 24;
	r5 = ((unsigned)r1) >> r6;
	haxe_io_Bytes_set(r3,r4,r5);
	r3 = r0->tmp;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r7 = haxe_io_Bytes_getFloat(r3,r4);
	return r7;
}

bool hxd_fmt_fbx_HMDOut_keepJoint(hxd__fmt__fbx__HMDOut r0,h3d__anim__Joint r1) {
	String r5, r6;
	bool r3;
	EReg r4;
	r3 = r0->optimizeSkin;
	if( r3 ) goto label$3437$4;
	r3 = true;
	return r3;
	label$3437$4:
	r4 = (EReg)hl_alloc_obj(EReg__val);
	r5 = (String)global$1123;
	r6 = (String)global$8;
	EReg_new(r4,r5,r6);
	if( r1 == NULL ) hl_null_access();
	r5 = r1->name;
	r3 = EReg_match(r4,r5);
	if( r3 ) goto label$3437$19;
	r4 = (EReg)hl_alloc_obj(EReg__val);
	r5 = (String)global$1124;
	r6 = (String)global$8;
	EReg_new(r4,r5,r6);
	r5 = r1->name;
	r3 = EReg_match(r4,r5);
	if( !r3 ) goto label$3437$21;
	label$3437$19:
	r3 = false;
	return r3;
	label$3437$21:
	r3 = true;
	return r3;
}

vbyte* hxd_fmt_fbx_HMDOut_buildTangents(hxd__fmt__fbx__HMDOut r0,hxd__fmt__fbx__Geometry r1) {
	hl__Mikktspace r7;
	vvirtual *r6, *r22;
	hl__types__ArrayObj r5;
	hl__types__ArrayBytes_Int r11;
	float r21;
	hl__types__ArrayBytes_Float r2, r4, r16;
	double r19;
	double *r26;
	vdynamic *r23;
	varray *r24;
	int r9, r10, r12, r13, r14, r15, r17, r18, r25;
	vbyte *r8, *r20;
	if( r1 == NULL ) hl_null_access();
	r2 = hxd_fmt_fbx_Geometry_getVertices(r1);
	r4 = hxd_fmt_fbx_Geometry_getNormals(r1);
	r5 = hxd_fmt_fbx_Geometry_getUVs(r1);
	r6 = hxd_fmt_fbx_Geometry_getIndexes(r1);
	r7 = (hl__Mikktspace)hl_alloc_obj(hl__Mikktspace__val);
	hl_Mikktspace_new(r7);
	r9 = 32;
	if( r6 == NULL ) hl_null_access();
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	r9 = r9 * r10;
	r8 = hl_alloc_bytes(r9);
	r7->buffer = r8;
	r9 = 8;
	r7->stride = r9;
	r9 = 0;
	r7->xPos = r9;
	r9 = 3;
	r7->normalPos = r9;
	r9 = 6;
	r7->uvPos = r9;
	r9 = 4;
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	r9 = r9 * r10;
	r8 = hl_alloc_bytes(r9);
	r7->indexes = r8;
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r9 = r11->length;
	r7->indices = r9;
	r9 = 16;
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	r9 = r9 * r10;
	r8 = hl_alloc_bytes(r9);
	r7->tangents = r8;
	r9 = 4;
	r7->tangentStride = r9;
	r9 = 0;
	r7->tangentPos = r9;
	r9 = 0;
	r10 = 0;
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r12 = r11->length;
	label$3438$50:
	if( r10 >= r12 ) goto label$3438$261;
	r13 = r10;
	++r10;
	if( r6 == NULL ) hl_null_access();
	r11 = hl_vfields(r6)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r6)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r6->value,240071313/*vidx*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( ((unsigned)r13) < ((unsigned)r15) ) goto label$3438$61;
	r14 = 0;
	goto label$3438$65;
	label$3438$61:
	r8 = r11->bytes;
	r15 = 2;
	r15 = r13 << r15;
	r14 = *(int*)(r8 + r15);
	label$3438$65:
	if( r7 == NULL ) hl_null_access();
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	if( r2 == NULL ) hl_null_access();
	r18 = 3;
	r17 = r14 * r18;
	r18 = r2->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$76;
	r19 = 0.;
	goto label$3438$80;
	label$3438$76:
	r20 = r2->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$80:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	r18 = 3;
	r17 = r14 * r18;
	r18 = 1;
	r17 = r17 + r18;
	r18 = r2->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$95;
	r19 = 0.;
	goto label$3438$99;
	label$3438$95:
	r20 = r2->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$99:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	r18 = 3;
	r17 = r14 * r18;
	r18 = 2;
	r17 = r17 + r18;
	r18 = r2->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$114;
	r19 = 0.;
	goto label$3438$118;
	label$3438$114:
	r20 = r2->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$118:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	if( r4 == NULL ) hl_null_access();
	r18 = 3;
	r17 = r13 * r18;
	r18 = r4->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$132;
	r19 = 0.;
	goto label$3438$136;
	label$3438$132:
	r20 = r4->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$136:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	r18 = 3;
	r17 = r13 * r18;
	r18 = 1;
	r17 = r17 + r18;
	r18 = r4->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$151;
	r19 = 0.;
	goto label$3438$155;
	label$3438$151:
	r20 = r4->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$155:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	r8 = r7->buffer;
	r15 = r9;
	++r9;
	r18 = 3;
	r17 = r13 * r18;
	r18 = 2;
	r17 = r17 + r18;
	r18 = r4->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$3438$170;
	r19 = 0.;
	goto label$3438$174;
	label$3438$170:
	r20 = r4->bytes;
	r18 = 3;
	r18 = r17 << r18;
	r19 = *(double*)(r20 + r18);
	label$3438$174:
	r21 = (float)r19;
	r18 = 2;
	r18 = r15 << r18;
	*(float*)(r8 + r18) = r21;
	if( r5 == NULL ) hl_null_access();
	r15 = 0;
	r17 = r5->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$3438$184;
	r22 = NULL;
	goto label$3438$187;
	label$3438$184:
	r24 = r5->array;
	r23 = ((vdynamic**)(r24 + 1))[r15];
	r22 = hl_to_virtual(&type$3384,(vdynamic*)r23);
	label$3438$187:
	if( r22 == NULL ) hl_null_access();
	r11 = hl_vfields(r22)[0] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r22)[0])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r22->value,-32204280/*index*/,&type$33);
	if( r11 == NULL ) hl_null_access();
	r17 = r11->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$3438$194;
	r15 = 0;
	goto label$3438$198;
	label$3438$194:
	r8 = r11->bytes;
	r17 = 2;
	r17 = r13 << r17;
	r15 = *(int*)(r8 + r17);
	label$3438$198:
	r8 = r7->buffer;
	r17 = r9;
	++r9;
	r18 = 0;
	r25 = r5->length;
	if( ((unsigned)r18) < ((unsigned)r25) ) goto label$3438$206;
	r22 = NULL;
	goto label$3438$209;
	label$3438$206:
	r24 = r5->array;
	r23 = ((vdynamic**)(r24 + 1))[r18];
	r22 = hl_to_virtual(&type$3384,(vdynamic*)r23);
	label$3438$209:
	if( r22 == NULL ) hl_null_access();
	r16 = hl_vfields(r22)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r22)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r22->value,263652588/*values*/,&type$39);
	if( r16 == NULL ) hl_null_access();
	r25 = 2;
	r18 = r15 * r25;
	r25 = r16->length;
	if( ((unsigned)r18) < ((unsigned)r25) ) goto label$3438$218;
	r19 = 0.;
	goto label$3438$222;
	label$3438$218:
	r20 = r16->bytes;
	r25 = 3;
	r25 = r18 << r25;
	r19 = *(double*)(r20 + r25);
	label$3438$222:
	r21 = (float)r19;
	r25 = 2;
	r25 = r17 << r25;
	*(float*)(r8 + r25) = r21;
	r8 = r7->buffer;
	r17 = r9;
	++r9;
	r18 = 0;
	r25 = r5->length;
	if( ((unsigned)r18) < ((unsigned)r25) ) goto label$3438$234;
	r22 = NULL;
	goto label$3438$237;
	label$3438$234:
	r24 = r5->array;
	r23 = ((vdynamic**)(r24 + 1))[r18];
	r22 = hl_to_virtual(&type$3384,(vdynamic*)r23);
	label$3438$237:
	if( r22 == NULL ) hl_null_access();
	r16 = hl_vfields(r22)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r22)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r22->value,263652588/*values*/,&type$39);
	if( r16 == NULL ) hl_null_access();
	r25 = 2;
	r18 = r15 * r25;
	r25 = 1;
	r18 = r18 + r25;
	r25 = r16->length;
	if( ((unsigned)r18) < ((unsigned)r25) ) goto label$3438$248;
	r19 = 0.;
	goto label$3438$252;
	label$3438$248:
	r20 = r16->bytes;
	r25 = 3;
	r25 = r18 << r25;
	r19 = *(double*)(r20 + r25);
	label$3438$252:
	r21 = (float)r19;
	r25 = 2;
	r25 = r17 << r25;
	*(float*)(r8 + r25) = r21;
	r8 = r7->indexes;
	r25 = 2;
	r25 = r13 << r25;
	*(int*)(r8 + r25) = r13;
	goto label$3438$50;
	label$3438$261:
	if( r7 == NULL ) hl_null_access();
	r26 = NULL;
	hl_Mikktspace_compute(r7,r26);
	r8 = r7->tangents;
	return r8;
}

vvirtual* hxd_fmt_fbx_HMDOut_buildGeom(hxd__fmt__fbx__HMDOut r0,hxd__fmt__fbx__Geometry r1,h3d__anim__Skin r2,haxe__io__BytesOutput r3,bool r4) {
	String r26, r29, r32;
	haxe__io__BytesBuffer r80;
	vvirtual *r10, *r12, *r82;
	hl__types__ArrayObj r9, r22, r35;
	hl_type *r24;
	bool r13, r21;
	h3d__col__Bounds r45;
	hl__types__ArrayBytes_hl_UI16 r40, r42;
	haxe__ds__IntMap r49;
	hxd__fmt__hmd__GeometryFormat r25;
	hl__types__ArrayBytes_Single r37, r38, r46, r47;
	hl__types__ArrayBytes_Int r11, r34, r48, r51, r78;
	hxd__fmt__hmd__Geometry r5;
	haxe__io__BytesOutput r81;
	unsigned short r43;
	float r39, r71;
	hl__types__ArrayBytes_Float r7, r8, r15;
	double r18, r20, r50, r62, r63, r64, r65, r66, r67, r68, r69;
	vdynamic *r33, *r77, *r79;
	int *r31;
	h3d__Matrix r36;
	varray *r23;
	vbyte *r19, *r27;
	int r14, r16, r17, r28, r30, r41, r44, r52, r53, r54, r55, r56, r57, r58, r59, r60, r61, r70, r72, r73, r74, r75, r76;
	r5 = (hxd__fmt__hmd__Geometry)hl_alloc_obj(hxd__fmt__hmd__Geometry__val);
	hxd_fmt_hmd_Geometry_new(r5);
	if( r1 == NULL ) hl_null_access();
	r7 = hxd_fmt_fbx_Geometry_getVertices(r1);
	r8 = hxd_fmt_fbx_Geometry_getNormals(r1);
	r9 = hxd_fmt_fbx_Geometry_getUVs(r1);
	r10 = hxd_fmt_fbx_Geometry_getColors(r1);
	r11 = hxd_fmt_fbx_Geometry_getMaterials(r1);
	if( !r10 ) goto label$3439$36;
	r13 = false;
	r14 = 0;
	if( r10 == NULL ) hl_null_access();
	r15 = hl_vfields(r10)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r10)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r10->value,263652588/*values*/,&type$39);
	label$3439$13:
	if( r15 == NULL ) hl_null_access();
	r17 = r15->length;
	if( r14 >= r17 ) goto label$3439$33;
	r16 = r14;
	++r14;
	r17 = r15->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$3439$23;
	r18 = 0.;
	goto label$3439$27;
	label$3439$23:
	r19 = r15->bytes;
	r17 = 3;
	r17 = r16 << r17;
	r18 = *(double*)(r19 + r17);
	label$3439$27:
	r20 = 0.98999999999999999;
	if( !(r18 < r20) ) goto label$3439$32;
	r21 = true;
	r13 = r21;
	goto label$3439$33;
	label$3439$32:
	goto label$3439$13;
	label$3439$33:
	if( r13 ) goto label$3439$36;
	r12 = NULL;
	r10 = r12;
	label$3439$36:
	if( !r4 ) goto label$3439$39;
	r19 = hxd_fmt_fbx_HMDOut_buildTangents(r0,r1);
	goto label$3439$40;
	label$3439$39:
	r19 = NULL;
	label$3439$40:
	if( r5 == NULL ) hl_null_access();
	r24 = &type$2492;
	r14 = 1;
	r23 = hl_alloc_array(r24,r14);
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$703;
	r14 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = 0;
	((hxd__fmt__hmd__GeometryFormat*)(r23 + 1))[r14] = r25;
	r22 = hl_types_ArrayObj_alloc(r23);
	r5->vertexFormat = r22;
	if( !r8 ) goto label$3439$60;
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$702;
	r14 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	label$3439$60:
	if( !r19 ) goto label$3439$68;
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$710;
	r14 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	label$3439$68:
	r14 = 0;
	if( r9 == NULL ) hl_null_access();
	r16 = r9->length;
	label$3439$71:
	if( r14 >= r16 ) goto label$3439$96;
	r17 = r14;
	++r14;
	if( r5 == NULL ) hl_null_access();
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$711;
	r30 = 0;
	if( r17 != r30 ) goto label$3439$84;
	r29 = (String)global$8;
	goto label$3439$91;
	label$3439$84:
	r29 = (String)global$8;
	r30 = 1;
	r28 = r17 + r30;
	r31 = &r28;
	r27 = hl_itos(r28,r31);
	r32 = String___alloc__(r27,r28);
	r29 = String___add__(r29,r32);
	label$3439$91:
	r26 = String___add__(r26,r29);
	r28 = 2;
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r28);
	r28 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	goto label$3439$71;
	label$3439$96:
	if( !r10 ) goto label$3439$105;
	if( r5 == NULL ) hl_null_access();
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$712;
	r14 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	label$3439$105:
	if( !r2 ) goto label$3439$205;
	r14 = r0->bonesPerVertex;
	r16 = 0;
	if( r16 >= r14 ) goto label$3439$112;
	r14 = r0->bonesPerVertex;
	r16 = 4;
	if( r16 >= r14 ) goto label$3439$114;
	label$3439$112:
	r26 = (String)global$319;
	hl_throw((vdynamic*)r26);
	label$3439$114:
	if( r5 == NULL ) hl_null_access();
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$1125;
	r14 = 16;
	r27 = hl_alloc_bytes(r14);
	r14 = 0;
	r16 = 1;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 2;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 3;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 4;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r14 = 4;
	r34 = hl_types_ArrayBase_allocI32(r27,r14);
	if( r34 == NULL ) hl_null_access();
	r14 = r0->bonesPerVertex;
	r16 = 1;
	r14 = r14 - r16;
	r16 = r34->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$3439$152;
	r14 = 0;
	goto label$3439$156;
	label$3439$152:
	r27 = r34->bytes;
	r16 = 2;
	r16 = r14 << r16;
	r14 = *(int*)(r27 + r16);
	label$3439$156:
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	r22 = r5->vertexFormat;
	if( r22 == NULL ) hl_null_access();
	r25 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(hxd__fmt__hmd__GeometryFormat__val);
	r26 = (String)global$1126;
	r13 = r0->floatSkinIndexes;
	if( !r13 ) goto label$3439$202;
	r14 = 16;
	r27 = hl_alloc_bytes(r14);
	r14 = 0;
	r16 = 1;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 2;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 3;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r16 = 4;
	r17 = 2;
	r17 = r14 << r17;
	*(int*)(r27 + r17) = r16;
	++r14;
	r14 = 4;
	r34 = hl_types_ArrayBase_allocI32(r27,r14);
	if( r34 == NULL ) hl_null_access();
	r14 = r0->bonesPerVertex;
	r16 = 1;
	r14 = r14 - r16;
	r16 = r34->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$3439$197;
	r14 = 0;
	goto label$3439$201;
	label$3439$197:
	r27 = r34->bytes;
	r16 = 2;
	r16 = r14 << r16;
	r14 = *(int*)(r27 + r16);
	label$3439$201:
	goto label$3439$203;
	label$3439$202:
	r14 = 9;
	label$3439$203:
	hxd_fmt_hmd_GeometryFormat_new(r25,r26,r14);
	r14 = hl_types_ArrayObj_push(r22,((vdynamic*)r25));
	label$3439$205:
	r14 = 0;
	r16 = 0;
	if( r5 == NULL ) hl_null_access();
	r22 = r5->vertexFormat;
	label$3439$209:
	if( r22 == NULL ) hl_null_access();
	r28 = r22->length;
	if( r16 >= r28 ) goto label$3439$229;
	r28 = r16;
	++r16;
	r30 = r22->length;
	if( ((unsigned)r28) < ((unsigned)r30) ) goto label$3439$219;
	r25 = NULL;
	goto label$3439$222;
	label$3439$219:
	r23 = r22->array;
	r33 = ((vdynamic**)(r23 + 1))[r28];
	r25 = (hxd__fmt__hmd__GeometryFormat)r33;
	label$3439$222:
	if( r25 == NULL ) hl_null_access();
	r28 = r25->format;
	r30 = 7;
	r28 = r28 & r30;
	r17 = r14 + r28;
	r14 = r17;
	goto label$3439$209;
	label$3439$229:
	if( r5 == NULL ) hl_null_access();
	r5->vertexStride = r14;
	r16 = 0;
	r5->vertexCount = r16;
	if( r1 == NULL ) hl_null_access();
	r36 = hxd_fmt_fbx_Geometry_getGeomMatrix(r1);
	r16 = 0;
	r37 = (hl__types__ArrayBytes_Single)hl_alloc_obj(hl__types__ArrayBytes_Single__val);
	hl_types_ArrayBytes_Single_new(r37);
	r28 = 0;
	if( r28 >= r16 ) goto label$3439$253;
	r28 = r37->length;
	if( r28 >= r16 ) goto label$3439$253;
	r28 = 1;
	r17 = r16 - r28;
	r18 = 0.;
	r39 = (float)r18;
	r28 = r37->length;
	if( ((unsigned)r17) < ((unsigned)r28) ) goto label$3439$249;
	hl_types_ArrayBytes_Single___expand(r37,r17);
	label$3439$249:
	r27 = r37->bytes;
	r28 = 2;
	r28 = r17 << r28;
	*(float*)(r27 + r28) = r39;
	label$3439$253:
	r38 = r37;
	r24 = &type$35;
	r17 = 0;
	r23 = hl_alloc_array(r24,r17);
	r22 = hl_types_ArrayObj_alloc(r23);
	if( !r2 ) goto label$3439$291;
	if( r2 == NULL ) hl_null_access();
	r35 = r2->splitJoints;
	if( !r35 ) goto label$3439$291;
	r17 = 0;
	r35 = r2->splitJoints;
	label$3439$264:
	if( r35 == NULL ) hl_null_access();
	r30 = r35->length;
	if( r17 >= r30 ) goto label$3439$291;
	++r17;
	r28 = 0;
	r40 = (hl__types__ArrayBytes_hl_UI16)hl_alloc_obj(hl__types__ArrayBytes_hl_UI16__val);
	hl_types_ArrayBytes_hl_UI16_new(r40);
	r41 = 0;
	if( r41 >= r28 ) goto label$3439$288;
	r41 = r40->length;
	if( r41 >= r28 ) goto label$3439$288;
	r41 = 1;
	r30 = r28 - r41;
	r41 = 0;
	r43 = (int)r41;
	r41 = (int)r43;
	r44 = r40->length;
	if( ((unsigned)r30) < ((unsigned)r44) ) goto label$3439$284;
	hl_types_ArrayBytes_hl_UI16___expand(r40,r30);
	label$3439$284:
	r27 = r40->bytes;
	r44 = 1;
	r44 = r30 << r44;
	*(unsigned short*)(r27 + r44) = (unsigned short)r41;
	label$3439$288:
	if( r22 == NULL ) hl_null_access();
	r30 = hl_types_ArrayObj_push(r22,((vdynamic*)r40));
	goto label$3439$264;
	label$3439$291:
	if( r5 == NULL ) hl_null_access();
	r45 = (h3d__col__Bounds)hl_alloc_obj(h3d__col__Bounds__val);
	h3d_col_Bounds_new(r45);
	r5->bounds = r45;
	r17 = 0;
	r27 = hl_alloc_bytes(r17);
	r17 = 0;
	r17 = 0;
	r46 = hl_types_ArrayBase_allocF32(r27,r17);
	r28 = 0;
	if( r28 >= r14 ) goto label$3439$314;
	if( r46 == NULL ) hl_null_access();
	r28 = 1;
	r17 = r14 - r28;
	r33 = NULL;
	r39 = (float)hl_dyn_castf(&r33,&type$9);
	r28 = r46->length;
	if( ((unsigned)r17) < ((unsigned)r28) ) goto label$3439$310;
	hl_types_ArrayBytes_Single___expand(r46,r17);
	label$3439$310:
	r27 = r46->bytes;
	r28 = 2;
	r28 = r17 << r28;
	*(float*)(r27 + r28) = r39;
	label$3439$314:
	r47 = r46;
	r34 = (hl__types__ArrayBytes_Int)hl_alloc_obj(hl__types__ArrayBytes_Int__val);
	hl_types_ArrayBytes_Int_new(r34);
	if( r1 == NULL ) hl_null_access();
	r48 = hxd_fmt_fbx_Geometry_getPolygons(r1);
	r17 = 0;
	r28 = 0;
	r30 = 0;
	r49 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r49);
	r18 = 0.;
	r20 = 0.;
	r50 = 0.;
	r41 = 0;
	if( r48 == NULL ) hl_null_access();
	r44 = r48->length;
	label$3439$330:
	if( r41 >= r44 ) goto label$3439$1260;
	r52 = r41;
	++r41;
	if( r48 == NULL ) hl_null_access();
	r54 = r48->length;
	if( ((unsigned)r52) < ((unsigned)r54) ) goto label$3439$339;
	r53 = 0;
	goto label$3439$343;
	label$3439$339:
	r27 = r48->bytes;
	r54 = 2;
	r54 = r52 << r54;
	r53 = *(int*)(r27 + r54);
	label$3439$343:
	++r17;
	r55 = 0;
	if( r53 < r55 ) goto label$3439$347;
	goto label$3439$330;
	label$3439$347:
	r55 = -r53;
	r56 = 1;
	r55 = r55 - r56;
	r56 = r48->length;
	if( ((unsigned)r52) < ((unsigned)r56) ) goto label$3439$353;
	hl_types_ArrayBytes_Int___expand(r48,r52);
	label$3439$353:
	r27 = r48->bytes;
	r56 = 2;
	r56 = r52 << r56;
	*(int*)(r27 + r56) = r55;
	r54 = r52 - r17;
	r55 = 1;
	r54 = r54 + r55;
	r55 = 0;
	r56 = r17;
	label$3439$362:
	if( r55 >= r56 ) goto label$3439$1077;
	r57 = r55;
	++r55;
	r57 = r57 + r54;
	if( r48 == NULL ) hl_null_access();
	r59 = r48->length;
	if( ((unsigned)r57) < ((unsigned)r59) ) goto label$3439$372;
	r58 = 0;
	goto label$3439$376;
	label$3439$372:
	r27 = r48->bytes;
	r59 = 2;
	r59 = r57 << r59;
	r58 = *(int*)(r27 + r59);
	label$3439$376:
	r59 = 0;
	if( r7 == NULL ) hl_null_access();
	r61 = 3;
	r60 = r58 * r61;
	r61 = r7->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$384;
	r62 = 0.;
	goto label$3439$388;
	label$3439$384:
	r27 = r7->bytes;
	r61 = 3;
	r61 = r60 << r61;
	r62 = *(double*)(r27 + r61);
	label$3439$388:
	r61 = 3;
	r60 = r58 * r61;
	r61 = 1;
	r60 = r60 + r61;
	r61 = r7->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$396;
	r63 = 0.;
	goto label$3439$400;
	label$3439$396:
	r27 = r7->bytes;
	r61 = 3;
	r61 = r60 << r61;
	r63 = *(double*)(r27 + r61);
	label$3439$400:
	r61 = 3;
	r60 = r58 * r61;
	r61 = 2;
	r60 = r60 + r61;
	r61 = r7->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$408;
	r64 = 0.;
	goto label$3439$412;
	label$3439$408:
	r27 = r7->bytes;
	r61 = 3;
	r61 = r60 << r61;
	r64 = *(double*)(r27 + r61);
	label$3439$412:
	if( !r36 ) goto label$3439$449;
	if( r36 == NULL ) hl_null_access();
	r66 = r36->_12;
	r65 = r62 * r66;
	r67 = r36->_22;
	r66 = r63 * r67;
	r65 = r65 + r66;
	r67 = r36->_32;
	r66 = r64 * r67;
	r65 = r65 + r66;
	r66 = r36->_42;
	r65 = r65 + r66;
	r67 = r36->_13;
	r66 = r62 * r67;
	r68 = r36->_23;
	r67 = r63 * r68;
	r66 = r66 + r67;
	r68 = r36->_33;
	r67 = r64 * r68;
	r66 = r66 + r67;
	r67 = r36->_43;
	r66 = r66 + r67;
	r68 = r36->_11;
	r67 = r62 * r68;
	r69 = r36->_21;
	r68 = r63 * r69;
	r67 = r67 + r68;
	r69 = r36->_31;
	r68 = r64 * r69;
	r67 = r67 + r68;
	r68 = r36->_41;
	r67 = r67 + r68;
	r18 = r67;
	r20 = r65;
	r62 = r18;
	r63 = r20;
	r64 = r66;
	label$3439$449:
	if( r47 == NULL ) hl_null_access();
	r60 = r59;
	++r59;
	r39 = (float)r62;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$456;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$456:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r39 = (float)r63;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$466;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$466:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r39 = (float)r64;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$476;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$476:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	if( r5 == NULL ) hl_null_access();
	r45 = r5->bounds;
	if( r45 == NULL ) hl_null_access();
	r66 = r45->xMin;
	if( !(r62 < r66) ) goto label$3439$486;
	r45->xMin = r62;
	label$3439$486:
	r66 = r45->xMax;
	if( !(r66 < r62) ) goto label$3439$489;
	r45->xMax = r62;
	label$3439$489:
	r66 = r45->yMin;
	if( !(r63 < r66) ) goto label$3439$492;
	r45->yMin = r63;
	label$3439$492:
	r66 = r45->yMax;
	if( !(r66 < r63) ) goto label$3439$495;
	r45->yMax = r63;
	label$3439$495:
	r66 = r45->zMin;
	if( !(r64 < r66) ) goto label$3439$498;
	r45->zMin = r64;
	label$3439$498:
	r66 = r45->zMax;
	if( !(r66 < r64) ) goto label$3439$501;
	r45->zMax = r64;
	label$3439$501:
	if( !r8 ) goto label$3439$567;
	if( r8 == NULL ) hl_null_access();
	r61 = 3;
	r60 = r57 * r61;
	r61 = 1;
	r60 = r60 + r61;
	r61 = r8->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$511;
	r65 = 0.;
	goto label$3439$515;
	label$3439$511:
	r27 = r8->bytes;
	r61 = 3;
	r61 = r60 << r61;
	r65 = *(double*)(r27 + r61);
	label$3439$515:
	r61 = 3;
	r60 = r57 * r61;
	r61 = 2;
	r60 = r60 + r61;
	r61 = r8->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$523;
	r66 = 0.;
	goto label$3439$527;
	label$3439$523:
	r27 = r8->bytes;
	r61 = 3;
	r61 = r60 << r61;
	r66 = *(double*)(r27 + r61);
	label$3439$527:
	r60 = r59;
	++r59;
	r70 = 3;
	r61 = r57 * r70;
	r70 = r8->length;
	if( ((unsigned)r61) < ((unsigned)r70) ) goto label$3439$535;
	r67 = 0.;
	goto label$3439$539;
	label$3439$535:
	r27 = r8->bytes;
	r70 = 3;
	r70 = r61 << r70;
	r67 = *(double*)(r27 + r70);
	label$3439$539:
	r39 = (float)r67;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$543;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$543:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r39 = (float)r65;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$553;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$553:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r39 = (float)r66;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$563;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$563:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	label$3439$567:
	if( !r19 ) goto label$3439$696;
	r60 = r59;
	++r59;
	r70 = 4;
	r61 = r57 * r70;
	r70 = 2;
	r70 = r61 << r70;
	r39 = *(float*)(r19 + r70);
	r65 = (double)r39;
	r65 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r65);
	r39 = (float)r65;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$581;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$581:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r70 = 4;
	r61 = r57 * r70;
	r70 = 1;
	r61 = r61 + r70;
	r70 = 2;
	r70 = r61 << r70;
	r39 = *(float*)(r19 + r70);
	r65 = (double)r39;
	r65 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r65);
	r39 = (float)r65;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$600;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$600:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r60 = r59;
	++r59;
	r70 = 4;
	r61 = r57 * r70;
	r70 = 2;
	r61 = r61 + r70;
	r70 = 2;
	r70 = r61 << r70;
	r39 = *(float*)(r19 + r70);
	r65 = (double)r39;
	r65 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r65);
	r39 = (float)r65;
	r61 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r61) ) goto label$3439$619;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$619:
	r27 = r47->bytes;
	r61 = 2;
	r61 = r60 << r61;
	*(float*)(r27 + r61) = r39;
	r61 = 4;
	r60 = r57 * r61;
	r61 = 3;
	r60 = r60 + r61;
	r61 = 2;
	r61 = r60 << r61;
	r39 = *(float*)(r19 + r61);
	r60 = 0;
	r71 = (float)r60;
	if( !(r39 < r71) ) goto label$3439$696;
	r61 = 3;
	r60 = r59 - r61;
	r72 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r72) ) goto label$3439$639;
	r39 = 0.;
	goto label$3439$643;
	label$3439$639:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r60 << r72;
	r39 = *(float*)(r27 + r72);
	label$3439$643:
	r65 = (double)r39;
	r66 = 0.5;
	r65 = r65 * r66;
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r70) ) goto label$3439$650;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$650:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r60 << r70;
	*(float*)(r27 + r70) = r39;
	r61 = 2;
	r60 = r59 - r61;
	r72 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r72) ) goto label$3439$660;
	r39 = 0.;
	goto label$3439$664;
	label$3439$660:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r60 << r72;
	r39 = *(float*)(r27 + r72);
	label$3439$664:
	r65 = (double)r39;
	r66 = 0.5;
	r65 = r65 * r66;
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r70) ) goto label$3439$671;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$671:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r60 << r70;
	*(float*)(r27 + r70) = r39;
	r61 = 1;
	r60 = r59 - r61;
	r72 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r72) ) goto label$3439$681;
	r39 = 0.;
	goto label$3439$685;
	label$3439$681:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r60 << r72;
	r39 = *(float*)(r27 + r72);
	label$3439$685:
	r65 = (double)r39;
	r66 = 0.5;
	r65 = r65 * r66;
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r60) < ((unsigned)r70) ) goto label$3439$692;
	hl_types_ArrayBytes_Single___expand(r47,r60);
	label$3439$692:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r60 << r70;
	*(float*)(r27 + r70) = r39;
	label$3439$696:
	r60 = 0;
	label$3439$697:
	if( r9 == NULL ) hl_null_access();
	r70 = r9->length;
	if( r60 >= r70 ) goto label$3439$771;
	r70 = r9->length;
	if( ((unsigned)r60) < ((unsigned)r70) ) goto label$3439$705;
	r12 = NULL;
	goto label$3439$708;
	label$3439$705:
	r23 = r9->array;
	r33 = ((vdynamic**)(r23 + 1))[r60];
	r12 = hl_to_virtual(&type$3384,(vdynamic*)r33);
	label$3439$708:
	++r60;
	if( r12 == NULL ) hl_null_access();
	r51 = hl_vfields(r12)[0] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r12)[0])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r12->value,-32204280/*index*/,&type$33);
	if( r51 == NULL ) hl_null_access();
	r70 = r51->length;
	if( ((unsigned)r57) < ((unsigned)r70) ) goto label$3439$716;
	r61 = 0;
	goto label$3439$720;
	label$3439$716:
	r27 = r51->bytes;
	r70 = 2;
	r70 = r57 << r70;
	r61 = *(int*)(r27 + r70);
	label$3439$720:
	if( r47 == NULL ) hl_null_access();
	r70 = r59;
	++r59;
	r15 = hl_vfields(r12)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r12)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r12->value,263652588/*values*/,&type$39);
	if( r15 == NULL ) hl_null_access();
	r73 = 2;
	r72 = r61 * r73;
	r73 = r15->length;
	if( ((unsigned)r72) < ((unsigned)r73) ) goto label$3439$731;
	r65 = 0.;
	goto label$3439$735;
	label$3439$731:
	r27 = r15->bytes;
	r73 = 3;
	r73 = r72 << r73;
	r65 = *(double*)(r27 + r73);
	label$3439$735:
	r39 = (float)r65;
	r72 = r47->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$739;
	hl_types_ArrayBytes_Single___expand(r47,r70);
	label$3439$739:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r70 << r72;
	*(float*)(r27 + r72) = r39;
	r70 = r59;
	++r59;
	r72 = 1;
	r65 = (double)r72;
	r15 = hl_vfields(r12)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r12)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r12->value,263652588/*values*/,&type$39);
	if( r15 == NULL ) hl_null_access();
	r73 = 2;
	r72 = r61 * r73;
	r73 = 1;
	r72 = r72 + r73;
	r73 = r15->length;
	if( ((unsigned)r72) < ((unsigned)r73) ) goto label$3439$757;
	r66 = 0.;
	goto label$3439$761;
	label$3439$757:
	r27 = r15->bytes;
	r73 = 3;
	r73 = r72 << r73;
	r66 = *(double*)(r27 + r73);
	label$3439$761:
	r65 = r65 - r66;
	r39 = (float)r65;
	r72 = r47->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$766;
	hl_types_ArrayBytes_Single___expand(r47,r70);
	label$3439$766:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r70 << r72;
	*(float*)(r27 + r72) = r39;
	goto label$3439$697;
	label$3439$771:
	if( !r10 ) goto label$3439$854;
	if( r10 == NULL ) hl_null_access();
	r51 = hl_vfields(r10)[0] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r10)[0])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r10->value,-32204280/*index*/,&type$33);
	if( r51 == NULL ) hl_null_access();
	r61 = r51->length;
	if( ((unsigned)r57) < ((unsigned)r61) ) goto label$3439$779;
	r60 = 0;
	goto label$3439$783;
	label$3439$779:
	r27 = r51->bytes;
	r61 = 2;
	r61 = r57 << r61;
	r60 = *(int*)(r27 + r61);
	label$3439$783:
	if( r47 == NULL ) hl_null_access();
	r61 = r59;
	++r59;
	r15 = hl_vfields(r10)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r10)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r10->value,263652588/*values*/,&type$39);
	if( r15 == NULL ) hl_null_access();
	r72 = 4;
	r70 = r60 * r72;
	r72 = r15->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$794;
	r65 = 0.;
	goto label$3439$798;
	label$3439$794:
	r27 = r15->bytes;
	r72 = 3;
	r72 = r70 << r72;
	r65 = *(double*)(r27 + r72);
	label$3439$798:
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r61) < ((unsigned)r70) ) goto label$3439$802;
	hl_types_ArrayBytes_Single___expand(r47,r61);
	label$3439$802:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r61 << r70;
	*(float*)(r27 + r70) = r39;
	r61 = r59;
	++r59;
	r15 = hl_vfields(r10)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r10)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r10->value,263652588/*values*/,&type$39);
	if( r15 == NULL ) hl_null_access();
	r72 = 4;
	r70 = r60 * r72;
	r72 = 1;
	r70 = r70 + r72;
	r72 = r15->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$818;
	r65 = 0.;
	goto label$3439$822;
	label$3439$818:
	r27 = r15->bytes;
	r72 = 3;
	r72 = r70 << r72;
	r65 = *(double*)(r27 + r72);
	label$3439$822:
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r61) < ((unsigned)r70) ) goto label$3439$826;
	hl_types_ArrayBytes_Single___expand(r47,r61);
	label$3439$826:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r61 << r70;
	*(float*)(r27 + r70) = r39;
	r61 = r59;
	++r59;
	r15 = hl_vfields(r10)[1] ? (*(hl__types__ArrayBytes_Float*)(hl_vfields(r10)[1])) : (hl__types__ArrayBytes_Float)hl_dyn_getp(r10->value,263652588/*values*/,&type$39);
	if( r15 == NULL ) hl_null_access();
	r72 = 4;
	r70 = r60 * r72;
	r72 = 2;
	r70 = r70 + r72;
	r72 = r15->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$842;
	r65 = 0.;
	goto label$3439$846;
	label$3439$842:
	r27 = r15->bytes;
	r72 = 3;
	r72 = r70 << r72;
	r65 = *(double*)(r27 + r72);
	label$3439$846:
	r39 = (float)r65;
	r70 = r47->length;
	if( ((unsigned)r61) < ((unsigned)r70) ) goto label$3439$850;
	hl_types_ArrayBytes_Single___expand(r47,r61);
	label$3439$850:
	r27 = r47->bytes;
	r70 = 2;
	r70 = r61 << r70;
	*(float*)(r27 + r70) = r39;
	label$3439$854:
	if( !r2 ) goto label$3439$953;
	if( r2 == NULL ) hl_null_access();
	r61 = r2->bonesPerVertex;
	r60 = r58 * r61;
	r61 = 0;
	r70 = 0;
	r72 = r2->bonesPerVertex;
	label$3439$861:
	if( r70 >= r72 ) goto label$3439$905;
	r73 = r70;
	++r70;
	if( r47 == NULL ) hl_null_access();
	r74 = r59;
	++r59;
	if( r2 == NULL ) hl_null_access();
	r15 = r2->vertexWeights;
	if( r15 == NULL ) hl_null_access();
	r75 = r60 + r73;
	r76 = r15->length;
	if( ((unsigned)r75) < ((unsigned)r76) ) goto label$3439$876;
	r65 = 0.;
	goto label$3439$880;
	label$3439$876:
	r27 = r15->bytes;
	r76 = 3;
	r76 = r75 << r76;
	r65 = *(double*)(r27 + r76);
	label$3439$880:
	r39 = (float)r65;
	r75 = r47->length;
	if( ((unsigned)r74) < ((unsigned)r75) ) goto label$3439$884;
	hl_types_ArrayBytes_Single___expand(r47,r74);
	label$3439$884:
	r27 = r47->bytes;
	r75 = 2;
	r75 = r74 << r75;
	*(float*)(r27 + r75) = r39;
	r51 = r2->vertexJoints;
	if( r51 == NULL ) hl_null_access();
	r74 = r60 + r73;
	r75 = r51->length;
	if( ((unsigned)r74) < ((unsigned)r75) ) goto label$3439$895;
	r74 = 0;
	goto label$3439$899;
	label$3439$895:
	r27 = r51->bytes;
	r75 = 2;
	r75 = r74 << r75;
	r74 = *(int*)(r27 + r75);
	label$3439$899:
	r75 = 8;
	r75 = r75 * r73;
	r74 = r74 << r75;
	r74 = r74 | r61;
	r61 = r74;
	goto label$3439$861;
	label$3439$905:
	r13 = r0->floatSkinIndexes;
	if( !r13 ) goto label$3439$941;
	r70 = 0;
	if( r2 == NULL ) hl_null_access();
	r72 = r2->bonesPerVertex;
	label$3439$910:
	if( r70 >= r72 ) goto label$3439$940;
	if( r47 == NULL ) hl_null_access();
	r73 = r59;
	++r59;
	if( r2 == NULL ) hl_null_access();
	r51 = r2->vertexJoints;
	if( r51 == NULL ) hl_null_access();
	r75 = r70;
	++r70;
	r74 = r60 + r75;
	r75 = r51->length;
	if( ((unsigned)r74) < ((unsigned)r75) ) goto label$3439$925;
	r74 = 0;
	goto label$3439$929;
	label$3439$925:
	r27 = r51->bytes;
	r75 = 2;
	r75 = r74 << r75;
	r74 = *(int*)(r27 + r75);
	label$3439$929:
	r75 = 3;
	r74 = r74 * r75;
	r39 = (float)r74;
	r74 = r47->length;
	if( ((unsigned)r73) < ((unsigned)r74) ) goto label$3439$935;
	hl_types_ArrayBytes_Single___expand(r47,r73);
	label$3439$935:
	r27 = r47->bytes;
	r74 = 2;
	r74 = r73 << r74;
	*(float*)(r27 + r74) = r39;
	goto label$3439$910;
	label$3439$940:
	goto label$3439$953;
	label$3439$941:
	if( r47 == NULL ) hl_null_access();
	r70 = r59;
	++r59;
	r65 = hxd_fmt_fbx_HMDOut_int32tof(r0,r61);
	r39 = (float)r65;
	r72 = r47->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$949;
	hl_types_ArrayBytes_Single___expand(r47,r70);
	label$3439$949:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r70 << r72;
	*(float*)(r27 + r72) = r39;
	label$3439$953:
	r65 = 0.;
	r60 = 0;
	r61 = r14;
	label$3439$956:
	if( r60 >= r61 ) goto label$3439$973;
	if( r47 == NULL ) hl_null_access();
	r70 = r60;
	++r60;
	r72 = r47->length;
	if( ((unsigned)r70) < ((unsigned)r72) ) goto label$3439$965;
	r39 = 0.;
	goto label$3439$969;
	label$3439$965:
	r27 = r47->bytes;
	r72 = 2;
	r72 = r70 << r72;
	r39 = *(float*)(r27 + r72);
	label$3439$969:
	r67 = (double)r39;
	r66 = r65 + r67;
	r65 = r66;
	goto label$3439$956;
	label$3439$973:
	r60 = 100;
	r67 = (double)r60;
	r66 = r65 * r67;
	r60 = 268435455;
	r67 = (double)r60;
	r66 = fmod(r66,r67);
	r60 = (int)r66;
	r77 = NULL;
	if( r49 == NULL ) hl_null_access();
	r33 = haxe_ds_IntMap_get(r49,r60);
	r51 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r33,&type$9,&type$33);
	if( r51 ) goto label$3439$992;
	r61 = 0;
	r27 = hl_alloc_bytes(r61);
	r61 = 0;
	r61 = 0;
	r78 = hl_types_ArrayBase_allocI32(r27,r61);
	r51 = r78;
	haxe_ds_IntMap_set(r49,r60,((vdynamic*)r78));
	label$3439$992:
	r61 = 0;
	label$3439$993:
	if( r51 == NULL ) hl_null_access();
	r72 = r51->length;
	if( r61 >= r72 ) goto label$3439$1044;
	r72 = r51->length;
	if( ((unsigned)r61) < ((unsigned)r72) ) goto label$3439$1001;
	r70 = 0;
	goto label$3439$1005;
	label$3439$1001:
	r27 = r51->bytes;
	r72 = 2;
	r72 = r61 << r72;
	r70 = *(int*)(r27 + r72);
	label$3439$1005:
	++r61;
	r13 = true;
	r72 = r70 * r14;
	r73 = 0;
	r74 = r14;
	label$3439$1010:
	if( r73 >= r74 ) goto label$3439$1039;
	if( r38 == NULL ) hl_null_access();
	r75 = r72;
	++r72;
	r76 = r38->length;
	if( ((unsigned)r75) < ((unsigned)r76) ) goto label$3439$1019;
	r39 = 0.;
	goto label$3439$1023;
	label$3439$1019:
	r27 = r38->bytes;
	r76 = 2;
	r76 = r75 << r76;
	r39 = *(float*)(r27 + r76);
	label$3439$1023:
	if( r47 == NULL ) hl_null_access();
	r75 = r73;
	++r73;
	r76 = r47->length;
	if( ((unsigned)r75) < ((unsigned)r76) ) goto label$3439$1030;
	r71 = 0.;
	goto label$3439$1034;
	label$3439$1030:
	r27 = r47->bytes;
	r76 = 2;
	r76 = r75 << r76;
	r71 = *(float*)(r27 + r76);
	label$3439$1034:
	if( r39 == r71 ) goto label$3439$1038;
	r21 = false;
	r13 = r21;
	goto label$3439$1039;
	label$3439$1038:
	goto label$3439$1010;
	label$3439$1039:
	if( !r13 ) goto label$3439$1043;
	r79 = hl_alloc_dynamic(&type$3);
	r79->v.i = r70;
	r77 = r79;
	goto label$3439$1044;
	label$3439$1043:
	goto label$3439$993;
	label$3439$1044:
	if( r77 ) goto label$3439$1073;
	if( r5 == NULL ) hl_null_access();
	r61 = r5->vertexCount;
	r79 = hl_alloc_dynamic(&type$3);
	r79->v.i = r61;
	r77 = r79;
	r61 = r5->vertexCount;
	++r61;
	r5->vertexCount = r61;
	r61 = 0;
	r70 = r14;
	label$3439$1054:
	if( r61 >= r70 ) goto label$3439$1070;
	if( r38 == NULL ) hl_null_access();
	if( r47 == NULL ) hl_null_access();
	r72 = r61;
	++r61;
	r73 = r47->length;
	if( ((unsigned)r72) < ((unsigned)r73) ) goto label$3439$1064;
	r39 = 0.;
	goto label$3439$1068;
	label$3439$1064:
	r27 = r47->bytes;
	r73 = 2;
	r73 = r72 << r73;
	r39 = *(float*)(r27 + r73);
	label$3439$1068:
	r72 = hl_types_ArrayBytes_Single_push(r38,r39);
	goto label$3439$1054;
	label$3439$1070:
	if( r51 == NULL ) hl_null_access();
	r61 = r77 ? r77->v.i : 0;
	r61 = hl_types_ArrayBytes_Int_push(r51,r61);
	label$3439$1073:
	if( r34 == NULL ) hl_null_access();
	r61 = r77 ? r77->v.i : 0;
	r61 = hl_types_ArrayBytes_Int_push(r34,r61);
	goto label$3439$362;
	label$3439$1077:
	if( !r2 ) goto label$3439$1150;
	if( r2 == NULL ) hl_null_access();
	r35 = r2->splitJoints;
	if( !r35 ) goto label$3439$1150;
	r55 = 0;
	r57 = 2;
	r56 = r17 - r57;
	label$3439$1084:
	if( r55 >= r56 ) goto label$3439$1149;
	r57 = r55;
	++r55;
	if( r22 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r51 = r2->triangleGroups;
	if( r51 == NULL ) hl_null_access();
	r58 = r30;
	++r30;
	r59 = r51->length;
	if( ((unsigned)r58) < ((unsigned)r59) ) goto label$3439$1098;
	r58 = 0;
	goto label$3439$1102;
	label$3439$1098:
	r27 = r51->bytes;
	r59 = 2;
	r59 = r58 << r59;
	r58 = *(int*)(r27 + r59);
	label$3439$1102:
	r59 = r22->length;
	if( ((unsigned)r58) < ((unsigned)r59) ) goto label$3439$1106;
	r40 = NULL;
	goto label$3439$1109;
	label$3439$1106:
	r23 = r22->array;
	r33 = ((vdynamic**)(r23 + 1))[r58];
	r40 = (hl__types__ArrayBytes_hl_UI16)hl_dyn_castp(&r33,&type$9,&type$35);
	label$3439$1109:
	if( r40 == NULL ) hl_null_access();
	if( r34 == NULL ) hl_null_access();
	r58 = r54 + r57;
	r59 = r34->length;
	if( ((unsigned)r58) < ((unsigned)r59) ) goto label$3439$1116;
	r58 = 0;
	goto label$3439$1120;
	label$3439$1116:
	r27 = r34->bytes;
	r59 = 2;
	r59 = r58 << r59;
	r58 = *(int*)(r27 + r59);
	label$3439$1120:
	r43 = (int)r58;
	r58 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	r58 = r54 + r17;
	r59 = 1;
	r58 = r58 - r59;
	r59 = r34->length;
	if( ((unsigned)r58) < ((unsigned)r59) ) goto label$3439$1129;
	r58 = 0;
	goto label$3439$1133;
	label$3439$1129:
	r27 = r34->bytes;
	r59 = 2;
	r59 = r58 << r59;
	r58 = *(int*)(r27 + r59);
	label$3439$1133:
	r43 = (int)r58;
	r58 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	r58 = r54 + r57;
	r59 = 1;
	r58 = r58 + r59;
	r59 = r34->length;
	if( ((unsigned)r58) < ((unsigned)r59) ) goto label$3439$1142;
	r58 = 0;
	goto label$3439$1146;
	label$3439$1142:
	r27 = r34->bytes;
	r59 = 2;
	r59 = r58 << r59;
	r58 = *(int*)(r27 + r59);
	label$3439$1146:
	r43 = (int)r58;
	r58 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	goto label$3439$1084;
	label$3439$1149:
	goto label$3439$1249;
	label$3439$1150:
	if( r11 ) goto label$3439$1154;
	r56 = 0;
	r55 = r56;
	goto label$3439$1168;
	label$3439$1154:
	if( r11 == NULL ) hl_null_access();
	r57 = r11->length;
	if( ((unsigned)r28) < ((unsigned)r57) ) goto label$3439$1159;
	r56 = 0;
	goto label$3439$1163;
	label$3439$1159:
	r27 = r11->bytes;
	r57 = 2;
	r57 = r28 << r57;
	r56 = *(int*)(r27 + r57);
	label$3439$1163:
	r55 = r56;
	r56 = r11->length;
	r57 = 1;
	if( r57 >= r56 ) goto label$3439$1168;
	++r28;
	label$3439$1168:
	if( r22 == NULL ) hl_null_access();
	r57 = r22->length;
	if( ((unsigned)r55) < ((unsigned)r57) ) goto label$3439$1173;
	r40 = NULL;
	goto label$3439$1176;
	label$3439$1173:
	r23 = r22->array;
	r33 = ((vdynamic**)(r23 + 1))[r55];
	r40 = (hl__types__ArrayBytes_hl_UI16)hl_dyn_castp(&r33,&type$9,&type$35);
	label$3439$1176:
	if( r40 ) goto label$3439$1202;
	r56 = 0;
	r42 = (hl__types__ArrayBytes_hl_UI16)hl_alloc_obj(hl__types__ArrayBytes_hl_UI16__val);
	hl_types_ArrayBytes_hl_UI16_new(r42);
	r58 = 0;
	if( r58 >= r56 ) goto label$3439$1196;
	r58 = r42->length;
	if( r58 >= r56 ) goto label$3439$1196;
	r58 = 1;
	r57 = r56 - r58;
	r58 = 0;
	r43 = (int)r58;
	r58 = (int)r43;
	r59 = r42->length;
	if( ((unsigned)r57) < ((unsigned)r59) ) goto label$3439$1192;
	hl_types_ArrayBytes_hl_UI16___expand(r42,r57);
	label$3439$1192:
	r27 = r42->bytes;
	r59 = 1;
	r59 = r57 << r59;
	*(unsigned short*)(r27 + r59) = (unsigned short)r58;
	label$3439$1196:
	r40 = r42;
	r58 = r22->length;
	if( ((unsigned)r55) < ((unsigned)r58) ) goto label$3439$1200;
	hl_types_ArrayObj___expand(r22,r55);
	label$3439$1200:
	r23 = r22->array;
	((hl__types__ArrayBytes_hl_UI16*)(r23 + 1))[r55] = r42;
	label$3439$1202:
	r56 = 0;
	r58 = 2;
	r57 = r17 - r58;
	label$3439$1205:
	if( r56 >= r57 ) goto label$3439$1249;
	r58 = r56;
	++r56;
	if( r40 == NULL ) hl_null_access();
	if( r34 == NULL ) hl_null_access();
	r59 = r54 + r58;
	r60 = r34->length;
	if( ((unsigned)r59) < ((unsigned)r60) ) goto label$3439$1216;
	r59 = 0;
	goto label$3439$1220;
	label$3439$1216:
	r27 = r34->bytes;
	r60 = 2;
	r60 = r59 << r60;
	r59 = *(int*)(r27 + r60);
	label$3439$1220:
	r43 = (int)r59;
	r59 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	r59 = r54 + r17;
	r60 = 1;
	r59 = r59 - r60;
	r60 = r34->length;
	if( ((unsigned)r59) < ((unsigned)r60) ) goto label$3439$1229;
	r59 = 0;
	goto label$3439$1233;
	label$3439$1229:
	r27 = r34->bytes;
	r60 = 2;
	r60 = r59 << r60;
	r59 = *(int*)(r27 + r60);
	label$3439$1233:
	r43 = (int)r59;
	r59 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	r59 = r54 + r58;
	r60 = 1;
	r59 = r59 + r60;
	r60 = r34->length;
	if( ((unsigned)r59) < ((unsigned)r60) ) goto label$3439$1242;
	r59 = 0;
	goto label$3439$1246;
	label$3439$1242:
	r27 = r34->bytes;
	r60 = 2;
	r60 = r59 << r60;
	r59 = *(int*)(r27 + r60);
	label$3439$1246:
	r43 = (int)r59;
	r59 = hl_types_ArrayBytes_hl_UI16_push(r40,r43);
	goto label$3439$1205;
	label$3439$1249:
	if( r48 == NULL ) hl_null_access();
	r57 = r48->length;
	if( ((unsigned)r52) < ((unsigned)r57) ) goto label$3439$1253;
	hl_types_ArrayBytes_Int___expand(r48,r52);
	label$3439$1253:
	r27 = r48->bytes;
	r57 = 2;
	r57 = r52 << r57;
	*(int*)(r27 + r57) = r53;
	r55 = 0;
	r17 = r55;
	goto label$3439$330;
	label$3439$1260:
	if( r5 == NULL ) hl_null_access();
	if( r3 == NULL ) hl_null_access();
	r80 = r3->b;
	if( r80 == NULL ) hl_null_access();
	r41 = r80->pos;
	r5->vertexPosition = r41;
	r41 = 0;
	if( r38 == NULL ) hl_null_access();
	r44 = r38->length;
	label$3439$1269:
	if( r41 >= r44 ) goto label$3439$1294;
	if( r38 == NULL ) hl_null_access();
	r52 = r41;
	++r41;
	r53 = r38->length;
	if( ((unsigned)r52) < ((unsigned)r53) ) goto label$3439$1278;
	r39 = 0.;
	goto label$3439$1282;
	label$3439$1278:
	r27 = r38->bytes;
	r53 = 2;
	r53 = r52 << r53;
	r39 = *(float*)(r27 + r53);
	label$3439$1282:
	r62 = (double)r39;
	r81 = r0->dataOut;
	if( r81 == NULL ) hl_null_access();
	r52 = 0;
	r64 = (double)r52;
	if( r62 != r64 ) goto label$3439$1291;
	r52 = 0;
	r63 = (double)r52;
	goto label$3439$1292;
	label$3439$1291:
	r63 = r62;
	label$3439$1292:
	haxe_io_Output_writeFloat(((haxe__io__Output)r81),r63);
	goto label$3439$1269;
	label$3439$1294:
	if( r5 == NULL ) hl_null_access();
	if( r3 == NULL ) hl_null_access();
	r80 = r3->b;
	if( r80 == NULL ) hl_null_access();
	r41 = r80->pos;
	r5->indexPosition = r41;
	r41 = 0;
	r27 = hl_alloc_bytes(r41);
	r41 = 0;
	r41 = 0;
	r51 = hl_types_ArrayBase_allocI32(r27,r41);
	r5->indexCounts = r51;
	r41 = 0;
	r27 = hl_alloc_bytes(r41);
	r41 = 0;
	r41 = 0;
	r51 = hl_types_ArrayBase_allocI32(r27,r41);
	r41 = 0;
	r44 = 0;
	label$3439$1313:
	if( r22 == NULL ) hl_null_access();
	r53 = r22->length;
	if( r44 >= r53 ) goto label$3439$1359;
	r53 = r22->length;
	if( ((unsigned)r44) < ((unsigned)r53) ) goto label$3439$1321;
	r40 = NULL;
	goto label$3439$1324;
	label$3439$1321:
	r23 = r22->array;
	r33 = ((vdynamic**)(r23 + 1))[r44];
	r40 = (hl__types__ArrayBytes_hl_UI16)hl_dyn_castp(&r33,&type$9,&type$35);
	label$3439$1324:
	++r44;
	if( r40 ) goto label$3439$1328;
	++r41;
	goto label$3439$1313;
	label$3439$1328:
	if( r51 == NULL ) hl_null_access();
	r52 = r41;
	++r41;
	r52 = hl_types_ArrayBytes_Int_push(r51,r52);
	if( r5 == NULL ) hl_null_access();
	r78 = r5->indexCounts;
	if( r78 == NULL ) hl_null_access();
	if( r40 == NULL ) hl_null_access();
	r52 = r40->length;
	r52 = hl_types_ArrayBytes_Int_push(r78,r52);
	r52 = 0;
	label$3439$1339:
	if( r40 == NULL ) hl_null_access();
	r54 = r40->length;
	if( r52 >= r54 ) goto label$3439$1358;
	if( r3 == NULL ) hl_null_access();
	r53 = r52;
	++r52;
	r54 = r40->length;
	if( ((unsigned)r53) < ((unsigned)r54) ) goto label$3439$1350;
	r53 = 0;
	goto label$3439$1354;
	label$3439$1350:
	r27 = r40->bytes;
	r54 = 1;
	r54 = r53 << r54;
	r53 = *(unsigned short*)(r27 + r54);
	label$3439$1354:
	r43 = (int)r53;
	r53 = (int)r43;
	haxe_io_Output_writeUInt16(((haxe__io__Output)r3),r53);
	goto label$3439$1339;
	label$3439$1358:
	goto label$3439$1313;
	label$3439$1359:
	if( !r2 ) goto label$3439$1365;
	if( r2 == NULL ) hl_null_access();
	r35 = r2->splitJoints;
	if( !r35 ) goto label$3439$1365;
	r78 = NULL;
	r51 = r78;
	label$3439$1365:
	r82 = hl_alloc_virtual(&type$3398);
	if( hl_vfields(r82)[0] ) *(hxd__fmt__hmd__Geometry*)(hl_vfields(r82)[0]) = (hxd__fmt__hmd__Geometry)r5; else hl_dyn_setp(r82->value,103/*g*/,&type$2480,r5);
	if( hl_vfields(r82)[1] ) *(hl__types__ArrayBytes_Int*)(hl_vfields(r82)[1]) = (hl__types__ArrayBytes_Int)r51; else hl_dyn_setp(r82->value,-536103710/*materials*/,&type$33,r51);
	return r82;
}

void hxd_fmt_fbx_HMDOut_addModels(hxd__fmt__fbx__HMDOut r0,bool r1) {
	hxd__fmt__hmd__Skin r87;
	bool *r77;
	hxd__fmt__hmd__Data r66;
	hxd__fmt__hmd__Model r52;
	vdynobj *r47;
	String r24, r56, r78, r79;
	hxd__fmt__hmd__Material r72;
	h3d__anim__Joint r25, r28, r29;
	hl__types__ArrayObj r6, r11, r12, r13, r14, r16, r30, r35, r36, r43;
	vvirtual *r5, *r27, *r33, *r39, *r41, *r76, *r83, *r88, *r89, *r90;
	hxd__fmt__fbx__DefaultMatrixes r26;
	venum *r17, *r32, *r50, *r58, *r64, *r73, *r75;
	hl_type *r8;
	hxd__fmt__fbx__HMDOut r2;
	bool r22, r71;
	h3d__anim__Skin r80, r81;
	haxe__ds__IntMap r44, r45, r46, r51;
	hxd__fmt__hmd__Geometry r92;
	hl__types__ArrayBytes_Int r67, r70, r84, r85, r86;
	haxe__io__BytesOutput r91;
	hxd__fmt__fbx__TmpObject r4, r20, r23, r40, r42;
	hxd__fmt__fbx__Geometry r82;
	h3d__Quat r65;
	h3d__col__Point r55;
	double r54, r57, r61, r62, r63;
	vclosure *r15, *r31, *r48, *r49;
	hxd__fmt__hmd__Position r53;
	vdynamic *r19, *r34, *r68, *r69;
	vbyte *r59, *r60;
	int r9, r18, r21, r37, r38, r74;
	varray *r7, *r10;
	r2 = r0;
	r5 = hxd_fmt_fbx_BaseLibrary_buildHierarchy(((hxd__fmt__fbx__BaseLibrary)r0));
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[1] ? (*(hxd__fmt__fbx__TmpObject*)(hl_vfields(r5)[1])) : (hxd__fmt__fbx__TmpObject)hl_dyn_getp(r5->value,196013868/*root*/,&type$3328);
	r8 = &type$46;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r8 = &type$3328;
	r9 = 0;
	r10 = hl_alloc_array(r8,r9);
	r6 = hl_types_ArrayObj_alloc(r10);
	r9 = 0;
	((hl__types__ArrayObj*)(r7 + 1))[r9] = r6;
	r6 = hl_types_ArrayObj_alloc(r7);
	r8 = &type$3328;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r11 = hl_types_ArrayObj_alloc(r7);
	r8 = &type$3328;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r12 = hl_types_ArrayObj_alloc(r7);
	r8 = &type$46;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r13 = NULL;
	r9 = 0;
	((hl__types__ArrayObj*)(r7 + 1))[r9] = r13;
	r13 = hl_types_ArrayObj_alloc(r7);
	r8 = &type$3327;
	r9 = 1;
	r7 = hl_alloc_array(r8,r9);
	r15 = NULL;
	r9 = 0;
	((vclosure**)(r7 + 1))[r9] = r15;
	r14 = hl_types_ArrayObj_alloc(r7);
	if( r14 == NULL ) hl_null_access();
	r9 = 0;
	r17 = hl_alloc_enum(&type$3400,0);
	((Enum$3400*)r17)->p0 = (hl__types__ArrayObj)r6;
	((Enum$3400*)r17)->p1 = (hl__types__ArrayObj)r11;
	((Enum$3400*)r17)->p2 = (hl__types__ArrayObj)r12;
	((Enum$3400*)r17)->p3 = (hl__types__ArrayObj)r13;
	((Enum$3400*)r17)->p4 = (hl__types__ArrayObj)r14;
	r15 = hl_alloc_closure_ptr(&type$3399,fun$3447,r17);
	r18 = r14->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$48;
	hl_types_ArrayObj___expand(r14,r9);
	label$3440$48:
	r7 = r14->array;
	((vclosure**)(r7 + 1))[r9] = r15;
	r9 = 0;
	r18 = r14->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$55;
	r15 = NULL;
	goto label$3440$58;
	label$3440$55:
	r7 = r14->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r15 = (vclosure*)r19;
	label$3440$58:
	if( r15 == NULL ) hl_null_access();
	r15->hasValue ? ((void (*)(vdynamic*,hxd__fmt__fbx__TmpObject))r15->fun)((vdynamic*)r15->value,r4) : ((void (*)(hxd__fmt__fbx__TmpObject))r15->fun)(r4);
	r9 = 0;
	label$3440$61:
	if( r11 == NULL ) hl_null_access();
	r21 = r11->length;
	if( r9 >= r21 ) goto label$3440$107;
	r21 = r11->length;
	if( ((unsigned)r9) < ((unsigned)r21) ) goto label$3440$69;
	r20 = NULL;
	goto label$3440$72;
	label$3440$69:
	r7 = r11->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r20 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$72:
	++r9;
	if( r20 == NULL ) hl_null_access();
	r22 = r20->isMesh;
	if( !r22 ) goto label$3440$78;
	r24 = (String)global$319;
	hl_throw((vdynamic*)r24);
	label$3440$78:
	r25 = (h3d__anim__Joint)hl_alloc_obj(h3d__anim__Joint__val);
	h3d_anim_Joint_new(r25);
	r27 = r20->model;
	r26 = hxd_fmt_fbx_BaseLibrary_getDefaultMatrixes(((hxd__fmt__fbx__BaseLibrary)r0),r27);
	r27 = r20->model;
	r18 = hxd_fmt_fbx_FbxTools_getId(r27);
	r25->index = r18;
	r27 = r20->model;
	r24 = hxd_fmt_fbx_FbxTools_getName(r27);
	r25->name = r24;
	r20->joint = r25;
	r23 = r20->parent;
	if( !r23 ) goto label$3440$106;
	r23 = r20->parent;
	if( r23 == NULL ) hl_null_access();
	r29 = r23->joint;
	r25->parent = r29;
	r23 = r20->parent;
	if( r23 == NULL ) hl_null_access();
	r22 = r23->isJoint;
	if( !r22 ) goto label$3440$106;
	r23 = r20->parent;
	if( r23 == NULL ) hl_null_access();
	r28 = r23->joint;
	if( r28 == NULL ) hl_null_access();
	r16 = r28->subs;
	if( r16 == NULL ) hl_null_access();
	r18 = hl_types_ArrayObj_push(r16,((vdynamic*)r25));
	label$3440$106:
	goto label$3440$61;
	label$3440$107:
	if( r13 == NULL ) hl_null_access();
	r9 = 0;
	r8 = &type$3328;
	r18 = 0;
	r7 = hl_alloc_array(r8,r18);
	r30 = hl_types_ArrayObj_alloc(r7);
	r18 = r13->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$116;
	hl_types_ArrayObj___expand(r13,r9);
	label$3440$116:
	r7 = r13->array;
	((hl__types__ArrayObj*)(r7 + 1))[r9] = r30;
	r9 = 0;
	label$3440$119:
	if( r12 == NULL ) hl_null_access();
	r21 = r12->length;
	if( r9 >= r21 ) goto label$3440$308;
	r21 = r12->length;
	if( ((unsigned)r9) < ((unsigned)r21) ) goto label$3440$127;
	r20 = NULL;
	goto label$3440$130;
	label$3440$127:
	r7 = r12->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r20 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$130:
	++r9;
	r8 = &type$3403;
	r18 = 1;
	r7 = hl_alloc_array(r8,r18);
	r31 = NULL;
	r18 = 0;
	((vclosure**)(r7 + 1))[r18] = r31;
	r16 = hl_types_ArrayObj_alloc(r7);
	if( r16 == NULL ) hl_null_access();
	r18 = 0;
	r32 = hl_alloc_enum(&type$3402,0);
	((Enum$3402*)r32)->p0 = (hl__types__ArrayObj)r16;
	((Enum$3402*)r32)->p1 = (hxd__fmt__fbx__HMDOut)r2;
	r31 = hl_alloc_closure_ptr(&type$3401,fun$3448,r32);
	r21 = r16->length;
	if( ((unsigned)r18) < ((unsigned)r21) ) goto label$3440$147;
	hl_types_ArrayObj___expand(r16,r18);
	label$3440$147:
	r7 = r16->array;
	((vclosure**)(r7 + 1))[r18] = r31;
	r18 = 0;
	r21 = r16->length;
	if( ((unsigned)r18) < ((unsigned)r21) ) goto label$3440$154;
	r31 = NULL;
	goto label$3440$157;
	label$3440$154:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r18];
	r31 = (vclosure*)r19;
	label$3440$157:
	if( r31 == NULL ) hl_null_access();
	r27 = r31->hasValue ? ((vvirtual* (*)(vdynamic*,hxd__fmt__fbx__TmpObject))r31->fun)((vdynamic*)r31->value,r20) : ((vvirtual* (*)(hxd__fmt__fbx__TmpObject))r31->fun)(r20);
	if( r27 ) goto label$3440$161;
	goto label$3440$119;
	label$3440$161:
	r24 = (String)global$1062;
	r34 = NULL;
	r33 = hxd_fmt_fbx_BaseLibrary_getParent(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24,r34);
	r24 = (String)global$1061;
	r30 = hxd_fmt_fbx_BaseLibrary_getParents(((hxd__fmt__fbx__BaseLibrary)r0),r33,r24);
	if( r30 == NULL ) hl_null_access();
	r18 = r30->length;
	r21 = 0;
	if( r18 != r21 ) goto label$3440$171;
	goto label$3440$119;
	label$3440$171:
	r18 = r30->length;
	r21 = 1;
	if( r21 >= r18 ) goto label$3440$176;
	r24 = (String)global$1127;
	hl_throw((vdynamic*)r24);
	label$3440$176:
	r18 = 0;
	r21 = r30->length;
	if( ((unsigned)r18) < ((unsigned)r21) ) goto label$3440$181;
	r33 = NULL;
	goto label$3440$184;
	label$3440$181:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r18];
	r33 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$184:
	r24 = (String)global$1036;
	r35 = hxd_fmt_fbx_BaseLibrary_getParents(((hxd__fmt__fbx__BaseLibrary)r0),r33,r24);
	if( r35 == NULL ) hl_null_access();
	r18 = r35->length;
	r21 = 0;
	if( r18 != r21 ) goto label$3440$191;
	goto label$3440$119;
	label$3440$191:
	r18 = r35->length;
	r21 = 1;
	if( r21 >= r18 ) goto label$3440$196;
	r24 = (String)global$1128;
	hl_throw((vdynamic*)r24);
	label$3440$196:
	r18 = 0;
	r21 = r35->length;
	if( ((unsigned)r18) < ((unsigned)r21) ) goto label$3440$201;
	r33 = NULL;
	goto label$3440$204;
	label$3440$201:
	r7 = r35->array;
	r19 = ((vdynamic**)(r7 + 1))[r18];
	r33 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$204:
	r18 = 0;
	label$3440$205:
	if( r6 == NULL ) hl_null_access();
	r37 = 0;
	r38 = r6->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$212;
	r36 = NULL;
	goto label$3440$215;
	label$3440$212:
	r7 = r6->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r36 = (hl__types__ArrayObj)hl_dyn_castp(&r19,&type$9,&type$46);
	label$3440$215:
	if( r36 == NULL ) hl_null_access();
	r37 = r36->length;
	if( r18 >= r37 ) goto label$3440$307;
	r21 = 0;
	r37 = r6->length;
	if( ((unsigned)r21) < ((unsigned)r37) ) goto label$3440$223;
	r36 = NULL;
	goto label$3440$226;
	label$3440$223:
	r7 = r6->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r36 = (hl__types__ArrayObj)hl_dyn_castp(&r19,&type$9,&type$46);
	label$3440$226:
	if( r36 == NULL ) hl_null_access();
	r37 = r36->length;
	if( ((unsigned)r18) < ((unsigned)r37) ) goto label$3440$231;
	r23 = NULL;
	goto label$3440$234;
	label$3440$231:
	r7 = r36->array;
	r19 = ((vdynamic**)(r7 + 1))[r18];
	r23 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$234:
	++r18;
	if( r23 == NULL ) hl_null_access();
	r39 = r23->model;
	if( r39 != r33 && (!r39 || !r33 || !r39->value || !r33->value || r39->value != r33->value) ) goto label$3440$306;
	if( r13 == NULL ) hl_null_access();
	r21 = 0;
	r37 = r13->length;
	if( ((unsigned)r21) < ((unsigned)r37) ) goto label$3440$244;
	r36 = NULL;
	goto label$3440$247;
	label$3440$244:
	r7 = r13->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r36 = (hl__types__ArrayObj)hl_dyn_castp(&r19,&type$9,&type$46);
	label$3440$247:
	if( r36 == NULL ) hl_null_access();
	r21 = hl_types_ArrayObj_push(r36,((vdynamic*)r20));
	r23->skin = r20;
	if( r20 == NULL ) hl_null_access();
	r39 = r20->model;
	if( r39 ) goto label$3440$254;
	r20->model = r33;
	label$3440$254:
	r24 = hxd_fmt_fbx_FbxTools_getName(r33);
	hxd_fmt_fbx_BaseLibrary_ignoreMissingObject(((hxd__fmt__fbx__BaseLibrary)r0),r24);
	r40 = r20->parent;
	if( r40 == r23 ) goto label$3440$271;
	r42 = r23->parent;
	if( r42 == NULL ) hl_null_access();
	r36 = r42->childs;
	if( r36 == NULL ) hl_null_access();
	r22 = hl_types_ArrayObj_remove(r36,((vdynamic*)r23));
	r23->parent = r40;
	if( !r40 ) goto label$3440$270;
	if( r40 == NULL ) hl_null_access();
	r36 = r40->childs;
	if( r36 == NULL ) hl_null_access();
	r21 = hl_types_ArrayObj_push(r36,((vdynamic*)r23));
	goto label$3440$271;
	label$3440$270:
	r4 = r23;
	label$3440$271:
	if( !r40 ) goto label$3440$276;
	if( r40 == NULL ) hl_null_access();
	r36 = r40->childs;
	if( r36 == NULL ) hl_null_access();
	r22 = hl_types_ArrayObj_remove(r36,((vdynamic*)r20));
	label$3440$276:
	r21 = 0;
	r36 = r20->childs;
	if( r36 == NULL ) hl_null_access();
	r36 = hl_types_ArrayObj_copy(r36);
	label$3440$280:
	if( r36 == NULL ) hl_null_access();
	r38 = r36->length;
	if( r21 >= r38 ) goto label$3440$305;
	r38 = r36->length;
	if( ((unsigned)r21) < ((unsigned)r38) ) goto label$3440$288;
	r42 = NULL;
	goto label$3440$291;
	label$3440$288:
	r7 = r36->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r42 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$291:
	++r21;
	if( r42 == NULL ) hl_null_access();
	r22 = r42->isJoint;
	if( r22 ) goto label$3440$304;
	if( r20 == NULL ) hl_null_access();
	r43 = r20->childs;
	if( r43 == NULL ) hl_null_access();
	r22 = hl_types_ArrayObj_remove(r43,((vdynamic*)r42));
	if( r23 == NULL ) hl_null_access();
	r43 = r23->childs;
	if( r43 == NULL ) hl_null_access();
	r37 = hl_types_ArrayObj_push(r43,((vdynamic*)r42));
	r42->parent = r23;
	label$3440$304:
	goto label$3440$280;
	label$3440$305:
	goto label$3440$307;
	label$3440$306:
	goto label$3440$205;
	label$3440$307:
	goto label$3440$119;
	label$3440$308:
	if( r1 ) goto label$3440$310;
	return;
	label$3440$310:
	if( r6 == NULL ) hl_null_access();
	r9 = 0;
	r8 = &type$3328;
	r18 = 0;
	r7 = hl_alloc_array(r8,r18);
	r30 = hl_types_ArrayObj_alloc(r7);
	r18 = r6->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$319;
	hl_types_ArrayObj___expand(r6,r9);
	label$3440$319:
	r7 = r6->array;
	((hl__types__ArrayObj*)(r7 + 1))[r9] = r30;
	if( r4 == NULL ) hl_null_access();
	r16 = r4->childs;
	if( r16 == NULL ) hl_null_access();
	r9 = r16->length;
	r18 = 1;
	if( r18 < r9 ) goto label$3440$343;
	r27 = r4->model;
	if( r27 ) goto label$3440$343;
	r16 = r4->childs;
	if( r16 == NULL ) hl_null_access();
	r9 = 0;
	r18 = r16->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$336;
	r20 = NULL;
	goto label$3440$339;
	label$3440$336:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r20 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$339:
	r4 = r20;
	if( r20 == NULL ) hl_null_access();
	r23 = NULL;
	r20->parent = r23;
	label$3440$343:
	if( !r4 ) goto label$3440$355;
	if( r14 == NULL ) hl_null_access();
	r9 = 0;
	r18 = r14->length;
	if( ((unsigned)r9) < ((unsigned)r18) ) goto label$3440$350;
	r15 = NULL;
	goto label$3440$353;
	label$3440$350:
	r7 = r14->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r15 = (vclosure*)r19;
	label$3440$353:
	if( r15 == NULL ) hl_null_access();
	r15->hasValue ? ((void (*)(vdynamic*,hxd__fmt__fbx__TmpObject))r15->fun)((vdynamic*)r15->value,r4) : ((void (*)(hxd__fmt__fbx__TmpObject))r15->fun)(r4);
	label$3440$355:
	r44 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r44);
	r45 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r45);
	r9 = 0;
	r27 = r0->root;
	r24 = (String)global$1043;
	r16 = hxd_fmt_fbx_FbxTools_getAll(r27,r24);
	label$3440$363:
	if( r16 == NULL ) hl_null_access();
	r21 = r16->length;
	if( r9 >= r21 ) goto label$3440$387;
	r21 = r16->length;
	if( ((unsigned)r9) < ((unsigned)r21) ) goto label$3440$371;
	r27 = NULL;
	goto label$3440$374;
	label$3440$371:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r9];
	r27 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$374:
	++r9;
	if( r45 == NULL ) hl_null_access();
	r18 = hxd_fmt_fbx_FbxTools_getId(r27);
	r47 = hl_alloc_dynobj();
	r48 = &cl$3449;
	hl_dyn_setp((vdynamic*)r47,299456319/*setSkin*/,&type$1913,r48);
	r50 = hl_alloc_enum(&type$3405,0);
	((Enum$3405*)r50)->p0 = (hxd__fmt__fbx__HMDOut)r2;
	((Enum$3405*)r50)->p1 = (vvirtual*)r27;
	r49 = hl_alloc_closure_ptr(&type$3404,fun$3450,r50);
	hl_dyn_setp((vdynamic*)r47,513740757/*vertexCount*/,&type$488,r49);
	haxe_ds_IntMap_set(r45,r18,((vdynamic*)r47));
	goto label$3440$363;
	label$3440$387:
	r46 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r46);
	r51 = (haxe__ds__IntMap)hl_alloc_obj(haxe__ds__IntMap__val);
	haxe_ds_IntMap_new(r51);
	r9 = 0;
	r18 = 0;
	label$3440$393:
	if( r6 == NULL ) hl_null_access();
	r37 = 0;
	r38 = r6->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$400;
	r16 = NULL;
	goto label$3440$403;
	label$3440$400:
	r7 = r6->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r19,&type$9,&type$46);
	label$3440$403:
	if( r16 == NULL ) hl_null_access();
	r37 = r16->length;
	if( r18 >= r37 ) goto label$3440$1114;
	r21 = 0;
	r37 = r6->length;
	if( ((unsigned)r21) < ((unsigned)r37) ) goto label$3440$411;
	r16 = NULL;
	goto label$3440$414;
	label$3440$411:
	r7 = r6->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r19,&type$9,&type$46);
	label$3440$414:
	if( r16 == NULL ) hl_null_access();
	r37 = r16->length;
	if( ((unsigned)r18) < ((unsigned)r37) ) goto label$3440$419;
	r20 = NULL;
	goto label$3440$422;
	label$3440$419:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r18];
	r20 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$422:
	++r18;
	if( r20 == NULL ) hl_null_access();
	r21 = r9;
	++r9;
	r20->index = r21;
	r52 = (hxd__fmt__hmd__Model)hl_alloc_obj(hxd__fmt__hmd__Model__val);
	hxd_fmt_hmd_Model_new(r52);
	r23 = r20->skin;
	if( r23 ) goto label$3440$433;
	r23 = r20;
	goto label$3440$434;
	label$3440$433:
	r23 = r20->skin;
	label$3440$434:
	r27 = r20->model;
	if( r27 ) goto label$3440$438;
	r24 = NULL;
	goto label$3440$440;
	label$3440$438:
	r27 = r20->model;
	r24 = hxd_fmt_fbx_FbxTools_getName(r27);
	label$3440$440:
	r52->name = r24;
	r40 = r20->parent;
	if( !r40 ) goto label$3440$447;
	r40 = r20->parent;
	if( r40 == NULL ) hl_null_access();
	r22 = r40->isJoint;
	if( !r22 ) goto label$3440$449;
	label$3440$447:
	r21 = -1;
	goto label$3440$452;
	label$3440$449:
	r40 = r20->parent;
	if( r40 == NULL ) hl_null_access();
	r21 = r40->index;
	label$3440$452:
	r52->parent = r21;
	r40 = r20->parent;
	if( !r40 ) goto label$3440$464;
	r40 = r20->parent;
	if( r40 == NULL ) hl_null_access();
	r22 = r40->isJoint;
	if( !r22 ) goto label$3440$464;
	r40 = r20->parent;
	if( r40 == NULL ) hl_null_access();
	r27 = r40->model;
	r24 = hxd_fmt_fbx_FbxTools_getName(r27);
	goto label$3440$465;
	label$3440$464:
	r24 = NULL;
	label$3440$465:
	r52->follow = r24;
	if( r23 == NULL ) hl_null_access();
	r27 = r23->model;
	if( r27 ) goto label$3440$472;
	r26 = (hxd__fmt__fbx__DefaultMatrixes)hl_alloc_obj(hxd__fmt__fbx__DefaultMatrixes__val);
	hxd_fmt_fbx_DefaultMatrixes_new(r26);
	goto label$3440$474;
	label$3440$472:
	r27 = r23->model;
	r26 = hxd_fmt_fbx_BaseLibrary_getDefaultMatrixes(((hxd__fmt__fbx__BaseLibrary)r0),r27);
	label$3440$474:
	r53 = (hxd__fmt__hmd__Position)hl_alloc_obj(hxd__fmt__hmd__Position__val);
	hxd_fmt_hmd_Position_new(r53);
	if( r26 == NULL ) hl_null_access();
	r55 = r26->trans;
	if( r55 ) goto label$3440$482;
	r21 = 0;
	r54 = (double)r21;
	goto label$3440$486;
	label$3440$482:
	r55 = r26->trans;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->x;
	r54 = -r54;
	label$3440$486:
	r53->x = r54;
	r55 = r26->trans;
	if( r55 ) goto label$3440$492;
	r21 = 0;
	r54 = (double)r21;
	goto label$3440$495;
	label$3440$492:
	r55 = r26->trans;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->y;
	label$3440$495:
	r53->y = r54;
	r55 = r26->trans;
	if( r55 ) goto label$3440$501;
	r21 = 0;
	r54 = (double)r21;
	goto label$3440$504;
	label$3440$501:
	r55 = r26->trans;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->z;
	label$3440$504:
	r53->z = r54;
	r55 = r26->scale;
	if( r55 ) goto label$3440$510;
	r21 = 1;
	r54 = (double)r21;
	goto label$3440$513;
	label$3440$510:
	r55 = r26->scale;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->x;
	label$3440$513:
	r53->sx = r54;
	r55 = r26->scale;
	if( r55 ) goto label$3440$519;
	r21 = 1;
	r54 = (double)r21;
	goto label$3440$522;
	label$3440$519:
	r55 = r26->scale;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->y;
	label$3440$522:
	r53->sy = r54;
	r55 = r26->scale;
	if( r55 ) goto label$3440$528;
	r21 = 1;
	r54 = (double)r21;
	goto label$3440$531;
	label$3440$528:
	r55 = r26->scale;
	if( r55 == NULL ) hl_null_access();
	r54 = r55->z;
	label$3440$531:
	r53->sz = r54;
	r27 = r20->model;
	if( !r27 ) goto label$3440$646;
	r27 = r20->model;
	r24 = hxd_fmt_fbx_FbxTools_getType(r27);
	r56 = (String)global$1129;
	if( r24 != r56 && (!r24 || !r56 || String___compare(r24,(vdynamic*)r56) != 0) ) goto label$3440$646;
	r54 = 45.;
	r57 = 1.7777777777777777;
	r21 = 0;
	r27 = r20->model;
	r24 = (String)global$1080;
	r34 = NULL;
	r27 = hxd_fmt_fbx_BaseLibrary_getChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24,r34);
	r24 = (String)global$1026;
	r16 = hxd_fmt_fbx_FbxTools_getAll(r27,r24);
	label$3440$547:
	if( r16 == NULL ) hl_null_access();
	r38 = r16->length;
	if( r21 >= r38 ) goto label$3440$616;
	r38 = r16->length;
	if( ((unsigned)r21) < ((unsigned)r38) ) goto label$3440$555;
	r27 = NULL;
	goto label$3440$558;
	label$3440$555:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r27 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$558:
	++r21;
	if( r27 == NULL ) hl_null_access();
	r30 = hl_vfields(r27)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r27)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r27->value,-393222421/*props*/,&type$46);
	if( r30 == NULL ) hl_null_access();
	r37 = 0;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$567;
	r58 = NULL;
	goto label$3440$570;
	label$3440$567:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r58 = (venum*)r19;
	label$3440$570:
	r24 = hxd_fmt_fbx_FbxTools_toString(r58);
	if( !r24 ) goto label$3440$580;
	r37 = r24->length;
	r38 = 11;
	if( r37 != r38 ) goto label$3440$580;
	r59 = r24->bytes;
	r60 = (vbyte*)USTR("FieldOfView");
	r37 = hl_string_compare(r59,r60,r37);
	r38 = 0;
	if( r37 == r38 ) goto label$3440$590;
	label$3440$580:
	if( !r24 ) goto label$3440$589;
	r37 = r24->length;
	r38 = 15;
	if( r37 != r38 ) goto label$3440$589;
	r59 = r24->bytes;
	r60 = (vbyte*)USTR("FilmAspectRatio");
	r37 = hl_string_compare(r59,r60,r37);
	r38 = 0;
	if( r37 == r38 ) goto label$3440$603;
	label$3440$589:
	goto label$3440$615;
	label$3440$590:
	r30 = hl_vfields(r27)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r27)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r27->value,-393222421/*props*/,&type$46);
	if( r30 == NULL ) hl_null_access();
	r37 = 4;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$597;
	r58 = NULL;
	goto label$3440$600;
	label$3440$597:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r58 = (venum*)r19;
	label$3440$600:
	r61 = hxd_fmt_fbx_FbxTools_toFloat(r58);
	r54 = r61;
	goto label$3440$615;
	label$3440$603:
	r30 = hl_vfields(r27)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r27)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r27->value,-393222421/*props*/,&type$46);
	if( r30 == NULL ) hl_null_access();
	r37 = 4;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$610;
	r58 = NULL;
	goto label$3440$613;
	label$3440$610:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r58 = (venum*)r19;
	label$3440$613:
	r61 = hxd_fmt_fbx_FbxTools_toFloat(r58);
	r57 = r61;
	label$3440$615:
	goto label$3440$547;
	label$3440$616:
	r21 = 2;
	r61 = (double)r21;
	r63 = 0.5;
	r62 = r54 * r63;
	r63 = 3.1415926535897931;
	r62 = r62 * r63;
	r21 = 180;
	r63 = (double)r21;
	r62 = r62 / r63;
	r62 = hl_math_tan(r62);
	r62 = r62 / r57;
	r62 = hl_math_atan(r62);
	r61 = r61 * r62;
	r21 = 180;
	r62 = (double)r21;
	r61 = r61 * r62;
	r62 = 3.1415926535897931;
	r61 = r61 / r62;
	if( r52 == NULL ) hl_null_access();
	r16 = r52->props;
	if( r16 ) goto label$3440$642;
	r8 = &type$693;
	r21 = 0;
	r7 = hl_alloc_array(r8,r21);
	r16 = hl_types_ArrayObj_alloc(r7);
	r52->props = r16;
	label$3440$642:
	r16 = r52->props;
	if( r16 == NULL ) hl_null_access();
	r64 = hl_alloc_enum(&type$693,0);
	((hxd_fmt_hmd_Property_CameraFOVY*)r64)->p0 = r61;
	r21 = hl_types_ArrayObj_push(r16,((vdynamic*)r64));
	label$3440$646:
	if( r26 == NULL ) hl_null_access();
	r22 = true;
	r65 = hxd_fmt_fbx_DefaultMatrixes_toQuaternion(r26,r22);
	if( r65 == NULL ) hl_null_access();
	h3d_Quat_normalize(r65);
	r54 = r65->w;
	r21 = 0;
	r57 = (double)r21;
	if( !(r54 < r57) ) goto label$3440$667;
	r54 = r65->x;
	r54 = -r54;
	r65->x = r54;
	r54 = r65->y;
	r54 = -r54;
	r65->y = r54;
	r54 = r65->z;
	r54 = -r54;
	r65->z = r54;
	r54 = r65->w;
	r54 = -r54;
	r65->w = r54;
	label$3440$667:
	if( r53 == NULL ) hl_null_access();
	r54 = r65->x;
	r53->qx = r54;
	r54 = r65->y;
	r53->qy = r54;
	r54 = r65->z;
	r53->qz = r54;
	r52->position = r53;
	r21 = -1;
	r52->geometry = r21;
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r16 = r66->models;
	if( r16 == NULL ) hl_null_access();
	r21 = hl_types_ArrayObj_push(r16,((vdynamic*)r52));
	if( r20 == NULL ) hl_null_access();
	r22 = r20->isMesh;
	if( r22 ) goto label$3440$686;
	goto label$3440$393;
	label$3440$686:
	r21 = 0;
	r59 = hl_alloc_bytes(r21);
	r21 = 0;
	r21 = 0;
	r67 = hl_types_ArrayBase_allocI32(r59,r21);
	r22 = false;
	r21 = 0;
	r27 = r20->model;
	r24 = (String)global$1066;
	r16 = hxd_fmt_fbx_BaseLibrary_getChilds(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	label$3440$696:
	if( r16 == NULL ) hl_null_access();
	r38 = r16->length;
	if( r21 >= r38 ) goto label$3440$913;
	r38 = r16->length;
	if( ((unsigned)r21) < ((unsigned)r38) ) goto label$3440$704;
	r27 = NULL;
	goto label$3440$707;
	label$3440$704:
	r7 = r16->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r27 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$707:
	++r21;
	if( r51 == NULL ) hl_null_access();
	r37 = hxd_fmt_fbx_FbxTools_getId(r27);
	r19 = haxe_ds_IntMap_get(r51,r37);
	r68 = (vdynamic*)r19;
	if( !r68 ) goto label$3440$737;
	if( r67 == NULL ) hl_null_access();
	r37 = r68 ? r68->v.i : 0;
	r37 = hl_types_ArrayBytes_Int_push(r67,r37);
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r30 = r66->materials;
	if( r30 == NULL ) hl_null_access();
	r37 = r68 ? r68->v.i : 0;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$725;
	r72 = NULL;
	goto label$3440$728;
	label$3440$725:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r72 = (hxd__fmt__hmd__Material)r19;
	label$3440$728:
	if( r72 == NULL ) hl_null_access();
	r24 = r72->normalMap;
	r56 = NULL;
	if( r24 != r56 && (!r24 || !r56 || String___compare(r24,(vdynamic*)r56) != 0) ) goto label$3440$734;
	r71 = false;
	goto label$3440$735;
	label$3440$734:
	r71 = true;
	label$3440$735:
	r22 = r71;
	goto label$3440$696;
	label$3440$737:
	r72 = (hxd__fmt__hmd__Material)hl_alloc_obj(hxd__fmt__hmd__Material__val);
	hxd_fmt_hmd_Material_new(r72);
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r30 = r66->materials;
	if( r30 == NULL ) hl_null_access();
	r37 = r30->length;
	r69 = hl_alloc_dynamic(&type$3);
	r69->v.i = r37;
	if( r67 == NULL ) hl_null_access();
	r37 = r69 ? r69->v.i : 0;
	r37 = hl_types_ArrayBytes_Int_push(r67,r37);
	r37 = hxd_fmt_fbx_FbxTools_getId(r27);
	haxe_ds_IntMap_set(r51,r37,((vdynamic*)r69));
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r30 = r66->materials;
	if( r30 == NULL ) hl_null_access();
	r37 = hl_types_ArrayObj_push(r30,((vdynamic*)r72));
	r24 = hxd_fmt_fbx_FbxTools_getName(r27);
	r72->name = r24;
	r73 = NULL;
	r72->blendMode = r73;
	r37 = 0;
	r24 = (String)global$1026;
	r30 = hxd_fmt_fbx_FbxTools_getAll(r27,r24);
	label$3440$762:
	if( r30 == NULL ) hl_null_access();
	r74 = r30->length;
	if( r37 >= r74 ) goto label$3440$810;
	r74 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r74) ) goto label$3440$770;
	r33 = NULL;
	goto label$3440$773;
	label$3440$770:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r33 = hl_to_virtual(&type$697,(vdynamic*)r19);
	label$3440$773:
	++r37;
	if( r33 == NULL ) hl_null_access();
	r35 = hl_vfields(r33)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r33)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r33->value,-393222421/*props*/,&type$46);
	if( r35 == NULL ) hl_null_access();
	r38 = 4;
	r74 = r35->length;
	if( ((unsigned)r38) < ((unsigned)r74) ) goto label$3440$782;
	r58 = NULL;
	goto label$3440$785;
	label$3440$782:
	r7 = r35->array;
	r19 = ((vdynamic**)(r7 + 1))[r38];
	r58 = (venum*)r19;
	label$3440$785:
	r35 = hl_vfields(r33)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r33)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r33->value,-393222421/*props*/,&type$46);
	if( r35 == NULL ) hl_null_access();
	r38 = 0;
	r74 = r35->length;
	if( ((unsigned)r38) < ((unsigned)r74) ) goto label$3440$792;
	r75 = NULL;
	goto label$3440$795;
	label$3440$792:
	r7 = r35->array;
	r19 = ((vdynamic**)(r7 + 1))[r38];
	r75 = (venum*)r19;
	label$3440$795:
	r24 = hxd_fmt_fbx_FbxTools_toString(r75);
	r56 = (String)global$1130;
	if( r24 != r56 && (!r24 || !r56 || String___compare(r24,(vdynamic*)r56) != 0) ) goto label$3440$809;
	r54 = hxd_fmt_fbx_FbxTools_toFloat(r58);
	r38 = 1;
	r61 = (double)r38;
	if( !(r54 < r61) ) goto label$3440$809;
	r61 = 0.97999999999999998;
	if( !(r61 < r54) ) goto label$3440$809;
	if( r72 == NULL ) hl_null_access();
	r73 = r72->blendMode;
	if( r73 ) goto label$3440$809;
	r73 = (venum*)global$429;
	r72->blendMode = r73;
	label$3440$809:
	goto label$3440$762;
	label$3440$810:
	r24 = (String)global$1131;
	r33 = hxd_fmt_fbx_BaseLibrary_getSpecChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	if( !r33 ) goto label$3440$817;
	r24 = hxd_fmt_fbx_HMDOut_makeTexturePath(r0,r33);
	if( !r24 ) goto label$3440$817;
	if( r72 == NULL ) hl_null_access();
	r72->diffuseTexture = r24;
	label$3440$817:
	if( r72 == NULL ) hl_null_access();
	r24 = (String)global$1132;
	r39 = hxd_fmt_fbx_BaseLibrary_getSpecChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	r24 = hxd_fmt_fbx_HMDOut_makeTexturePath(r0,r39);
	r72->normalMap = r24;
	r24 = r72->normalMap;
	if( !r24 ) goto label$3440$826;
	r71 = true;
	r22 = r71;
	label$3440$826:
	r24 = (String)global$1133;
	r39 = hxd_fmt_fbx_BaseLibrary_getSpecChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	if( r39 ) goto label$3440$832;
	r24 = (String)global$1134;
	r41 = hxd_fmt_fbx_BaseLibrary_getSpecChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	r39 = r41;
	label$3440$832:
	r24 = hxd_fmt_fbx_HMDOut_makeTexturePath(r0,r39);
	r72->specularTexture = r24;
	r24 = r72->normalMap;
	if( r24 ) goto label$3440$838;
	r24 = r72->specularTexture;
	if( !r24 ) goto label$3440$849;
	label$3440$838:
	r30 = r72->props;
	if( r30 ) goto label$3440$845;
	r8 = &type$693;
	r37 = 0;
	r7 = hl_alloc_array(r8,r37);
	r30 = hl_types_ArrayObj_alloc(r7);
	r72->props = r30;
	label$3440$845:
	r30 = r72->props;
	if( r30 == NULL ) hl_null_access();
	r64 = (venum*)global$1135;
	r37 = hl_types_ArrayObj_push(r30,((vdynamic*)r64));
	label$3440$849:
	r24 = (String)global$1136;
	r41 = hxd_fmt_fbx_BaseLibrary_getSpecChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24);
	if( !r41 ) goto label$3440$908;
	r24 = (String)global$1137;
	r77 = NULL;
	r76 = hxd_fmt_fbx_FbxTools_get(r41,r24,r77);
	if( r76 == NULL ) hl_null_access();
	r30 = hl_vfields(r76)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r76)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r76->value,-393222421/*props*/,&type$46);
	if( r30 == NULL ) hl_null_access();
	r37 = 0;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$863;
	r58 = NULL;
	goto label$3440$866;
	label$3440$863:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r58 = (venum*)r19;
	label$3440$866:
	r24 = hxd_fmt_fbx_FbxTools_toString(r58);
	r78 = (String)global$8;
	if( r24 == r78 || (r24 && r78 && String___compare(r24,(vdynamic*)r78) == 0) ) goto label$3440$908;
	if( r24 == NULL ) hl_null_access();
	r56 = String_toLowerCase(r24);
	r24 = r56;
	if( r56 == NULL ) hl_null_access();
	r78 = (String)global$210;
	r30 = String_split(r56,r78);
	if( r30 == NULL ) hl_null_access();
	r19 = hl_types_ArrayObj_pop(r30);
	r56 = (String)r19;
	if( !r33 ) goto label$3440$906;
	r79 = (String)global$1137;
	r77 = NULL;
	r76 = hxd_fmt_fbx_FbxTools_get(r33,r79,r77);
	if( r76 == NULL ) hl_null_access();
	r30 = hl_vfields(r76)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r76)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r76->value,-393222421/*props*/,&type$46);
	if( r30 == NULL ) hl_null_access();
	r37 = 0;
	r38 = r30->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$890;
	r58 = NULL;
	goto label$3440$893;
	label$3440$890:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r37];
	r58 = (venum*)r19;
	label$3440$893:
	r79 = hxd_fmt_fbx_FbxTools_toString(r58);
	if( r79 == NULL ) hl_null_access();
	r79 = String_toLowerCase(r79);
	if( r24 != r79 && (!r24 || !r79 || String___compare(r24,(vdynamic*)r79) != 0) ) goto label$3440$906;
	r73 = r72->blendMode;
	if( r73 ) goto label$3440$905;
	r79 = (String)global$1138;
	if( r56 == r79 || (r56 && r79 && String___compare(r56,(vdynamic*)r79) == 0) ) goto label$3440$905;
	r79 = (String)global$1139;
	if( r56 == r79 || (r56 && r79 && String___compare(r56,(vdynamic*)r79) == 0) ) goto label$3440$905;
	r73 = (venum*)global$396;
	r72->blendMode = r73;
	label$3440$905:
	goto label$3440$908;
	label$3440$906:
	r78 = (String)global$1140;
	hl_throw((vdynamic*)r78);
	label$3440$908:
	r73 = r72->blendMode;
	if( r73 ) goto label$3440$912;
	r73 = (venum*)global$473;
	r72->blendMode = r73;
	label$3440$912:
	goto label$3440$696;
	label$3440$913:
	if( r20 == NULL ) hl_null_access();
	r27 = r20->model;
	r24 = (String)global$1061;
	r34 = NULL;
	r27 = hxd_fmt_fbx_BaseLibrary_getChild(((hxd__fmt__fbx__BaseLibrary)r0),r27,r24,r34);
	r80 = NULL;
	r40 = r20->skin;
	if( !r40 ) goto label$3440$1012;
	r8 = &type$1871;
	r21 = 0;
	r7 = hl_alloc_array(r8,r21);
	r16 = hl_types_ArrayObj_alloc(r7);
	r21 = 0;
	r40 = r20->skin;
	if( r40 == NULL ) hl_null_access();
	r30 = r40->childs;
	label$3440$929:
	if( r30 == NULL ) hl_null_access();
	r38 = r30->length;
	if( r21 >= r38 ) goto label$3440$948;
	r38 = r30->length;
	if( ((unsigned)r21) < ((unsigned)r38) ) goto label$3440$937;
	r40 = NULL;
	goto label$3440$940;
	label$3440$937:
	r7 = r30->array;
	r19 = ((vdynamic**)(r7 + 1))[r21];
	r40 = (hxd__fmt__fbx__TmpObject)r19;
	label$3440$940:
	++r21;
	if( r40 == NULL ) hl_null_access();
	r71 = r40->isJoint;
	if( !r71 ) goto label$3440$947;
	if( r16 == NULL ) hl_null_access();
	r25 = r40->joint;
	r37 = hl_types_ArrayObj_push(r16,((vdynamic*)r25));
	label$3440$947:
	goto label$3440$929;
	label$3440$948:
	r21 = r0->bonesPerVertex;
	r81 = hxd_fmt_fbx_BaseLibrary_createSkin(((hxd__fmt__fbx__BaseLibrary)r0),r44,r45,r16,r21);
	r80 = r81;
	if( r81 == NULL ) hl_null_access();
	r30 = r81->boundJoints;
	if( r30 == NULL ) hl_null_access();
	r21 = r30->length;
	r37 = r0->maxBonesPerSkin;
	if( r37 >= r21 ) goto label$3440$1007;
	r82 = (hxd__fmt__fbx__Geometry)hl_alloc_obj(hxd__fmt__fbx__Geometry__val);
	hxd_fmt_fbx_Geometry_new(r82,((hxd__fmt__fbx__BaseLibrary)r0),r27);
	r83 = hxd_fmt_fbx_Geometry_getIndexes(r82);
	r21 = r0->maxBonesPerSkin;
	r37 = 0;
	r59 = hl_alloc_bytes(r37);
	r37 = 0;
	r37 = 0;
	r70 = hl_types_ArrayBase_allocI32(r59,r37);
	r37 = 0;
	if( r83 == NULL ) hl_null_access();
	r84 = hl_vfields(r83)[0] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r83)[0])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r83->value,5243965/*idx*/,&type$33);
	label$3440$969:
	if( r84 == NULL ) hl_null_access();
	r74 = r84->length;
	if( r37 >= r74 ) goto label$3440$997;
	if( r70 == NULL ) hl_null_access();
	if( r83 == NULL ) hl_null_access();
	r86 = hl_vfields(r83)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r83)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r83->value,240071313/*vidx*/,&type$33);
	if( r86 == NULL ) hl_null_access();
	r38 = r37;
	++r37;
	r74 = r84->length;
	if( ((unsigned)r38) < ((unsigned)r74) ) goto label$3440$983;
	r38 = 0;
	goto label$3440$987;
	label$3440$983:
	r59 = r84->bytes;
	r74 = 2;
	r74 = r38 << r74;
	r38 = *(int*)(r59 + r74);
	label$3440$987:
	r74 = r86->length;
	if( ((unsigned)r38) < ((unsigned)r74) ) goto label$3440$991;
	r38 = 0;
	goto label$3440$995;
	label$3440$991:
	r59 = r86->bytes;
	r74 = 2;
	r74 = r38 << r74;
	r38 = *(int*)(r59 + r74);
	label$3440$995:
	r38 = hl_types_ArrayBytes_Int_push(r70,r38);
	goto label$3440$969;
	label$3440$997:
	if( r80 == NULL ) hl_null_access();
	if( r67 == NULL ) hl_null_access();
	r38 = r67->length;
	r74 = 1;
	if( r74 >= r38 ) goto label$3440$1005;
	if( r82 == NULL ) hl_null_access();
	r85 = hxd_fmt_fbx_Geometry_getMaterialByTriangle(r82);
	goto label$3440$1006;
	label$3440$1005:
	r85 = NULL;
	label$3440$1006:
	r71 = h3d_anim_Skin_split(r80,r21,r70,r85);
	label$3440$1007:
	if( r52 == NULL ) hl_null_access();
	if( r20 == NULL ) hl_null_access();
	r40 = r20->skin;
	r87 = hxd_fmt_fbx_HMDOut_makeSkin(r0,r80,r40);
	r52->skin = r87;
	label$3440$1012:
	if( r46 == NULL ) hl_null_access();
	r21 = hxd_fmt_fbx_FbxTools_getId(r27);
	r19 = haxe_ds_IntMap_get(r46,r21);
	r88 = hl_to_virtual(&type$3408,(vdynamic*)r19);
	if( r88 ) goto label$3440$1040;
	r82 = (hxd__fmt__fbx__Geometry)hl_alloc_obj(hxd__fmt__fbx__Geometry__val);
	hxd_fmt_fbx_Geometry_new(r82,((hxd__fmt__fbx__BaseLibrary)r0),r27);
	r91 = r0->dataOut;
	r90 = hxd_fmt_fbx_HMDOut_buildGeom(r0,r82,r80,r91,r22);
	r89 = hl_alloc_virtual(&type$3408);
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r16 = r66->geometries;
	if( r16 == NULL ) hl_null_access();
	r21 = r16->length;
	if( hl_vfields(r89)[0] ) *(int*)(hl_vfields(r89)[0]) = (int)r21; else hl_dyn_seti(r89->value,5145602/*gid*/,&type$3,r21);
	if( r90 == NULL ) hl_null_access();
	r70 = hl_vfields(r90)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r90)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r90->value,-536103710/*materials*/,&type$33);
	if( hl_vfields(r89)[1] ) *(hl__types__ArrayBytes_Int*)(hl_vfields(r89)[1]) = (hl__types__ArrayBytes_Int)r70; else hl_dyn_setp(r89->value,-536103710/*materials*/,&type$33,r70);
	r88 = r89;
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r16 = r66->geometries;
	if( r16 == NULL ) hl_null_access();
	r92 = hl_vfields(r90)[0] ? (*(hxd__fmt__hmd__Geometry*)(hl_vfields(r90)[0])) : (hxd__fmt__hmd__Geometry)hl_dyn_getp(r90->value,103/*g*/,&type$2480);
	r21 = hl_types_ArrayObj_push(r16,((vdynamic*)r92));
	r21 = hxd_fmt_fbx_FbxTools_getId(r27);
	haxe_ds_IntMap_set(r46,r21,((vdynamic*)r89));
	label$3440$1040:
	if( r52 == NULL ) hl_null_access();
	if( r88 == NULL ) hl_null_access();
	r21 = hl_vfields(r88)[0] ? (*(int*)(hl_vfields(r88)[0])) : (int)hl_dyn_geti(r88->value,5145602/*gid*/,&type$3);
	r52->geometry = r21;
	if( r67 == NULL ) hl_null_access();
	r21 = r67->length;
	r37 = 0;
	if( r21 != r37 ) goto label$3440$1074;
	r72 = (hxd__fmt__hmd__Material)hl_alloc_obj(hxd__fmt__hmd__Material__val);
	hxd_fmt_hmd_Material_new(r72);
	r73 = (venum*)global$473;
	r72->blendMode = r73;
	r24 = (String)global$554;
	r72->name = r24;
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r16 = r66->materials;
	if( r16 == NULL ) hl_null_access();
	r21 = r16->length;
	r66 = r0->d;
	if( r66 == NULL ) hl_null_access();
	r16 = r66->materials;
	if( r16 == NULL ) hl_null_access();
	r37 = hl_types_ArrayObj_push(r16,((vdynamic*)r72));
	r37 = 4;
	r59 = hl_alloc_bytes(r37);
	r37 = 0;
	r74 = 2;
	r74 = r37 << r74;
	*(int*)(r59 + r74) = r21;
	++r37;
	r37 = 1;
	r70 = hl_types_ArrayBase_allocI32(r59,r37);
	r67 = r70;
	label$3440$1074:
	r70 = hl_vfields(r88)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r88)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r88->value,-536103710/*materials*/,&type$33);
	if( r70 ) goto label$3440$1078;
	r52->materials = r67;
	goto label$3440$1113;
	label$3440$1078:
	r21 = 0;
	r59 = hl_alloc_bytes(r21);
	r21 = 0;
	r21 = 0;
	r70 = hl_types_ArrayBase_allocI32(r59,r21);
	r21 = 0;
	r84 = hl_vfields(r88)[1] ? (*(hl__types__ArrayBytes_Int*)(hl_vfields(r88)[1])) : (hl__types__ArrayBytes_Int)hl_dyn_getp(r88->value,-536103710/*materials*/,&type$33);
	label$3440$1085:
	if( r84 == NULL ) hl_null_access();
	r38 = r84->length;
	if( r21 >= r38 ) goto label$3440$1111;
	if( r70 == NULL ) hl_null_access();
	if( r67 == NULL ) hl_null_access();
	r37 = r21;
	++r21;
	r38 = r84->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$1097;
	r37 = 0;
	goto label$3440$1101;
	label$3440$1097:
	r59 = r84->bytes;
	r38 = 2;
	r38 = r37 << r38;
	r37 = *(int*)(r59 + r38);
	label$3440$1101:
	r38 = r67->length;
	if( ((unsigned)r37) < ((unsigned)r38) ) goto label$3440$1105;
	r37 = 0;
	goto label$3440$1109;
	label$3440$1105:
	r59 = r67->bytes;
	r38 = 2;
	r38 = r37 << r38;
	r37 = *(int*)(r59 + r38);
	label$3440$1109:
	r37 = hl_types_ArrayBytes_Int_push(r70,r37);
	goto label$3440$1085;
	label$3440$1111:
	if( r52 == NULL ) hl_null_access();
	r52->materials = r70;
	label$3440$1113:
	goto label$3440$393;
	label$3440$1114:
	return;
}

String hxd_fmt_fbx_HMDOut_makeTexturePath(hxd__fmt__fbx__HMDOut r0,vvirtual* r1) {
	bool *r6;
	String r3, r11, r12;
	hl__types__ArrayObj r5;
	vvirtual *r2;
	venum *r9;
	bool r13;
	vdynamic *r4, *r14;
	varray *r10;
	int r7, r8;
	if( r1 ) goto label$3441$3;
	r3 = NULL;
	return r3;
	label$3441$3:
	r3 = (String)global$1137;
	r6 = NULL;
	r2 = hxd_fmt_fbx_FbxTools_get(r1,r3,r6);
	if( r2 == NULL ) hl_null_access();
	r5 = hl_vfields(r2)[2] ? (*(hl__types__ArrayObj*)(hl_vfields(r2)[2])) : (hl__types__ArrayObj)hl_dyn_getp(r2->value,-393222421/*props*/,&type$46);
	if( r5 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r5->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3441$14;
	r9 = NULL;
	goto label$3441$17;
	label$3441$14:
	r10 = r5->array;
	r4 = ((vdynamic**)(r10 + 1))[r7];
	r9 = (venum*)r4;
	label$3441$17:
	r3 = hxd_fmt_fbx_FbxTools_toString(r9);
	r12 = (String)global$8;
	if( r3 != r12 && (!r3 || !r12 || String___compare(r3,(vdynamic*)r12) != 0) ) goto label$3441$22;
	r11 = NULL;
	return r11;
	label$3441$22:
	if( r3 == NULL ) hl_null_access();
	r12 = (String)global$196;
	r5 = String_split(r3,r12);
	if( r5 == NULL ) hl_null_access();
	r11 = (String)global$207;
	r11 = hl_types_ArrayObj_join(r5,r11);
	r3 = r11;
	r13 = r0->absoluteTexturePath;
	if( r13 ) goto label$3441$57;
	r11 = r0->filePath;
	if( !r11 ) goto label$3441$45;
	if( r3 == NULL ) hl_null_access();
	r11 = String_toLowerCase(r3);
	r12 = r0->filePath;
	r13 = StringTools_startsWith(r11,r12);
	if( !r13 ) goto label$3441$45;
	r12 = r0->filePath;
	if( r12 == NULL ) hl_null_access();
	r7 = r12->length;
	r14 = NULL;
	r11 = String_substr(r3,r7,r14);
	r3 = r11;
	goto label$3441$57;
	label$3441$45:
	if( r3 == NULL ) hl_null_access();
	r12 = (String)global$1141;
	r5 = String_split(r3,r12);
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	r8 = 1;
	if( r8 >= r7 ) goto label$3441$57;
	r4 = hl_types_ArrayObj_shift(r5);
	r11 = (String)r4;
	r11 = (String)global$1141;
	r11 = hl_types_ArrayObj_join(r5,r11);
	r3 = r11;
	label$3441$57:
	return r3;
}

hxd__fmt__hmd__Skin hxd_fmt_fbx_HMDOut_makeSkin(hxd__fmt__fbx__HMDOut r0,h3d__anim__Skin r1,hxd__fmt__fbx__TmpObject r2) {
	String r5;
	hxd__fmt__hmd__Skin r3;
	h3d__anim__Joint r14, r17;
	hl__types__ArrayObj r7, r13, r36;
	vvirtual *r6, *r31;
	hl_type *r9;
	hl__types__ArrayBytes_Int r33;
	hxd__fmt__hmd__SkinSplit r32;
	double r20, r21, r22, r23, r24, r25, r26, r27;
	double *r28, *r29, *r30;
	hxd__fmt__hmd__Position r18;
	vdynamic *r15;
	vbyte *r34;
	h3d__Matrix r19;
	hxd__fmt__hmd__SkinJoint r16;
	int r10, r11, r12, r35;
	varray *r8;
	r3 = (hxd__fmt__hmd__Skin)hl_alloc_obj(hxd__fmt__hmd__Skin__val);
	hxd_fmt_hmd_Skin_new(r3);
	if( r2 == NULL ) hl_null_access();
	r6 = r2->model;
	r5 = hxd_fmt_fbx_FbxTools_getName(r6);
	r3->name = r5;
	r9 = &type$3411;
	r10 = 0;
	r8 = hl_alloc_array(r9,r10);
	r7 = hl_types_ArrayObj_alloc(r8);
	r3->joints = r7;
	r10 = 0;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->allJoints;
	label$3442$14:
	if( r7 == NULL ) hl_null_access();
	r12 = r7->length;
	if( r10 >= r12 ) goto label$3442$191;
	r12 = r7->length;
	if( ((unsigned)r10) < ((unsigned)r12) ) goto label$3442$22;
	r14 = NULL;
	goto label$3442$25;
	label$3442$22:
	r8 = r7->array;
	r15 = ((vdynamic**)(r8 + 1))[r10];
	r14 = (h3d__anim__Joint)r15;
	label$3442$25:
	++r10;
	r16 = (hxd__fmt__hmd__SkinJoint)hl_alloc_obj(hxd__fmt__hmd__SkinJoint__val);
	hxd_fmt_hmd_SkinJoint_new(r16);
	if( r14 == NULL ) hl_null_access();
	r5 = r14->name;
	r16->name = r5;
	r17 = r14->parent;
	if( r17 ) goto label$3442$35;
	r11 = -1;
	goto label$3442$38;
	label$3442$35:
	r17 = r14->parent;
	if( r17 == NULL ) hl_null_access();
	r11 = r17->index;
	label$3442$38:
	r16->parent = r11;
	r11 = r14->bindIndex;
	r16->bind = r11;
	r19 = r14->defMat;
	r18 = hxd_fmt_fbx_HMDOut_makePosition(r0,r19);
	r16->position = r18;
	r19 = r14->transPos;
	if( !r19 ) goto label$3442$186;
	r19 = r14->transPos;
	r18 = hxd_fmt_fbx_HMDOut_makePosition(r0,r19);
	r16->transpos = r18;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r20 = r18->sx;
	r11 = 1;
	r21 = (double)r11;
	if( r20 != r21 ) goto label$3442$67;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r20 = r18->sy;
	r11 = 1;
	r21 = (double)r11;
	if( r20 != r21 ) goto label$3442$67;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r20 = r18->sz;
	r11 = 1;
	r21 = (double)r11;
	if( r20 == r21 ) goto label$3442$186;
	label$3442$67:
	r19 = r14->transPos;
	if( r19 == NULL ) hl_null_access();
	r19 = h3d_Matrix_clone(r19);
	if( r19 == NULL ) hl_null_access();
	h3d_Matrix_transpose(r19);
	r20 = 0.;
	r21 = 0.;
	r22 = 0.;
	r23 = r19->_11;
	r24 = r19->_11;
	r23 = r23 * r24;
	r24 = r19->_12;
	r25 = r19->_12;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r24 = r19->_13;
	r25 = r19->_13;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r23 = hl_math_sqrt(r23);
	r20 = r23;
	r23 = r19->_21;
	r24 = r19->_21;
	r23 = r23 * r24;
	r24 = r19->_22;
	r25 = r19->_22;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r24 = r19->_23;
	r25 = r19->_23;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r23 = hl_math_sqrt(r23);
	r21 = r23;
	r23 = r19->_31;
	r24 = r19->_31;
	r23 = r23 * r24;
	r24 = r19->_32;
	r25 = r19->_32;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r24 = r19->_33;
	r25 = r19->_33;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r23 = hl_math_sqrt(r23);
	r22 = r23;
	r23 = r19->_11;
	r24 = r19->_22;
	r25 = r19->_33;
	r24 = r24 * r25;
	r25 = r19->_23;
	r26 = r19->_32;
	r25 = r25 * r26;
	r24 = r24 - r25;
	r23 = r23 * r24;
	r24 = r19->_12;
	r25 = r19->_23;
	r26 = r19->_31;
	r25 = r25 * r26;
	r26 = r19->_21;
	r27 = r19->_33;
	r26 = r26 * r27;
	r25 = r25 - r26;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r24 = r19->_13;
	r25 = r19->_21;
	r26 = r19->_32;
	r25 = r25 * r26;
	r26 = r19->_22;
	r27 = r19->_31;
	r26 = r26 * r27;
	r25 = r25 - r26;
	r24 = r24 * r25;
	r23 = r23 + r24;
	r11 = 0;
	r24 = (double)r11;
	if( !(r23 < r24) ) goto label$3442$158;
	r11 = -1;
	r24 = (double)r11;
	r23 = r20 * r24;
	r20 = r23;
	r11 = -1;
	r24 = (double)r11;
	r23 = r21 * r24;
	r21 = r23;
	r11 = -1;
	r24 = (double)r11;
	r23 = r22 * r24;
	r22 = r23;
	label$3442$158:
	r11 = 1;
	r23 = (double)r11;
	r23 = r23 / r20;
	r28 = &r23;
	r11 = 1;
	r24 = (double)r11;
	r24 = r24 / r21;
	r29 = &r24;
	r11 = 1;
	r25 = (double)r11;
	r25 = r25 / r22;
	r30 = &r25;
	h3d_Matrix_prependScale(r19,r28,r29,r30);
	h3d_Matrix_transpose(r19);
	r18 = hxd_fmt_fbx_HMDOut_makePosition(r0,r19);
	r16->transpos = r18;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r26 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r20);
	r18->sx = r26;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r26 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r21);
	r18->sy = r26;
	r18 = r16->transpos;
	if( r18 == NULL ) hl_null_access();
	r26 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r22);
	r18->sz = r26;
	label$3442$186:
	if( r3 == NULL ) hl_null_access();
	r13 = r3->joints;
	if( r13 == NULL ) hl_null_access();
	r11 = hl_types_ArrayObj_push(r13,((vdynamic*)r16));
	goto label$3442$14;
	label$3442$191:
	if( r1 == NULL ) hl_null_access();
	r7 = r1->splitJoints;
	if( !r7 ) goto label$3442$251;
	if( r3 == NULL ) hl_null_access();
	r9 = &type$3412;
	r10 = 0;
	r8 = hl_alloc_array(r9,r10);
	r7 = hl_types_ArrayObj_alloc(r8);
	r3->split = r7;
	r10 = 0;
	r7 = r1->splitJoints;
	label$3442$202:
	if( r7 == NULL ) hl_null_access();
	r12 = r7->length;
	if( r10 >= r12 ) goto label$3442$251;
	r12 = r7->length;
	if( ((unsigned)r10) < ((unsigned)r12) ) goto label$3442$210;
	r31 = NULL;
	goto label$3442$213;
	label$3442$210:
	r8 = r7->array;
	r15 = ((vdynamic**)(r8 + 1))[r10];
	r31 = hl_to_virtual(&type$1924,(vdynamic*)r15);
	label$3442$213:
	++r10;
	r32 = (hxd__fmt__hmd__SkinSplit)hl_alloc_obj(hxd__fmt__hmd__SkinSplit__val);
	hxd_fmt_hmd_SkinSplit_new(r32);
	if( r31 == NULL ) hl_null_access();
	r11 = hl_vfields(r31)[1] ? (*(int*)(hl_vfields(r31)[1])) : (int)hl_dyn_geti(r31->value,-257598297/*material*/,&type$3);
	r32->materialIndex = r11;
	r11 = 0;
	r34 = hl_alloc_bytes(r11);
	r11 = 0;
	r11 = 0;
	r33 = hl_types_ArrayBase_allocI32(r34,r11);
	r11 = 0;
	r13 = hl_vfields(r31)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r31)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r31->value,-251009446/*joints*/,&type$46);
	label$3442$226:
	if( r13 == NULL ) hl_null_access();
	r35 = r13->length;
	if( r11 >= r35 ) goto label$3442$244;
	if( r33 == NULL ) hl_null_access();
	r12 = r11;
	++r11;
	r35 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r35) ) goto label$3442$237;
	r14 = NULL;
	goto label$3442$240;
	label$3442$237:
	r8 = r13->array;
	r15 = ((vdynamic**)(r8 + 1))[r12];
	r14 = (h3d__anim__Joint)r15;
	label$3442$240:
	if( r14 == NULL ) hl_null_access();
	r12 = r14->index;
	r12 = hl_types_ArrayBytes_Int_push(r33,r12);
	goto label$3442$226;
	label$3442$244:
	if( r32 == NULL ) hl_null_access();
	r32->joints = r33;
	if( r3 == NULL ) hl_null_access();
	r36 = r3->split;
	if( r36 == NULL ) hl_null_access();
	r12 = hl_types_ArrayObj_push(r36,((vdynamic*)r32));
	goto label$3442$202;
	label$3442$251:
	return r3;
}

hxd__fmt__hmd__Position hxd_fmt_fbx_HMDOut_makePosition(hxd__fmt__fbx__HMDOut r0,h3d__Matrix r1) {
	h3d__Quat r13;
	double r4, r5, r6, r7, r8, r9, r10, r11;
	double *r14, *r15, *r16, *r17;
	hxd__fmt__hmd__Position r2;
	int r12;
	r2 = (hxd__fmt__hmd__Position)hl_alloc_obj(hxd__fmt__hmd__Position__val);
	hxd_fmt_hmd_Position_new(r2);
	r4 = 0.;
	r5 = 0.;
	r6 = 0.;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->_11;
	r8 = r1->_11;
	r7 = r7 * r8;
	r8 = r1->_12;
	r9 = r1->_12;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = r1->_13;
	r9 = r1->_13;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r7 = hl_math_sqrt(r7);
	r4 = r7;
	r7 = r1->_21;
	r8 = r1->_21;
	r7 = r7 * r8;
	r8 = r1->_22;
	r9 = r1->_22;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = r1->_23;
	r9 = r1->_23;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r7 = hl_math_sqrt(r7);
	r5 = r7;
	r7 = r1->_31;
	r8 = r1->_31;
	r7 = r7 * r8;
	r8 = r1->_32;
	r9 = r1->_32;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = r1->_33;
	r9 = r1->_33;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r7 = hl_math_sqrt(r7);
	r6 = r7;
	r7 = r1->_11;
	r8 = r1->_22;
	r9 = r1->_33;
	r8 = r8 * r9;
	r9 = r1->_23;
	r10 = r1->_32;
	r9 = r9 * r10;
	r8 = r8 - r9;
	r7 = r7 * r8;
	r8 = r1->_12;
	r9 = r1->_23;
	r10 = r1->_31;
	r9 = r9 * r10;
	r10 = r1->_21;
	r11 = r1->_33;
	r10 = r10 * r11;
	r9 = r9 - r10;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = r1->_13;
	r9 = r1->_21;
	r10 = r1->_32;
	r9 = r9 * r10;
	r10 = r1->_22;
	r11 = r1->_31;
	r10 = r10 * r11;
	r9 = r9 - r10;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r12 = 0;
	r8 = (double)r12;
	if( !(r7 < r8) ) goto label$3443$89;
	r12 = -1;
	r8 = (double)r12;
	r7 = r4 * r8;
	r4 = r7;
	r12 = -1;
	r8 = (double)r12;
	r7 = r5 * r8;
	r5 = r7;
	r12 = -1;
	r8 = (double)r12;
	r7 = r6 * r8;
	r6 = r7;
	label$3443$89:
	r13 = (h3d__Quat)hl_alloc_obj(h3d__Quat__val);
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	h3d_Quat_new(r13,r14,r15,r16,r17);
	h3d_Quat_initRotateMatrix(r13,r1);
	h3d_Quat_normalize(r13);
	r7 = r13->w;
	r12 = 0;
	r8 = (double)r12;
	if( !(r7 < r8) ) goto label$3443$113;
	r7 = r13->x;
	r7 = -r7;
	r13->x = r7;
	r7 = r13->y;
	r7 = -r7;
	r13->y = r7;
	r7 = r13->z;
	r7 = -r7;
	r13->z = r7;
	r7 = r13->w;
	r7 = -r7;
	r13->w = r7;
	label$3443$113:
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r4);
	r2->sx = r7;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r5);
	r2->sy = r7;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r6);
	r2->sz = r7;
	r7 = r13->x;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->qx = r7;
	r7 = r13->y;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->qy = r7;
	r7 = r13->z;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->qz = r7;
	r7 = r1->_41;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->x = r7;
	r7 = r1->_42;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->y = r7;
	r7 = r1->_43;
	r7 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r7);
	r2->z = r7;
	return r2;
}

void hxd_fmt_fbx_HMDOut_writeFloat(hxd__fmt__fbx__HMDOut r0,double r1) {
	haxe__io__BytesOutput r3;
	double r4, r6;
	int r5;
	r3 = r0->dataOut;
	if( r3 == NULL ) hl_null_access();
	r5 = 0;
	r6 = (double)r5;
	if( r1 != r6 ) goto label$3444$8;
	r5 = 0;
	r4 = (double)r5;
	goto label$3444$9;
	label$3444$8:
	r4 = r1;
	label$3444$9:
	haxe_io_Output_writeFloat(((haxe__io__Output)r3),r4);
	return;
}

hxd__fmt__hmd__Animation hxd_fmt_fbx_HMDOut_makeAnimation(hxd__fmt__fbx__HMDOut r0,h3d__anim__Animation r1) {
	String r4;
	haxe__io__BytesBuffer r11;
	hxd__fmt__hmd__AnimationEvent r18;
	vvirtual *r16;
	hl__types__ArrayObj r8, r13;
	h3d__anim__LinearObject r21;
	hl_type *r10;
	bool r5;
	hxd__fmt__hmd__AnimationObject r22;
	haxe__io__BytesOutput r12;
	hxd__fmt__hmd__Animation r2;
	hl__types__ArrayBytes_Float r28;
	vclosure *r19, *r20;
	double r7, r25, r26, r27;
	h3d__anim__LinearFrame r24;
	vdynamic *r17;
	vbyte *r29;
	varray *r9;
	int r6, r14, r15, r23;
	r2 = (hxd__fmt__hmd__Animation)hl_alloc_obj(hxd__fmt__hmd__Animation__val);
	hxd_fmt_hmd_Animation_new(r2);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->name;
	r2->name = r4;
	r5 = true;
	r2->loop = r5;
	r6 = 1;
	r7 = (double)r6;
	r2->speed = r7;
	r7 = r1->sampling;
	r2->sampling = r7;
	r6 = r1->frameCount;
	r2->frames = r6;
	r10 = &type$3418;
	r6 = 0;
	r9 = hl_alloc_array(r10,r6);
	r8 = hl_types_ArrayObj_alloc(r9);
	r2->objects = r8;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->b;
	if( r11 == NULL ) hl_null_access();
	r6 = r11->pos;
	r2->dataPosition = r6;
	r8 = r0->animationEvents;
	if( !r8 ) goto label$3445$57;
	r10 = &type$3417;
	r6 = 0;
	r9 = hl_alloc_array(r10,r6);
	r8 = hl_types_ArrayObj_alloc(r9);
	r6 = 0;
	r13 = r0->animationEvents;
	label$3445$33:
	if( r13 == NULL ) hl_null_access();
	r15 = r13->length;
	if( r6 >= r15 ) goto label$3445$55;
	r15 = r13->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$3445$41;
	r16 = NULL;
	goto label$3445$44;
	label$3445$41:
	r9 = r13->array;
	r17 = ((vdynamic**)(r9 + 1))[r6];
	r16 = hl_to_virtual(&type$1863,(vdynamic*)r17);
	label$3445$44:
	++r6;
	r18 = (hxd__fmt__hmd__AnimationEvent)hl_alloc_obj(hxd__fmt__hmd__AnimationEvent__val);
	hxd_fmt_hmd_AnimationEvent_new(r18);
	if( r16 == NULL ) hl_null_access();
	r14 = hl_vfields(r16)[1] ? (*(int*)(hl_vfields(r16)[1])) : (int)hl_dyn_geti(r16->value,109279277/*frame*/,&type$3);
	r18->frame = r14;
	r4 = hl_vfields(r16)[0] ? (*(String*)(hl_vfields(r16)[0])) : (String)hl_dyn_getp(r16->value,40064820/*data*/,&type$13);
	r18->data = r4;
	if( r8 == NULL ) hl_null_access();
	r14 = hl_types_ArrayObj_push(r8,((vdynamic*)r18));
	goto label$3445$33;
	label$3445$55:
	if( r2 == NULL ) hl_null_access();
	r2->events = r8;
	label$3445$57:
	if( r1 == NULL ) hl_null_access();
	r8 = r1->objects;
	if( r8 == NULL ) hl_null_access();
	r19 = &cl$3451;
	if( r19 ) goto label$3445$64;
	r20 = NULL;
	goto label$3445$65;
	label$3445$64:
	r20 = hl_alloc_closure_ptr(&type$1894,fun$2571,r19);
	label$3445$65:
	hl_types_ArrayObj_sort(r8,r20);
	r6 = 0;
	label$3445$67:
	if( r8 == NULL ) hl_null_access();
	r15 = r8->length;
	if( r6 >= r15 ) goto label$3445$390;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$3445$75;
	r21 = NULL;
	goto label$3445$78;
	label$3445$75:
	r9 = r8->array;
	r17 = ((vdynamic**)(r9 + 1))[r6];
	r21 = (h3d__anim__LinearObject)r17;
	label$3445$78:
	++r6;
	r22 = (hxd__fmt__hmd__AnimationObject)hl_alloc_obj(hxd__fmt__hmd__AnimationObject__val);
	hxd_fmt_hmd_AnimationObject_new(r22);
	if( r21 == NULL ) hl_null_access();
	r4 = r21->objectName;
	r22->name = r4;
	r14 = 0;
	r22->flags = r14;
	r10 = &type$13;
	r14 = 0;
	r9 = hl_alloc_array(r10,r14);
	r13 = hl_types_ArrayObj_alloc(r9);
	r22->props = r13;
	r13 = r21->frames;
	if( !r13 ) goto label$3445$279;
	r14 = r22->flags;
	r15 = 1;
	r14 = r14 | r15;
	r22->flags = r14;
	r5 = r21->hasRotation;
	if( !r5 ) goto label$3445$103;
	r14 = r22->flags;
	r15 = 2;
	r14 = r14 | r15;
	r22->flags = r14;
	label$3445$103:
	r5 = r21->hasScale;
	if( !r5 ) goto label$3445$109;
	r14 = r22->flags;
	r15 = 4;
	r14 = r14 | r15;
	r22->flags = r14;
	label$3445$109:
	r13 = r21->frames;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->length;
	r15 = 1;
	if( r14 != r15 ) goto label$3445$118;
	r14 = r22->flags;
	r15 = 32;
	r14 = r14 | r15;
	r22->flags = r14;
	label$3445$118:
	r14 = 0;
	r13 = r21->frames;
	label$3445$120:
	if( r13 == NULL ) hl_null_access();
	r23 = r13->length;
	if( r14 >= r23 ) goto label$3445$279;
	r23 = r13->length;
	if( ((unsigned)r14) < ((unsigned)r23) ) goto label$3445$128;
	r24 = NULL;
	goto label$3445$131;
	label$3445$128:
	r9 = r13->array;
	r17 = ((vdynamic**)(r9 + 1))[r14];
	r24 = (h3d__anim__LinearFrame)r17;
	label$3445$131:
	++r14;
	if( r22 == NULL ) hl_null_access();
	r15 = r22->flags;
	r23 = 1;
	r15 = r15 & r23;
	r23 = 0;
	if( r15 == r23 ) goto label$3445$172;
	if( r24 == NULL ) hl_null_access();
	r7 = r24->tx;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$148;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$149;
	label$3445$148:
	r25 = r7;
	label$3445$149:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	r7 = r24->ty;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$159;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$160;
	label$3445$159:
	r25 = r7;
	label$3445$160:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	r7 = r24->tz;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$170;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$171;
	label$3445$170:
	r25 = r7;
	label$3445$171:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	label$3445$172:
	r15 = r22->flags;
	r23 = 2;
	r15 = r15 & r23;
	r23 = 0;
	if( r15 == r23 ) goto label$3445$239;
	if( r24 == NULL ) hl_null_access();
	r7 = r24->qx;
	r25 = r24->qx;
	r7 = r7 * r25;
	r25 = r24->qy;
	r26 = r24->qy;
	r25 = r25 * r26;
	r7 = r7 + r25;
	r25 = r24->qz;
	r26 = r24->qz;
	r25 = r25 * r26;
	r7 = r7 + r25;
	r25 = r24->qw;
	r26 = r24->qw;
	r25 = r25 * r26;
	r7 = r7 + r25;
	r7 = hl_math_sqrt(r7);
	r25 = r24->qw;
	r15 = 0;
	r26 = (double)r15;
	if( !(r25 < r26) ) goto label$3445$200;
	r25 = -r7;
	r7 = r25;
	label$3445$200:
	r25 = r24->qx;
	r25 = r25 / r7;
	r25 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r25);
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r27 = (double)r15;
	if( r25 != r27 ) goto label$3445$211;
	r15 = 0;
	r26 = (double)r15;
	goto label$3445$212;
	label$3445$211:
	r26 = r25;
	label$3445$212:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r26);
	r25 = r24->qy;
	r25 = r25 / r7;
	r25 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r25);
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r27 = (double)r15;
	if( r25 != r27 ) goto label$3445$224;
	r15 = 0;
	r26 = (double)r15;
	goto label$3445$225;
	label$3445$224:
	r26 = r25;
	label$3445$225:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r26);
	r25 = r24->qz;
	r25 = r25 / r7;
	r25 = hxd_fmt_fbx_BaseLibrary_round(((hxd__fmt__fbx__BaseLibrary)r0),r25);
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r27 = (double)r15;
	if( r25 != r27 ) goto label$3445$237;
	r15 = 0;
	r26 = (double)r15;
	goto label$3445$238;
	label$3445$237:
	r26 = r25;
	label$3445$238:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r26);
	label$3445$239:
	r15 = r22->flags;
	r23 = 4;
	r15 = r15 & r23;
	r23 = 0;
	if( r15 == r23 ) goto label$3445$278;
	if( r24 == NULL ) hl_null_access();
	r7 = r24->sx;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$254;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$255;
	label$3445$254:
	r25 = r7;
	label$3445$255:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	r7 = r24->sy;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$265;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$266;
	label$3445$265:
	r25 = r7;
	label$3445$266:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	r7 = r24->sz;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$276;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$277;
	label$3445$276:
	r25 = r7;
	label$3445$277:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	label$3445$278:
	goto label$3445$120;
	label$3445$279:
	if( r21 == NULL ) hl_null_access();
	r28 = r21->uvs;
	if( !r28 ) goto label$3445$313;
	if( r22 == NULL ) hl_null_access();
	r14 = r22->flags;
	r15 = 8;
	r14 = r14 | r15;
	r22->flags = r14;
	r14 = 0;
	r28 = r21->uvs;
	label$3445$289:
	if( r28 == NULL ) hl_null_access();
	r23 = r28->length;
	if( r14 >= r23 ) goto label$3445$313;
	r23 = r28->length;
	if( ((unsigned)r14) < ((unsigned)r23) ) goto label$3445$297;
	r7 = 0.;
	goto label$3445$301;
	label$3445$297:
	r29 = r28->bytes;
	r23 = 3;
	r23 = r14 << r23;
	r7 = *(double*)(r29 + r23);
	label$3445$301:
	++r14;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$310;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$311;
	label$3445$310:
	r25 = r7;
	label$3445$311:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	goto label$3445$289;
	label$3445$313:
	if( r21 == NULL ) hl_null_access();
	r28 = r21->alphas;
	if( !r28 ) goto label$3445$347;
	if( r22 == NULL ) hl_null_access();
	r14 = r22->flags;
	r15 = 16;
	r14 = r14 | r15;
	r22->flags = r14;
	r14 = 0;
	r28 = r21->alphas;
	label$3445$323:
	if( r28 == NULL ) hl_null_access();
	r23 = r28->length;
	if( r14 >= r23 ) goto label$3445$347;
	r23 = r28->length;
	if( ((unsigned)r14) < ((unsigned)r23) ) goto label$3445$331;
	r7 = 0.;
	goto label$3445$335;
	label$3445$331:
	r29 = r28->bytes;
	r23 = 3;
	r23 = r14 << r23;
	r7 = *(double*)(r29 + r23);
	label$3445$335:
	++r14;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$344;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$345;
	label$3445$344:
	r25 = r7;
	label$3445$345:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	goto label$3445$323;
	label$3445$347:
	if( r21 == NULL ) hl_null_access();
	r28 = r21->propValues;
	if( !r28 ) goto label$3445$385;
	if( r22 == NULL ) hl_null_access();
	r14 = r22->flags;
	r15 = 64;
	r14 = r14 | r15;
	r22->flags = r14;
	r13 = r22->props;
	if( r13 == NULL ) hl_null_access();
	r4 = r21->propName;
	r14 = hl_types_ArrayObj_push(r13,((vdynamic*)r4));
	r14 = 0;
	r28 = r21->propValues;
	label$3445$361:
	if( r28 == NULL ) hl_null_access();
	r23 = r28->length;
	if( r14 >= r23 ) goto label$3445$385;
	r23 = r28->length;
	if( ((unsigned)r14) < ((unsigned)r23) ) goto label$3445$369;
	r7 = 0.;
	goto label$3445$373;
	label$3445$369:
	r29 = r28->bytes;
	r23 = 3;
	r23 = r14 << r23;
	r7 = *(double*)(r29 + r23);
	label$3445$373:
	++r14;
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r15 = 0;
	r26 = (double)r15;
	if( r7 != r26 ) goto label$3445$382;
	r15 = 0;
	r25 = (double)r15;
	goto label$3445$383;
	label$3445$382:
	r25 = r7;
	label$3445$383:
	haxe_io_Output_writeFloat(((haxe__io__Output)r12),r25);
	goto label$3445$361;
	label$3445$385:
	if( r2 == NULL ) hl_null_access();
	r13 = r2->objects;
	if( r13 == NULL ) hl_null_access();
	r14 = hl_types_ArrayObj_push(r13,((vdynamic*)r22));
	goto label$3445$67;
	label$3445$390:
	return r2;
}

hxd__fmt__hmd__Data hxd_fmt_fbx_HMDOut_toHMD(hxd__fmt__fbx__HMDOut r0,String r1,bool r2) {
	hxd__fmt__hmd__Data r8;
	String r5, r7;
	vvirtual *r14;
	hl__types__ArrayObj r6;
	hl_type *r11;
	haxe__io__Bytes r17;
	bool r4;
	haxe__io__BytesOutput r12;
	hxd__fmt__hmd__Animation r16;
	hxd__fmt__fbx__BaseLibrary r15;
	h3d__anim__Animation r13;
	varray *r10;
	int r9;
	if( r2 ) goto label$3446$3;
	r4 = false;
	r0->optimizeSkin = r4;
	label$3446$3:
	hxd_fmt_fbx_BaseLibrary_leftHandConvert(((hxd__fmt__fbx__BaseLibrary)r0));
	hxd_fmt_fbx_BaseLibrary_autoMerge(((hxd__fmt__fbx__BaseLibrary)r0));
	if( !r1 ) goto label$3446$21;
	if( r1 == NULL ) hl_null_access();
	r7 = (String)global$196;
	r6 = String_split(r1,r7);
	if( r6 == NULL ) hl_null_access();
	r5 = (String)global$207;
	r5 = hl_types_ArrayObj_join(r6,r5);
	if( r5 == NULL ) hl_null_access();
	r5 = String_toLowerCase(r5);
	r1 = r5;
	r7 = (String)global$207;
	r4 = StringTools_endsWith(r5,r7);
	if( r4 ) goto label$3446$21;
	r7 = (String)global$207;
	r5 = String___add__(r5,r7);
	r1 = r5;
	label$3446$21:
	r0->filePath = r1;
	r8 = (hxd__fmt__hmd__Data)hl_alloc_obj(hxd__fmt__hmd__Data__val);
	hxd_fmt_hmd_Data_new(r8);
	r0->d = r8;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r9 = 2;
	r8->version = r9;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r11 = &type$2480;
	r9 = 0;
	r10 = hl_alloc_array(r11,r9);
	r6 = hl_types_ArrayObj_alloc(r10);
	r8->geometries = r6;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r11 = &type$3407;
	r9 = 0;
	r10 = hl_alloc_array(r11,r9);
	r6 = hl_types_ArrayObj_alloc(r10);
	r8->materials = r6;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r11 = &type$2497;
	r9 = 0;
	r10 = hl_alloc_array(r11,r9);
	r6 = hl_types_ArrayObj_alloc(r10);
	r8->models = r6;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r11 = &type$3416;
	r9 = 0;
	r10 = hl_alloc_array(r11,r9);
	r6 = hl_types_ArrayObj_alloc(r10);
	r8->animations = r6;
	r12 = (haxe__io__BytesOutput)hl_alloc_obj(haxe__io__BytesOutput__val);
	haxe_io_BytesOutput_new(r12);
	r0->dataOut = r12;
	hxd_fmt_fbx_HMDOut_addModels(r0,r2);
	r5 = NULL;
	r14 = NULL;
	r15 = NULL;
	r13 = hxd_fmt_fbx_BaseLibrary_loadAnimation(((hxd__fmt__fbx__BaseLibrary)r0),r5,r14,r15);
	if( !r13 ) goto label$3446$72;
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->animations;
	if( r6 == NULL ) hl_null_access();
	r16 = hxd_fmt_fbx_HMDOut_makeAnimation(r0,r13);
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r16));
	label$3446$72:
	r8 = r0->d;
	if( r8 == NULL ) hl_null_access();
	r12 = r0->dataOut;
	if( r12 == NULL ) hl_null_access();
	r17 = haxe_io_BytesOutput_getBytes(r12);
	r8->data = r17;
	r8 = r0->d;
	return r8;
}

void hxd_fmt_fbx_HMDOut_new(hxd__fmt__fbx__HMDOut r0,String r1) {
	haxe__io__Bytes r3;
	bool r2;
	int r4;
	r2 = false;
	r0->floatSkinIndexes = r2;
	r2 = true;
	r0->optimizeSkin = r2;
	r4 = 4;
	r3 = haxe_io_Bytes_alloc(r4);
	r0->tmp = r3;
	hxd_fmt_fbx_BaseLibrary_new(((hxd__fmt__fbx__BaseLibrary)r0),r1);
	return;
}

