// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

void hxd_fmt_bfnt_Writer_write(hxd__fmt__bfnt__Writer r0,h2d__Font r1) {
	String r4, r7;
	venum *r5;
	bool r13, r15;
	haxe__io__Bytes r8;
	haxe__ds__IntMap r14;
	h2d__Tile r20;
	h2d__FontChar r11, r12;
	haxe__io__Output r3;
	h2d__Kerning r21, r22;
	vclosure *r16, *r18;
	vdynamic *r10, *r17;
	int r6, r9, r19;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)global$1012;
	r5 = NULL;
	haxe_io_Output_writeString(r3,r4,r5);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	((void (*)(haxe__io__Output,int))r3->$type->vobj_proto[0])(r3,r6);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = 1;
	((void (*)(haxe__io__Output,int))r3->$type->vobj_proto[0])(r3,r6);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->name;
	if( r4 ) goto label$3359$18;
	r7 = (String)global$8;
	r4 = r7;
	label$3359$18:
	r5 = NULL;
	r8 = haxe_io_Bytes_ofString(r4,r5);
	if( r8 == NULL ) hl_null_access();
	r6 = r8->length;
	r9 = 65535;
	if( r9 >= r6 ) goto label$3359$26;
	r7 = (String)global$1016;
	hl_throw((vdynamic*)r7);
	label$3359$26:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = r8->length;
	haxe_io_Output_writeUInt16(r3,r6);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	haxe_io_Output_write(r3,r8);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = r1->size;
	haxe_io_Output_writeInt16(r3,r6);
	r4 = r1->tilePath;
	if( r4 ) goto label$3359$41;
	r7 = (String)global$8;
	r4 = r7;
	label$3359$41:
	r5 = NULL;
	r8 = haxe_io_Bytes_ofString(r4,r5);
	if( r8 == NULL ) hl_null_access();
	r6 = r8->length;
	r9 = 65535;
	if( r9 >= r6 ) goto label$3359$49;
	r7 = (String)global$1016;
	hl_throw((vdynamic*)r7);
	label$3359$49:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = r8->length;
	haxe_io_Output_writeUInt16(r3,r6);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	haxe_io_Output_write(r3,r8);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = r1->lineHeight;
	haxe_io_Output_writeInt16(r3,r6);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = r1->baseLine;
	haxe_io_Output_writeInt16(r3,r6);
	r11 = r1->defaultChar;
	r12 = r1->nullChar;
	if( r11 == r12 ) goto label$3359$100;
	r13 = false;
	r14 = r1->glyphs;
	if( r14 == NULL ) hl_null_access();
	r10 = haxe_ds_IntMap_keys(r14);
	label$3359$71:
	if( r10 == NULL ) hl_null_access();
	r16 = (vclosure*)hl_dyn_getp((vdynamic*)r10,407283053/*hasNext*/,&type$118);
	if( r16 == NULL ) hl_null_access();
	r15 = r16->hasValue ? ((bool (*)(vdynamic*))r16->fun)((vdynamic*)r16->value) : ((bool (*)(void))r16->fun)();
	if( !r15 ) goto label$3359$94;
	r18 = (vclosure*)hl_dyn_getp((vdynamic*)r10,151160317/*next*/,&type$488);
	if( r18 == NULL ) hl_null_access();
	r6 = r18->hasValue ? ((int (*)(vdynamic*))r18->fun)((vdynamic*)r18->value) : ((int (*)(void))r18->fun)();
	if( r1 == NULL ) hl_null_access();
	r14 = r1->glyphs;
	if( r14 == NULL ) hl_null_access();
	r17 = haxe_ds_IntMap_get(r14,r6);
	r11 = (h2d__FontChar)r17;
	r12 = r1->defaultChar;
	if( r11 != r12 ) goto label$3359$93;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	haxe_io_Output_writeInt32(r3,r6);
	r15 = true;
	r13 = r15;
	goto label$3359$94;
	label$3359$93:
	goto label$3359$71;
	label$3359$94:
	if( r13 ) goto label$3359$99;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	haxe_io_Output_writeInt32(r3,r6);
	label$3359$99:
	goto label$3359$104;
	label$3359$100:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	haxe_io_Output_writeInt32(r3,r6);
	label$3359$104:
	if( r1 == NULL ) hl_null_access();
	r14 = r1->glyphs;
	if( r14 == NULL ) hl_null_access();
	r10 = haxe_ds_IntMap_keys(r14);
	label$3359$108:
	if( r10 == NULL ) hl_null_access();
	r16 = (vclosure*)hl_dyn_getp((vdynamic*)r10,407283053/*hasNext*/,&type$118);
	if( r16 == NULL ) hl_null_access();
	r13 = r16->hasValue ? ((bool (*)(vdynamic*))r16->fun)((vdynamic*)r16->value) : ((bool (*)(void))r16->fun)();
	if( !r13 ) goto label$3359$182;
	r18 = (vclosure*)hl_dyn_getp((vdynamic*)r10,151160317/*next*/,&type$488);
	if( r18 == NULL ) hl_null_access();
	r6 = r18->hasValue ? ((int (*)(vdynamic*))r18->fun)((vdynamic*)r18->value) : ((int (*)(void))r18->fun)();
	r19 = 0;
	if( r6 != r19 ) goto label$3359$120;
	goto label$3359$108;
	label$3359$120:
	if( r1 == NULL ) hl_null_access();
	r14 = r1->glyphs;
	if( r14 == NULL ) hl_null_access();
	r17 = haxe_ds_IntMap_get(r14,r6);
	r11 = (h2d__FontChar)r17;
	if( r11 == NULL ) hl_null_access();
	r20 = r11->_t;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	haxe_io_Output_writeInt32(r3,r6);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	if( r20 == NULL ) hl_null_access();
	r9 = r20->x;
	haxe_io_Output_writeUInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r20->y;
	haxe_io_Output_writeUInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r20->width;
	haxe_io_Output_writeUInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r20->height;
	haxe_io_Output_writeUInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r20->dx;
	haxe_io_Output_writeInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r20->dy;
	haxe_io_Output_writeInt16(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r11->width;
	haxe_io_Output_writeInt16(r3,r9);
	r21 = r11->kerning;
	label$3359$160:
	if( !r21 ) goto label$3359$177;
	if( r21 == NULL ) hl_null_access();
	r9 = r21->prevChar;
	r19 = 0;
	if( r9 == r19 ) goto label$3359$174;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r21->prevChar;
	haxe_io_Output_writeInt32(r3,r9);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = r21->offset;
	haxe_io_Output_writeInt16(r3,r9);
	label$3359$174:
	r22 = r21->next;
	r21 = r22;
	goto label$3359$160;
	label$3359$177:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r9 = 0;
	haxe_io_Output_writeInt32(r3,r9);
	goto label$3359$108;
	label$3359$182:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	haxe_io_Output_writeInt32(r3,r6);
	return;
}

void hxd_fmt_bfnt_Writer_writeString(hxd__fmt__bfnt__Writer r0,String r1) {
	String r3;
	venum *r5;
	haxe__io__Bytes r4;
	haxe__io__Output r8;
	int r6, r7;
	if( r1 ) goto label$3360$3;
	r3 = (String)global$8;
	r1 = r3;
	label$3360$3:
	r5 = NULL;
	r4 = haxe_io_Bytes_ofString(r1,r5);
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	r7 = 65535;
	if( r7 >= r6 ) goto label$3360$11;
	r3 = (String)global$1016;
	hl_throw((vdynamic*)r3);
	label$3360$11:
	r8 = r0->out;
	if( r8 == NULL ) hl_null_access();
	r6 = r4->length;
	haxe_io_Output_writeUInt16(r8,r6);
	r8 = r0->out;
	if( r8 == NULL ) hl_null_access();
	haxe_io_Output_write(r8,r4);
	return;
}

void hxd_fmt_bfnt_Writer_new(hxd__fmt__bfnt__Writer r0,haxe__io__Output r1) {
	r0->out = r1;
	return;
}

