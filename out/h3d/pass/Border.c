// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

void h3d_pass_Border_dispose(h3d__pass__Border r0) {
	h3d__prim__Primitive r2;
	h3d_pass_ScreenFx_dispose(((h3d__pass__ScreenFx)r0));
	r2 = r0->plane;
	if( r2 == NULL ) hl_null_access();
	((void (*)(h3d__prim__Primitive))r2->$type->vobj_proto[7])(r2);
	return;
}

void h3d_pass_Border_new(h3d__pass__Border r0,int r1,int r2,int* r3) {
	bool *r19;
	h3d__shader__ScreenShader r21;
	vvirtual *r15, *r18;
	hl__types__ArrayObj r7;
	bool r16;
	hl__types__ArrayBytes_Single r8;
	h3d__Vector r20;
	h3d__prim__RawPrimitive r14;
	float r12;
	double r10, r11, r13;
	vdynamic *r17;
	h3d__pass___Border__BorderShader r6;
	int r4, r9;
	if( r3 ) goto label$2803$3;
	r4 = 1;
	goto label$2803$4;
	label$2803$3:
	r4 = *r3;
	label$2803$4:
	r6 = (h3d__pass___Border__BorderShader)hl_alloc_obj(h3d__pass___Border__BorderShader__val);
	h3d_pass__Border_BorderShader_new(r6);
	r7 = NULL;
	h3d_pass_ScreenFx_new(((h3d__pass__ScreenFx)r0),((h3d__shader__ScreenShader)r6),r7);
	r8 = (hl__types__ArrayBytes_Single)hl_alloc_obj(hl__types__ArrayBytes_Single__val);
	hl_types_ArrayBytes_Single_new(r8);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r4;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r4;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r4;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r4;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = r2 - r4;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = r2 - r4;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 0;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = r1 - r4;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r9 = 0;
	r11 = (double)r9;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = r1 - r4;
	r10 = (double)r9;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r10 = (double)r1;
	r11 = (double)r1;
	r10 = r10 / r11;
	r9 = 2;
	r11 = (double)r9;
	r10 = r10 * r11;
	r9 = 1;
	r11 = (double)r9;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r9 = 1;
	r10 = (double)r9;
	r11 = (double)r2;
	r13 = (double)r2;
	r11 = r11 / r13;
	r9 = 2;
	r13 = (double)r9;
	r11 = r11 * r13;
	r10 = r10 - r11;
	r12 = (float)r10;
	r9 = hl_types_ArrayBytes_Single_push(r8,r12);
	r14 = (h3d__prim__RawPrimitive)hl_alloc_obj(h3d__prim__RawPrimitive__val);
	r15 = hl_alloc_virtual(&type$2366);
	if( hl_vfields(r15)[2] ) *(hl__types__ArrayBytes_Single*)(hl_vfields(r15)[2]) = (hl__types__ArrayBytes_Single)r8; else hl_dyn_setp(r15->value,239726983/*vbuf*/,&type$37,r8);
	r9 = 2;
	if( hl_vfields(r15)[1] ) *(int*)(hl_vfields(r15)[1]) = (int)r9; else hl_dyn_seti(r15->value,288366617/*stride*/,&type$3,r9);
	r16 = true;
	r17 = hl_alloc_dynbool(r16);
	if( hl_vfields(r15)[0] ) *(vdynamic**)(hl_vfields(r15)[0]) = (vdynamic*)r17; else hl_dyn_setp(r15->value,501708502/*quads*/,&type$140,r17);
	r18 = hl_to_virtual(&type$2367,(vdynamic*)r15);
	r16 = true;
	r19 = &r16;
	h3d_prim_RawPrimitive_new(r14,r18,r19);
	r0->plane = ((h3d__prim__Primitive)r14);
	r21 = r0->shader;
	r6 = (h3d__pass___Border__BorderShader)r21;
	if( r6 == NULL ) hl_null_access();
	r20 = r6->color__;
	if( r20 == NULL ) hl_null_access();
	r9 = 1;
	r10 = (double)r9;
	r20->x = r10;
	r9 = 1;
	r10 = (double)r9;
	r20->y = r10;
	r9 = 1;
	r10 = (double)r9;
	r20->z = r10;
	r9 = 1;
	r10 = (double)r9;
	r20->w = r10;
	return;
}

