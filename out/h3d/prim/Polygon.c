// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

h3d__col__Bounds h3d_prim_Polygon_getBounds(h3d__prim__Polygon r0) {
	hl__types__ArrayObj r4;
	h3d__col__Bounds r1;
	double r9, r10;
	h3d__col__Point r6;
	vdynamic *r7;
	varray *r8;
	int r3, r5;
	r1 = (h3d__col__Bounds)hl_alloc_obj(h3d__col__Bounds__val);
	h3d_col_Bounds_new(r1);
	r3 = 0;
	r4 = r0->points;
	label$2982$4:
	if( r4 == NULL ) hl_null_access();
	r5 = r4->length;
	if( r3 >= r5 ) goto label$2982$49;
	r5 = r4->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$2982$12;
	r6 = NULL;
	goto label$2982$15;
	label$2982$12:
	r8 = r4->array;
	r7 = ((vdynamic**)(r8 + 1))[r3];
	r6 = (h3d__col__Point)r7;
	label$2982$15:
	++r3;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->x;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->xMin;
	if( !(r9 < r10) ) goto label$2982$23;
	r9 = r6->x;
	r1->xMin = r9;
	label$2982$23:
	r9 = r6->x;
	r10 = r1->xMax;
	if( !(r10 < r9) ) goto label$2982$28;
	r9 = r6->x;
	r1->xMax = r9;
	label$2982$28:
	r9 = r6->y;
	r10 = r1->yMin;
	if( !(r9 < r10) ) goto label$2982$33;
	r9 = r6->y;
	r1->yMin = r9;
	label$2982$33:
	r9 = r6->y;
	r10 = r1->yMax;
	if( !(r10 < r9) ) goto label$2982$38;
	r9 = r6->y;
	r1->yMax = r9;
	label$2982$38:
	r9 = r6->z;
	r10 = r1->zMin;
	if( !(r9 < r10) ) goto label$2982$43;
	r9 = r6->z;
	r1->zMin = r9;
	label$2982$43:
	r9 = r6->z;
	r10 = r1->zMax;
	if( !(r10 < r9) ) goto label$2982$48;
	r9 = r6->z;
	r1->zMax = r9;
	label$2982$48:
	goto label$2982$4;
	label$2982$49:
	return r1;
}

void h3d_prim_Polygon_alloc(h3d__prim__Polygon r0,h3d__Engine r1) {
	String r8;
	vvirtual *r27;
	h3d__prim__UV r22;
	hl__types__ArrayObj r4, r13, r24;
	venum *r25;
	hl_type *r6;
	hl__types__ArrayBytes_hl_UI16 r23;
	hl__types__ArrayBytes_Single r14;
	hl__types__ArrayBytes_Int r9;
	float r21;
	h3d__Buffer r26;
	double r19;
	h3d__col__Point r17, r20;
	int *r28, *r30;
	vdynamic *r18;
	h3d__Indexes r29;
	vbyte *r10;
	varray *r5;
	int r3, r7, r11, r12, r15, r16;
	h3d_prim_MeshPrimitive_dispose(((h3d__prim__MeshPrimitive)r0));
	r3 = 3;
	r6 = &type$13;
	r7 = 1;
	r5 = hl_alloc_array(r6,r7);
	r8 = (String)global$703;
	r7 = 0;
	((String*)(r5 + 1))[r7] = r8;
	r4 = hl_types_ArrayObj_alloc(r5);
	r7 = 4;
	r10 = hl_alloc_bytes(r7);
	r7 = 0;
	r11 = 0;
	r12 = 2;
	r12 = r7 << r12;
	*(int*)(r10 + r12) = r11;
	++r7;
	r7 = 1;
	r9 = hl_types_ArrayBase_allocI32(r10,r7);
	r13 = r0->normals;
	if( !r13 ) goto label$2983$29;
	if( r4 == NULL ) hl_null_access();
	r8 = (String)global$702;
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r8));
	if( r9 == NULL ) hl_null_access();
	r7 = 3;
	r7 = hl_types_ArrayBytes_Int_push(r9,r7);
	r7 = 6;
	r3 = r7;
	label$2983$29:
	r13 = r0->tangents;
	if( !r13 ) goto label$2983$39;
	if( r4 == NULL ) hl_null_access();
	r8 = (String)global$710;
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r8));
	if( r9 == NULL ) hl_null_access();
	r7 = hl_types_ArrayBytes_Int_push(r9,r3);
	r11 = 3;
	r7 = r3 + r11;
	r3 = r7;
	label$2983$39:
	r13 = r0->uvs;
	if( !r13 ) goto label$2983$49;
	if( r4 == NULL ) hl_null_access();
	r8 = (String)global$711;
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r8));
	if( r9 == NULL ) hl_null_access();
	r7 = hl_types_ArrayBytes_Int_push(r9,r3);
	r11 = 2;
	r7 = r3 + r11;
	r3 = r7;
	label$2983$49:
	r13 = r0->colors;
	if( !r13 ) goto label$2983$59;
	if( r4 == NULL ) hl_null_access();
	r8 = (String)global$712;
	r7 = hl_types_ArrayObj_push(r4,((vdynamic*)r8));
	if( r9 == NULL ) hl_null_access();
	r7 = hl_types_ArrayBytes_Int_push(r9,r3);
	r11 = 3;
	r7 = r3 + r11;
	r3 = r7;
	label$2983$59:
	r14 = (hl__types__ArrayBytes_Single)hl_alloc_obj(hl__types__ArrayBytes_Single__val);
	hl_types_ArrayBytes_Single_new(r14);
	r7 = 0;
	r13 = r0->points;
	if( r13 == NULL ) hl_null_access();
	r11 = r13->length;
	label$2983$65:
	if( r7 >= r11 ) goto label$2983$171;
	r12 = r7;
	++r7;
	r13 = r0->points;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$75;
	r17 = NULL;
	goto label$2983$78;
	label$2983$75:
	r5 = r13->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r17 = (h3d__col__Point)r18;
	label$2983$78:
	if( r14 == NULL ) hl_null_access();
	if( r17 == NULL ) hl_null_access();
	r19 = r17->x;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r17->y;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r17->z;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r13 = r0->normals;
	if( !r13 ) goto label$2983$110;
	r13 = r0->normals;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$97;
	r20 = NULL;
	goto label$2983$100;
	label$2983$97:
	r5 = r13->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r20 = (h3d__col__Point)r18;
	label$2983$100:
	if( r20 == NULL ) hl_null_access();
	r19 = r20->x;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->y;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->z;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	label$2983$110:
	r13 = r0->tangents;
	if( !r13 ) goto label$2983$131;
	r13 = r0->tangents;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$118;
	r20 = NULL;
	goto label$2983$121;
	label$2983$118:
	r5 = r13->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r20 = (h3d__col__Point)r18;
	label$2983$121:
	if( r20 == NULL ) hl_null_access();
	r19 = r20->x;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->y;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->z;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	label$2983$131:
	r13 = r0->uvs;
	if( !r13 ) goto label$2983$149;
	r13 = r0->uvs;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$139;
	r22 = NULL;
	goto label$2983$142;
	label$2983$139:
	r5 = r13->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r22 = (h3d__prim__UV)r18;
	label$2983$142:
	if( r22 == NULL ) hl_null_access();
	r19 = r22->u;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r22->v;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	label$2983$149:
	r13 = r0->colors;
	if( !r13 ) goto label$2983$170;
	r13 = r0->colors;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$157;
	r20 = NULL;
	goto label$2983$160;
	label$2983$157:
	r5 = r13->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r20 = (h3d__col__Point)r18;
	label$2983$160:
	if( r20 == NULL ) hl_null_access();
	r19 = r20->x;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->y;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	r19 = r20->z;
	r21 = (float)r19;
	r15 = hl_types_ArrayBytes_Single_push(r14,r21);
	label$2983$170:
	goto label$2983$65;
	label$2983$171:
	r6 = &type$496;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r13 = hl_types_ArrayObj_alloc(r5);
	r23 = r0->idx;
	if( r23 ) goto label$2983$180;
	if( r13 == NULL ) hl_null_access();
	r25 = (venum*)global$713;
	r7 = hl_types_ArrayObj_push(r13,((vdynamic*)r25));
	label$2983$180:
	r24 = r0->normals;
	if( !r24 ) goto label$2983$184;
	r24 = r0->tangents;
	if( !r24 ) goto label$2983$187;
	label$2983$184:
	if( r13 == NULL ) hl_null_access();
	r25 = (venum*)global$425;
	r7 = hl_types_ArrayObj_push(r13,((vdynamic*)r25));
	label$2983$187:
	r27 = NULL;
	r26 = h3d_Buffer_ofFloats(r14,r3,r13,r27);
	r0->buffer = r26;
	r7 = 0;
	if( r4 == NULL ) hl_null_access();
	r11 = r4->length;
	label$2983$193:
	if( r7 >= r11 ) goto label$2983$218;
	r12 = r7;
	++r7;
	if( r4 == NULL ) hl_null_access();
	r16 = r4->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$202;
	r8 = NULL;
	goto label$2983$205;
	label$2983$202:
	r5 = r4->array;
	r18 = ((vdynamic**)(r5 + 1))[r12];
	r8 = (String)r18;
	label$2983$205:
	r26 = r0->buffer;
	if( r9 == NULL ) hl_null_access();
	r16 = r9->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2983$211;
	r15 = 0;
	goto label$2983$215;
	label$2983$211:
	r10 = r9->bytes;
	r16 = 2;
	r16 = r12 << r16;
	r15 = *(int*)(r10 + r16);
	label$2983$215:
	r28 = &r15;
	h3d_prim_MeshPrimitive_addBuffer(((h3d__prim__MeshPrimitive)r0),r8,r26,r28);
	goto label$2983$193;
	label$2983$218:
	r23 = r0->idx;
	if( !r23 ) goto label$2983$225;
	r23 = r0->idx;
	r28 = NULL;
	r30 = NULL;
	r29 = h3d_Indexes_alloc(r23,r28,r30);
	r0->indexes = r29;
	label$2983$225:
	return;
}

void h3d_prim_Polygon_unindex(h3d__prim__Polygon r0) {
	h3d__prim__UV r32;
	hl__types__ArrayObj r4, r10, r22, r33;
	hl_type *r7;
	hl__types__ArrayBytes_hl_UI16 r2;
	unsigned short r12;
	double r16, r18, r20, r23, r24, r25, r26, r27, r28, r29, r30, r31;
	h3d__col__Point r13, r15;
	double *r17, *r19, *r21;
	vdynamic *r14;
	vbyte *r11;
	varray *r6;
	int r3, r5, r8, r9;
	r2 = r0->idx;
	if( !r2 ) goto label$2984$242;
	r4 = r0->points;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	if( r3 == r5 ) goto label$2984$242;
	r7 = &type$246;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r4 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	label$2984$17:
	if( r3 >= r5 ) goto label$2984$54;
	r10 = r0->points;
	if( r10 == NULL ) hl_null_access();
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r8 = r3;
	++r3;
	r9 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$29;
	r8 = 0;
	goto label$2984$33;
	label$2984$29:
	r11 = r2->bytes;
	r9 = 1;
	r9 = r8 << r9;
	r8 = *(unsigned short*)(r11 + r9);
	label$2984$33:
	r12 = (int)r8;
	r8 = (int)r12;
	r9 = r10->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$39;
	r13 = NULL;
	goto label$2984$42;
	label$2984$39:
	r6 = r10->array;
	r14 = ((vdynamic**)(r6 + 1))[r8];
	r13 = (h3d__col__Point)r14;
	label$2984$42:
	if( r4 == NULL ) hl_null_access();
	r15 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	if( r13 == NULL ) hl_null_access();
	r16 = r13->x;
	r17 = &r16;
	r18 = r13->y;
	r19 = &r18;
	r20 = r13->z;
	r21 = &r20;
	h3d_col_Point_new(r15,r17,r19,r21);
	r8 = hl_types_ArrayObj_push(r4,((vdynamic*)r15));
	goto label$2984$17;
	label$2984$54:
	r10 = r0->normals;
	if( !r10 ) goto label$2984$102;
	r7 = &type$246;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r10 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	label$2984$64:
	if( r3 >= r5 ) goto label$2984$101;
	r22 = r0->normals;
	if( r22 == NULL ) hl_null_access();
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r8 = r3;
	++r3;
	r9 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$76;
	r8 = 0;
	goto label$2984$80;
	label$2984$76:
	r11 = r2->bytes;
	r9 = 1;
	r9 = r8 << r9;
	r8 = *(unsigned short*)(r11 + r9);
	label$2984$80:
	r12 = (int)r8;
	r8 = (int)r12;
	r9 = r22->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$86;
	r13 = NULL;
	goto label$2984$89;
	label$2984$86:
	r6 = r22->array;
	r14 = ((vdynamic**)(r6 + 1))[r8];
	r13 = (h3d__col__Point)r14;
	label$2984$89:
	if( r10 == NULL ) hl_null_access();
	r15 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	if( r13 == NULL ) hl_null_access();
	r23 = r13->x;
	r17 = &r23;
	r24 = r13->y;
	r19 = &r24;
	r25 = r13->z;
	r21 = &r25;
	h3d_col_Point_new(r15,r17,r19,r21);
	r8 = hl_types_ArrayObj_push(r10,((vdynamic*)r15));
	goto label$2984$64;
	label$2984$101:
	r0->normals = r10;
	label$2984$102:
	r10 = r0->tangents;
	if( !r10 ) goto label$2984$150;
	r7 = &type$246;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r10 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	label$2984$112:
	if( r3 >= r5 ) goto label$2984$149;
	r22 = r0->tangents;
	if( r22 == NULL ) hl_null_access();
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r8 = r3;
	++r3;
	r9 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$124;
	r8 = 0;
	goto label$2984$128;
	label$2984$124:
	r11 = r2->bytes;
	r9 = 1;
	r9 = r8 << r9;
	r8 = *(unsigned short*)(r11 + r9);
	label$2984$128:
	r12 = (int)r8;
	r8 = (int)r12;
	r9 = r22->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$134;
	r13 = NULL;
	goto label$2984$137;
	label$2984$134:
	r6 = r22->array;
	r14 = ((vdynamic**)(r6 + 1))[r8];
	r13 = (h3d__col__Point)r14;
	label$2984$137:
	if( r10 == NULL ) hl_null_access();
	r15 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	if( r13 == NULL ) hl_null_access();
	r26 = r13->x;
	r17 = &r26;
	r27 = r13->y;
	r19 = &r27;
	r28 = r13->z;
	r21 = &r28;
	h3d_col_Point_new(r15,r17,r19,r21);
	r8 = hl_types_ArrayObj_push(r10,((vdynamic*)r15));
	goto label$2984$112;
	label$2984$149:
	r0->tangents = r10;
	label$2984$150:
	r10 = r0->colors;
	if( !r10 ) goto label$2984$198;
	r7 = &type$246;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r10 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	label$2984$160:
	if( r3 >= r5 ) goto label$2984$197;
	r22 = r0->colors;
	if( r22 == NULL ) hl_null_access();
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r8 = r3;
	++r3;
	r9 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$172;
	r8 = 0;
	goto label$2984$176;
	label$2984$172:
	r11 = r2->bytes;
	r9 = 1;
	r9 = r8 << r9;
	r8 = *(unsigned short*)(r11 + r9);
	label$2984$176:
	r12 = (int)r8;
	r8 = (int)r12;
	r9 = r22->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$182;
	r13 = NULL;
	goto label$2984$185;
	label$2984$182:
	r6 = r22->array;
	r14 = ((vdynamic**)(r6 + 1))[r8];
	r13 = (h3d__col__Point)r14;
	label$2984$185:
	if( r10 == NULL ) hl_null_access();
	r15 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	if( r13 == NULL ) hl_null_access();
	r29 = r13->x;
	r17 = &r29;
	r30 = r13->y;
	r19 = &r30;
	r31 = r13->z;
	r21 = &r31;
	h3d_col_Point_new(r15,r17,r19,r21);
	r8 = hl_types_ArrayObj_push(r10,((vdynamic*)r15));
	goto label$2984$160;
	label$2984$197:
	r0->colors = r10;
	label$2984$198:
	r10 = r0->uvs;
	if( !r10 ) goto label$2984$239;
	r7 = &type$2518;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r10 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	label$2984$208:
	if( r3 >= r5 ) goto label$2984$238;
	if( r10 == NULL ) hl_null_access();
	r33 = r0->uvs;
	if( r33 == NULL ) hl_null_access();
	r2 = r0->idx;
	if( r2 == NULL ) hl_null_access();
	r8 = r3;
	++r3;
	r9 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$221;
	r8 = 0;
	goto label$2984$225;
	label$2984$221:
	r11 = r2->bytes;
	r9 = 1;
	r9 = r8 << r9;
	r8 = *(unsigned short*)(r11 + r9);
	label$2984$225:
	r12 = (int)r8;
	r8 = (int)r12;
	r9 = r33->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2984$231;
	r32 = NULL;
	goto label$2984$234;
	label$2984$231:
	r6 = r33->array;
	r14 = ((vdynamic**)(r6 + 1))[r8];
	r32 = (h3d__prim__UV)r14;
	label$2984$234:
	if( r32 == NULL ) hl_null_access();
	r32 = h3d_prim_UV_clone(r32);
	r8 = hl_types_ArrayObj_push(r10,((vdynamic*)r32));
	goto label$2984$208;
	label$2984$238:
	r0->uvs = r10;
	label$2984$239:
	r0->points = r4;
	r2 = NULL;
	r0->idx = r2;
	label$2984$242:
	return;
}

void h3d_prim_Polygon_translate(h3d__prim__Polygon r0,double r1,double r2,double r3) {
	hl__types__ArrayObj r7;
	h3d__col__Point r9;
	double r4;
	vdynamic *r10;
	varray *r11;
	int r5, r8;
	r4 = r0->translatedX;
	r4 = r4 + r1;
	r0->translatedX = r4;
	r4 = r0->translatedY;
	r4 = r4 + r2;
	r0->translatedY = r4;
	r4 = r0->translatedZ;
	r4 = r4 + r3;
	r0->translatedZ = r4;
	r5 = 0;
	r7 = r0->points;
	label$2985$11:
	if( r7 == NULL ) hl_null_access();
	r8 = r7->length;
	if( r5 >= r8 ) goto label$2985$34;
	r8 = r7->length;
	if( ((unsigned)r5) < ((unsigned)r8) ) goto label$2985$19;
	r9 = NULL;
	goto label$2985$22;
	label$2985$19:
	r11 = r7->array;
	r10 = ((vdynamic**)(r11 + 1))[r5];
	r9 = (h3d__col__Point)r10;
	label$2985$22:
	++r5;
	if( r9 == NULL ) hl_null_access();
	r4 = r9->x;
	r4 = r4 + r1;
	r9->x = r4;
	r4 = r9->y;
	r4 = r4 + r2;
	r9->y = r4;
	r4 = r9->z;
	r4 = r4 + r3;
	r9->z = r4;
	goto label$2985$11;
	label$2985$34:
	return;
}

void h3d_prim_Polygon_scale(h3d__prim__Polygon r0,double r1) {
	hl__types__ArrayObj r5;
	h3d__col__Point r7;
	double r2;
	vdynamic *r8;
	varray *r9;
	int r3, r6;
	r2 = r0->scaled;
	r2 = r2 * r1;
	r0->scaled = r2;
	r3 = 0;
	r5 = r0->points;
	label$2986$5:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r3 >= r6 ) goto label$2986$28;
	r6 = r5->length;
	if( ((unsigned)r3) < ((unsigned)r6) ) goto label$2986$13;
	r7 = NULL;
	goto label$2986$16;
	label$2986$13:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r3];
	r7 = (h3d__col__Point)r8;
	label$2986$16:
	++r3;
	if( r7 == NULL ) hl_null_access();
	r2 = r7->x;
	r2 = r2 * r1;
	r7->x = r2;
	r2 = r7->y;
	r2 = r2 * r1;
	r7->y = r2;
	r2 = r7->z;
	r2 = r2 * r1;
	r7->z = r2;
	goto label$2986$5;
	label$2986$28:
	return;
}

void h3d_prim_Polygon_addNormals(h3d__prim__Polygon r0) {
	hl__types__ArrayObj r1;
	hl__types__ArrayBytes_hl_UI16 r13;
	unsigned short r18;
	double r22, r24, r25, r26, r27, r28, r29, r30, r31, r32;
	h3d__col__Point r7, r20, r21, r23;
	vdynamic *r19;
	double *r8, *r9, *r10;
	vbyte *r17;
	varray *r11;
	int r3, r4, r5, r6, r12, r14, r15, r16;
	r1 = (hl__types__ArrayObj)hl_alloc_obj(hl__types__ArrayObj__val);
	hl_types_ArrayObj_new(r1);
	r0->normals = r1;
	r3 = 0;
	r1 = r0->points;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->length;
	label$2987$7:
	if( r3 >= r4 ) goto label$2987$24;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r5 = r3;
	++r3;
	r7 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	r8 = NULL;
	r9 = NULL;
	r10 = NULL;
	h3d_col_Point_new(r7,r8,r9,r10);
	r6 = r1->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$2987$21;
	hl_types_ArrayObj___expand(r1,r5);
	label$2987$21:
	r11 = r1->array;
	((h3d__col__Point*)(r11 + 1))[r5] = r7;
	goto label$2987$7;
	label$2987$24:
	r3 = 0;
	r4 = 0;
	r5 = h3d_prim_Polygon_triCount(r0);
	label$2987$27:
	if( r4 >= r5 ) goto label$2987$262;
	++r4;
	r13 = r0->idx;
	if( r13 ) goto label$2987$42;
	r12 = r3;
	++r3;
	r6 = r12;
	r14 = r3;
	++r3;
	r12 = r14;
	r15 = r3;
	++r3;
	r14 = r15;
	goto label$2987$87;
	label$2987$42:
	r13 = r0->idx;
	if( r13 == NULL ) hl_null_access();
	r15 = r3;
	++r3;
	r16 = r13->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2987$50;
	r15 = 0;
	goto label$2987$54;
	label$2987$50:
	r17 = r13->bytes;
	r16 = 1;
	r16 = r15 << r16;
	r15 = *(unsigned short*)(r17 + r16);
	label$2987$54:
	r18 = (int)r15;
	r15 = (int)r18;
	r6 = r15;
	r13 = r0->idx;
	if( r13 == NULL ) hl_null_access();
	r15 = r3;
	++r3;
	r16 = r13->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2987$65;
	r15 = 0;
	goto label$2987$69;
	label$2987$65:
	r17 = r13->bytes;
	r16 = 1;
	r16 = r15 << r16;
	r15 = *(unsigned short*)(r17 + r16);
	label$2987$69:
	r18 = (int)r15;
	r15 = (int)r18;
	r12 = r15;
	r13 = r0->idx;
	if( r13 == NULL ) hl_null_access();
	r15 = r3;
	++r3;
	r16 = r13->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2987$80;
	r15 = 0;
	goto label$2987$84;
	label$2987$80:
	r17 = r13->bytes;
	r16 = 1;
	r16 = r15 << r16;
	r15 = *(unsigned short*)(r17 + r16);
	label$2987$84:
	r18 = (int)r15;
	r15 = (int)r18;
	r14 = r15;
	label$2987$87:
	r1 = r0->points;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r6) < ((unsigned)r16) ) goto label$2987$93;
	r7 = NULL;
	goto label$2987$96;
	label$2987$93:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r6];
	r7 = (h3d__col__Point)r19;
	label$2987$96:
	r1 = r0->points;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2987$102;
	r20 = NULL;
	goto label$2987$105;
	label$2987$102:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r12];
	r20 = (h3d__col__Point)r19;
	label$2987$105:
	r1 = r0->points;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$2987$111;
	r21 = NULL;
	goto label$2987$114;
	label$2987$111:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r14];
	r21 = (h3d__col__Point)r19;
	label$2987$114:
	if( r20 == NULL ) hl_null_access();
	r22 = r20->x;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->x;
	r22 = r22 - r24;
	r24 = r20->y;
	r25 = r7->y;
	r24 = r24 - r25;
	r25 = r20->z;
	r26 = r7->z;
	r25 = r25 - r26;
	if( r21 == NULL ) hl_null_access();
	r26 = r21->x;
	r27 = r7->x;
	r26 = r26 - r27;
	r27 = r21->y;
	r28 = r7->y;
	r27 = r27 - r28;
	r28 = r21->z;
	r29 = r7->z;
	r28 = r28 - r29;
	r29 = r24 * r28;
	r30 = r25 * r27;
	r29 = r29 - r30;
	r30 = r25 * r26;
	r31 = r22 * r28;
	r30 = r30 - r31;
	r31 = r22 * r27;
	r32 = r24 * r26;
	r31 = r31 - r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r6) < ((unsigned)r16) ) goto label$2987$150;
	r23 = NULL;
	goto label$2987$153;
	label$2987$150:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r6];
	r23 = (h3d__col__Point)r19;
	label$2987$153:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->x;
	r32 = r32 + r29;
	r23->x = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r6) < ((unsigned)r16) ) goto label$2987$163;
	r23 = NULL;
	goto label$2987$166;
	label$2987$163:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r6];
	r23 = (h3d__col__Point)r19;
	label$2987$166:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->y;
	r32 = r32 + r30;
	r23->y = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r6) < ((unsigned)r16) ) goto label$2987$176;
	r23 = NULL;
	goto label$2987$179;
	label$2987$176:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r6];
	r23 = (h3d__col__Point)r19;
	label$2987$179:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->z;
	r32 = r32 + r31;
	r23->z = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2987$189;
	r23 = NULL;
	goto label$2987$192;
	label$2987$189:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r12];
	r23 = (h3d__col__Point)r19;
	label$2987$192:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->x;
	r32 = r32 + r29;
	r23->x = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2987$202;
	r23 = NULL;
	goto label$2987$205;
	label$2987$202:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r12];
	r23 = (h3d__col__Point)r19;
	label$2987$205:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->y;
	r32 = r32 + r30;
	r23->y = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2987$215;
	r23 = NULL;
	goto label$2987$218;
	label$2987$215:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r12];
	r23 = (h3d__col__Point)r19;
	label$2987$218:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->z;
	r32 = r32 + r31;
	r23->z = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$2987$228;
	r23 = NULL;
	goto label$2987$231;
	label$2987$228:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r14];
	r23 = (h3d__col__Point)r19;
	label$2987$231:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->x;
	r32 = r32 + r29;
	r23->x = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$2987$241;
	r23 = NULL;
	goto label$2987$244;
	label$2987$241:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r14];
	r23 = (h3d__col__Point)r19;
	label$2987$244:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->y;
	r32 = r32 + r30;
	r23->y = r32;
	r1 = r0->normals;
	if( r1 == NULL ) hl_null_access();
	r16 = r1->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$2987$254;
	r23 = NULL;
	goto label$2987$257;
	label$2987$254:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r14];
	r23 = (h3d__col__Point)r19;
	label$2987$257:
	if( r23 == NULL ) hl_null_access();
	r32 = r23->z;
	r32 = r32 + r31;
	r23->z = r32;
	goto label$2987$27;
	label$2987$262:
	r4 = 0;
	r1 = r0->normals;
	label$2987$264:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->length;
	if( r4 >= r6 ) goto label$2987$280;
	r5 = r4;
	++r4;
	r6 = r1->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$2987$274;
	r7 = NULL;
	goto label$2987$277;
	label$2987$274:
	r11 = r1->array;
	r19 = ((vdynamic**)(r11 + 1))[r5];
	r7 = (h3d__col__Point)r19;
	label$2987$277:
	if( r7 == NULL ) hl_null_access();
	h3d_col_Point_normalize(r7);
	goto label$2987$264;
	label$2987$280:
	return;
}

void h3d_prim_Polygon_addTangents(h3d__prim__Polygon r0) {
	h3d__prim__UV r23, r39;
	hl__types__ArrayObj r2;
	hl_type *r4;
	hl__types__ArrayBytes_hl_UI16 r14;
	unsigned short r19;
	double r25, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r40, r41, r42, r45, r46, r47, r48, r49, r50, r51;
	h3d__col__Point r9, r21, r22, r24, r26, r43, r44;
	vdynamic *r20;
	double *r10, *r11, *r12;
	vbyte *r18;
	int r5, r6, r7, r8, r13, r15, r16, r17;
	varray *r3;
	r2 = r0->normals;
	if( r2 ) goto label$2988$3;
	h3d_prim_Polygon_addNormals(r0);
	label$2988$3:
	r2 = r0->uvs;
	if( r2 ) goto label$2988$6;
	h3d_prim_Polygon_addUVs(r0);
	label$2988$6:
	r4 = &type$246;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r0->tangents = r2;
	r5 = 0;
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->length;
	label$2988$15:
	if( r5 >= r6 ) goto label$2988$32;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r7 = r5;
	++r5;
	r9 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	r10 = NULL;
	r11 = NULL;
	r12 = NULL;
	h3d_col_Point_new(r9,r10,r11,r12);
	r8 = r2->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$2988$29;
	hl_types_ArrayObj___expand(r2,r7);
	label$2988$29:
	r3 = r2->array;
	((h3d__col__Point*)(r3 + 1))[r7] = r9;
	goto label$2988$15;
	label$2988$32:
	r5 = 0;
	r6 = 0;
	r7 = h3d_prim_Polygon_triCount(r0);
	label$2988$35:
	if( r6 >= r7 ) goto label$2988$391;
	++r6;
	r14 = r0->idx;
	if( r14 ) goto label$2988$50;
	r13 = r5;
	++r5;
	r8 = r13;
	r15 = r5;
	++r5;
	r13 = r15;
	r16 = r5;
	++r5;
	r15 = r16;
	goto label$2988$95;
	label$2988$50:
	r14 = r0->idx;
	if( r14 == NULL ) hl_null_access();
	r16 = r5;
	++r5;
	r17 = r14->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$2988$58;
	r16 = 0;
	goto label$2988$62;
	label$2988$58:
	r18 = r14->bytes;
	r17 = 1;
	r17 = r16 << r17;
	r16 = *(unsigned short*)(r18 + r17);
	label$2988$62:
	r19 = (int)r16;
	r16 = (int)r19;
	r8 = r16;
	r14 = r0->idx;
	if( r14 == NULL ) hl_null_access();
	r16 = r5;
	++r5;
	r17 = r14->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$2988$73;
	r16 = 0;
	goto label$2988$77;
	label$2988$73:
	r18 = r14->bytes;
	r17 = 1;
	r17 = r16 << r17;
	r16 = *(unsigned short*)(r18 + r17);
	label$2988$77:
	r19 = (int)r16;
	r16 = (int)r19;
	r13 = r16;
	r14 = r0->idx;
	if( r14 == NULL ) hl_null_access();
	r16 = r5;
	++r5;
	r17 = r14->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$2988$88;
	r16 = 0;
	goto label$2988$92;
	label$2988$88:
	r18 = r14->bytes;
	r17 = 1;
	r17 = r16 << r17;
	r16 = *(unsigned short*)(r18 + r17);
	label$2988$92:
	r19 = (int)r16;
	r16 = (int)r19;
	r15 = r16;
	label$2988$95:
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$101;
	r9 = NULL;
	goto label$2988$104;
	label$2988$101:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r9 = (h3d__col__Point)r20;
	label$2988$104:
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$2988$110;
	r21 = NULL;
	goto label$2988$113;
	label$2988$110:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r13];
	r21 = (h3d__col__Point)r20;
	label$2988$113:
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$2988$119;
	r22 = NULL;
	goto label$2988$122;
	label$2988$119:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r15];
	r22 = (h3d__col__Point)r20;
	label$2988$122:
	r2 = r0->uvs;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$128;
	r23 = NULL;
	goto label$2988$131;
	label$2988$128:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r23 = (h3d__prim__UV)r20;
	label$2988$131:
	r2 = r0->normals;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$137;
	r24 = NULL;
	goto label$2988$140;
	label$2988$137:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r24 = (h3d__col__Point)r20;
	label$2988$140:
	if( r21 == NULL ) hl_null_access();
	r25 = r21->x;
	if( r9 == NULL ) hl_null_access();
	r27 = r9->x;
	r25 = r25 - r27;
	r27 = r21->y;
	r28 = r9->y;
	r27 = r27 - r28;
	r28 = r21->z;
	r29 = r9->z;
	r28 = r28 - r29;
	if( r22 == NULL ) hl_null_access();
	r32 = r22->x;
	r33 = r9->x;
	r32 = r32 - r33;
	r33 = r22->y;
	r34 = r9->y;
	r33 = r33 - r34;
	r34 = r22->z;
	r35 = r9->z;
	r34 = r34 - r35;
	r2 = r0->uvs;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$2988$167;
	r39 = NULL;
	goto label$2988$170;
	label$2988$167:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r15];
	r39 = (h3d__prim__UV)r20;
	label$2988$170:
	if( r39 == NULL ) hl_null_access();
	r38 = r39->v;
	if( r23 == NULL ) hl_null_access();
	r40 = r23->v;
	r38 = r38 - r40;
	r40 = r25 * r38;
	r29 = r40;
	r40 = r27 * r38;
	r30 = r40;
	r40 = r28 * r38;
	r31 = r40;
	r2 = r0->uvs;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$2988$187;
	r39 = NULL;
	goto label$2988$190;
	label$2988$187:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r13];
	r39 = (h3d__prim__UV)r20;
	label$2988$190:
	if( r39 == NULL ) hl_null_access();
	r38 = r39->v;
	r40 = r23->v;
	r38 = r38 - r40;
	r40 = r32 * r38;
	r35 = r40;
	r40 = r33 * r38;
	r36 = r40;
	r40 = r34 * r38;
	r37 = r40;
	r26 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	r38 = r29 - r35;
	r10 = &r38;
	r40 = r30 - r36;
	r11 = &r40;
	r41 = r31 - r37;
	r12 = &r41;
	h3d_col_Point_new(r26,r10,r11,r12);
	r43 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	if( r24 == NULL ) hl_null_access();
	r42 = r24->y;
	r45 = r26->z;
	r42 = r42 * r45;
	r45 = r24->z;
	r46 = r26->y;
	r45 = r45 * r46;
	r42 = r42 - r45;
	r10 = &r42;
	r45 = r24->z;
	r46 = r26->x;
	r45 = r45 * r46;
	r46 = r24->x;
	r47 = r26->z;
	r46 = r46 * r47;
	r45 = r45 - r46;
	r11 = &r45;
	r46 = r24->x;
	r47 = r26->y;
	r46 = r46 * r47;
	r47 = r24->y;
	r48 = r26->x;
	r47 = r47 * r48;
	r46 = r46 - r47;
	r12 = &r46;
	h3d_col_Point_new(r43,r10,r11,r12);
	h3d_col_Point_normalize(r43);
	r44 = (h3d__col__Point)hl_alloc_obj(h3d__col__Point__val);
	r47 = r43->y;
	r48 = r24->z;
	r47 = r47 * r48;
	r48 = r43->z;
	r49 = r24->y;
	r48 = r48 * r49;
	r47 = r47 - r48;
	r10 = &r47;
	r48 = r43->z;
	r49 = r24->x;
	r48 = r48 * r49;
	r49 = r43->x;
	r50 = r24->z;
	r49 = r49 * r50;
	r48 = r48 - r49;
	r11 = &r48;
	r49 = r43->x;
	r50 = r24->y;
	r49 = r49 * r50;
	r50 = r43->y;
	r51 = r24->x;
	r50 = r50 * r51;
	r49 = r49 - r50;
	r12 = &r49;
	h3d_col_Point_new(r44,r10,r11,r12);
	r26 = r44;
	h3d_col_Point_normalize(r44);
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$270;
	r44 = NULL;
	goto label$2988$273;
	label$2988$270:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r44 = (h3d__col__Point)r20;
	label$2988$273:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->x;
	r51 = r26->x;
	r50 = r50 + r51;
	r44->x = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$284;
	r44 = NULL;
	goto label$2988$287;
	label$2988$284:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r44 = (h3d__col__Point)r20;
	label$2988$287:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->y;
	r51 = r26->y;
	r50 = r50 + r51;
	r44->y = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r8) < ((unsigned)r17) ) goto label$2988$298;
	r44 = NULL;
	goto label$2988$301;
	label$2988$298:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r8];
	r44 = (h3d__col__Point)r20;
	label$2988$301:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->z;
	r51 = r26->z;
	r50 = r50 + r51;
	r44->z = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$2988$312;
	r44 = NULL;
	goto label$2988$315;
	label$2988$312:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r13];
	r44 = (h3d__col__Point)r20;
	label$2988$315:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->x;
	r51 = r26->x;
	r50 = r50 + r51;
	r44->x = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$2988$326;
	r44 = NULL;
	goto label$2988$329;
	label$2988$326:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r13];
	r44 = (h3d__col__Point)r20;
	label$2988$329:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->y;
	r51 = r26->y;
	r50 = r50 + r51;
	r44->y = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r13) < ((unsigned)r17) ) goto label$2988$340;
	r44 = NULL;
	goto label$2988$343;
	label$2988$340:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r13];
	r44 = (h3d__col__Point)r20;
	label$2988$343:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->z;
	r51 = r26->z;
	r50 = r50 + r51;
	r44->z = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$2988$354;
	r44 = NULL;
	goto label$2988$357;
	label$2988$354:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r15];
	r44 = (h3d__col__Point)r20;
	label$2988$357:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->x;
	r51 = r26->x;
	r50 = r50 + r51;
	r44->x = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$2988$368;
	r44 = NULL;
	goto label$2988$371;
	label$2988$368:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r15];
	r44 = (h3d__col__Point)r20;
	label$2988$371:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->y;
	r51 = r26->y;
	r50 = r50 + r51;
	r44->y = r50;
	r2 = r0->tangents;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$2988$382;
	r44 = NULL;
	goto label$2988$385;
	label$2988$382:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r15];
	r44 = (h3d__col__Point)r20;
	label$2988$385:
	if( r44 == NULL ) hl_null_access();
	r50 = r44->z;
	r51 = r26->z;
	r50 = r50 + r51;
	r44->z = r50;
	goto label$2988$35;
	label$2988$391:
	r6 = 0;
	r2 = r0->tangents;
	label$2988$393:
	if( r2 == NULL ) hl_null_access();
	r8 = r2->length;
	if( r6 >= r8 ) goto label$2988$409;
	r7 = r6;
	++r6;
	r8 = r2->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$2988$403;
	r9 = NULL;
	goto label$2988$406;
	label$2988$403:
	r3 = r2->array;
	r20 = ((vdynamic**)(r3 + 1))[r7];
	r9 = (h3d__col__Point)r20;
	label$2988$406:
	if( r9 == NULL ) hl_null_access();
	h3d_col_Point_normalize(r9);
	goto label$2988$393;
	label$2988$409:
	return;
}

void h3d_prim_Polygon_addUVs(h3d__prim__Polygon r0) {
	String r1;
	r1 = (String)global$714;
	hl_throw((vdynamic*)r1);
}

void h3d_prim_Polygon_uvScale(h3d__prim__Polygon r0,double r1,double r2) {
	String r5;
	haxe__ds__ObjectMap r7;
	h3d__prim__UV r10;
	hl__types__ArrayObj r4;
	bool r12;
	double r13;
	vdynamic *r6;
	varray *r11;
	int r8, r9;
	r4 = r0->uvs;
	if( r4 ) goto label$2990$4;
	r5 = (String)global$715;
	hl_throw((vdynamic*)r5);
	label$2990$4:
	r7 = (haxe__ds__ObjectMap)hl_alloc_obj(haxe__ds__ObjectMap__val);
	haxe_ds_ObjectMap_new(r7);
	r8 = 0;
	r4 = r0->uvs;
	label$2990$8:
	if( r4 == NULL ) hl_null_access();
	r9 = r4->length;
	if( r8 >= r9 ) goto label$2990$35;
	r9 = r4->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$2990$16;
	r10 = NULL;
	goto label$2990$19;
	label$2990$16:
	r11 = r4->array;
	r6 = ((vdynamic**)(r11 + 1))[r8];
	r10 = (h3d__prim__UV)r6;
	label$2990$19:
	++r8;
	if( r7 == NULL ) hl_null_access();
	r12 = haxe_ds_ObjectMap_exists(r7,((vdynamic*)r10));
	if( !r12 ) goto label$2990$24;
	goto label$2990$8;
	label$2990$24:
	r12 = true;
	r6 = hl_alloc_dynbool(r12);
	haxe_ds_ObjectMap_set(r7,((vdynamic*)r10),r6);
	if( r10 == NULL ) hl_null_access();
	r13 = r10->u;
	r13 = r13 * r1;
	r10->u = r13;
	r13 = r10->v;
	r13 = r13 * r2;
	r10->v = r13;
	goto label$2990$8;
	label$2990$35:
	return;
}

int h3d_prim_Polygon_triCount(h3d__prim__Polygon r0) {
	hl__types__ArrayObj r6;
	hl__types__ArrayBytes_hl_UI16 r5;
	double r4, r7;
	int r1, r2, r3;
	r1 = h3d_prim_Primitive_triCount(((h3d__prim__Primitive)r0));
	r3 = 0;
	if( r1 == r3 ) goto label$2991$4;
	return r1;
	label$2991$4:
	r5 = r0->idx;
	if( r5 ) goto label$2991$10;
	r6 = r0->points;
	if( r6 == NULL ) hl_null_access();
	r2 = r6->length;
	goto label$2991$13;
	label$2991$10:
	r5 = r0->idx;
	if( r5 == NULL ) hl_null_access();
	r2 = r5->length;
	label$2991$13:
	r4 = (double)r2;
	r2 = 3;
	r7 = (double)r2;
	r4 = r4 / r7;
	r2 = (int)r4;
	return r2;
}

int h3d_prim_Polygon_vertexCount(h3d__prim__Polygon r0) {
	hl__types__ArrayObj r2;
	int r1;
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->length;
	return r1;
}

vvirtual* h3d_prim_Polygon_getCollider(h3d__prim__Polygon r0) {
	vvirtual *r26;
	hl__types__ArrayObj r2;
	h3d__col__Polygon r24;
	hl__types__ArrayBytes_hl_UI16 r11, r13, r20, r21;
	hl__types__ArrayBytes_Single r5, r8;
	unsigned short r14;
	float r10;
	double r19;
	h3d__col__Point r17;
	int *r25;
	vdynamic *r9;
	varray *r18;
	vbyte *r6;
	int r1, r3, r7, r12, r15, r16, r22, r23;
	r2 = r0->points;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->length;
	r3 = 3;
	r1 = r1 * r3;
	r3 = 0;
	r6 = hl_alloc_bytes(r3);
	r3 = 0;
	r3 = 0;
	r5 = hl_types_ArrayBase_allocF32(r6,r3);
	r7 = 0;
	if( r7 >= r1 ) goto label$2993$24;
	if( r5 == NULL ) hl_null_access();
	r7 = 1;
	r3 = r1 - r7;
	r9 = NULL;
	r10 = (float)hl_dyn_castf(&r9,&type$9);
	r7 = r5->length;
	if( ((unsigned)r3) < ((unsigned)r7) ) goto label$2993$20;
	hl_types_ArrayBytes_Single___expand(r5,r3);
	label$2993$20:
	r6 = r5->bytes;
	r7 = 2;
	r7 = r3 << r7;
	*(float*)(r6 + r7) = r10;
	label$2993$24:
	r8 = r5;
	r11 = r0->idx;
	if( r11 == NULL ) hl_null_access();
	r3 = r11->length;
	r7 = 0;
	r6 = hl_alloc_bytes(r7);
	r7 = 0;
	r7 = 0;
	r11 = hl_types_ArrayBase_allocUI16(r6,r7);
	r12 = 0;
	if( r12 >= r3 ) goto label$2993$48;
	if( r11 == NULL ) hl_null_access();
	r12 = 1;
	r7 = r3 - r12;
	r9 = NULL;
	r14 = (unsigned short)hl_dyn_casti(&r9,&type$9,&type$2);
	r12 = (int)r14;
	r15 = r11->length;
	if( ((unsigned)r7) < ((unsigned)r15) ) goto label$2993$44;
	hl_types_ArrayBytes_hl_UI16___expand(r11,r7);
	label$2993$44:
	r6 = r11->bytes;
	r15 = 1;
	r15 = r7 << r15;
	*(unsigned short*)(r6 + r15) = (unsigned short)r12;
	label$2993$48:
	r13 = r11;
	r7 = 0;
	r12 = 0;
	r2 = r0->points;
	label$2993$52:
	if( r2 == NULL ) hl_null_access();
	r16 = r2->length;
	if( r12 >= r16 ) goto label$2993$100;
	r16 = r2->length;
	if( ((unsigned)r12) < ((unsigned)r16) ) goto label$2993$60;
	r17 = NULL;
	goto label$2993$63;
	label$2993$60:
	r18 = r2->array;
	r9 = ((vdynamic**)(r18 + 1))[r12];
	r17 = (h3d__col__Point)r9;
	label$2993$63:
	++r12;
	if( r8 == NULL ) hl_null_access();
	r15 = r7;
	++r7;
	if( r17 == NULL ) hl_null_access();
	r19 = r17->x;
	r10 = (float)r19;
	r16 = r8->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2993$73;
	hl_types_ArrayBytes_Single___expand(r8,r15);
	label$2993$73:
	r6 = r8->bytes;
	r16 = 2;
	r16 = r15 << r16;
	*(float*)(r6 + r16) = r10;
	r15 = r7;
	++r7;
	r19 = r17->y;
	r10 = (float)r19;
	r16 = r8->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2993$84;
	hl_types_ArrayBytes_Single___expand(r8,r15);
	label$2993$84:
	r6 = r8->bytes;
	r16 = 2;
	r16 = r15 << r16;
	*(float*)(r6 + r16) = r10;
	r15 = r7;
	++r7;
	r19 = r17->z;
	r10 = (float)r19;
	r16 = r8->length;
	if( ((unsigned)r15) < ((unsigned)r16) ) goto label$2993$95;
	hl_types_ArrayBytes_Single___expand(r8,r15);
	label$2993$95:
	r6 = r8->bytes;
	r16 = 2;
	r16 = r15 << r16;
	*(float*)(r6 + r16) = r10;
	goto label$2993$52;
	label$2993$100:
	r12 = 0;
	r20 = r0->idx;
	if( r20 == NULL ) hl_null_access();
	r15 = r20->length;
	label$2993$104:
	if( r12 >= r15 ) goto label$2993$131;
	r16 = r12;
	++r12;
	if( r13 == NULL ) hl_null_access();
	r21 = r0->idx;
	if( r21 == NULL ) hl_null_access();
	r23 = r21->length;
	if( ((unsigned)r16) < ((unsigned)r23) ) goto label$2993$115;
	r22 = 0;
	goto label$2993$119;
	label$2993$115:
	r6 = r21->bytes;
	r23 = 1;
	r23 = r16 << r23;
	r22 = *(unsigned short*)(r6 + r23);
	label$2993$119:
	r14 = (int)r22;
	r22 = (int)r14;
	r14 = (int)r22;
	r22 = (int)r14;
	r23 = r13->length;
	if( ((unsigned)r16) < ((unsigned)r23) ) goto label$2993$126;
	hl_types_ArrayBytes_hl_UI16___expand(r13,r16);
	label$2993$126:
	r6 = r13->bytes;
	r23 = 1;
	r23 = r16 << r23;
	*(unsigned short*)(r6 + r23) = (unsigned short)r22;
	goto label$2993$104;
	label$2993$131:
	r24 = (h3d__col__Polygon)hl_alloc_obj(h3d__col__Polygon__val);
	h3d_col_Polygon_new(r24);
	r25 = NULL;
	h3d_col_Polygon_addBuffers(r24,r8,r13,r25);
	if( r24 ) goto label$2993$138;
	r26 = NULL;
	goto label$2993$142;
	label$2993$138:
	r26 = r24->$_f1;
	if( r26 ) goto label$2993$142;
	r26 = hl_to_virtual(&type$252,(vdynamic*)r24);
	r24->$_f1 = r26;
	label$2993$142:
	return r26;
}

void h3d_prim_Polygon_render(h3d__prim__Polygon r0,h3d__Engine r1) {
	bool r4;
	h3d__impl__MemoryManager r11;
	h3d__BufferOffset r5;
	h3d__Buffer r3;
	int *r7, *r8;
	int r9, r10, r12, r13;
	h3d__Indexes r6;
	r3 = r0->buffer;
	if( !r3 ) goto label$2994$6;
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r4 = h3d_Buffer_isDisposed(r3);
	if( !r4 ) goto label$2994$7;
	label$2994$6:
	h3d_prim_Polygon_alloc(r0,r1);
	label$2994$7:
	r5 = h3d_prim_MeshPrimitive_getBuffers(((h3d__prim__MeshPrimitive)r0),r1);
	r6 = r0->indexes;
	if( !r6 ) goto label$2994$16;
	if( r1 == NULL ) hl_null_access();
	r6 = r0->indexes;
	r7 = NULL;
	r8 = NULL;
	h3d_Engine_renderMultiBuffers(r1,r5,r6,r7,r8);
	goto label$2994$42;
	label$2994$16:
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->flags;
	r10 = 4;
	r9 = r9 & r10;
	r10 = 0;
	if( r9 == r10 ) goto label$2994$33;
	if( r1 == NULL ) hl_null_access();
	r11 = r1->mem;
	if( r11 == NULL ) hl_null_access();
	r6 = r11->quadIndexes;
	r9 = 0;
	r7 = &r9;
	r10 = h3d_prim_Polygon_triCount(r0);
	r8 = &r10;
	h3d_Engine_renderMultiBuffers(r1,r5,r6,r7,r8);
	goto label$2994$42;
	label$2994$33:
	if( r1 == NULL ) hl_null_access();
	r11 = r1->mem;
	if( r11 == NULL ) hl_null_access();
	r6 = r11->triIndexes;
	r12 = 0;
	r7 = &r12;
	r13 = h3d_prim_Polygon_triCount(r0);
	r8 = &r13;
	h3d_Engine_renderMultiBuffers(r1,r5,r6,r7,r8);
	label$2994$42:
	return;
}

void h3d_prim_Polygon_new(h3d__prim__Polygon r0,hl__types__ArrayObj r1,hl__types__ArrayBytes_hl_UI16 r2) {
	double r3;
	r3 = 0.;
	r0->translatedZ = r3;
	r3 = 0.;
	r0->translatedY = r3;
	r3 = 0.;
	r0->translatedX = r3;
	r3 = 1.;
	r0->scaled = r3;
	r0->points = r1;
	r0->idx = r2;
	return;
}

