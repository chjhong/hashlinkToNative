// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

hl__types__ArrayObj h3d_scene_NormalPass_getOutputs(h3d__scene__NormalPass r0) {
	String r6;
	hl__types__ArrayObj r1;
	venum *r5;
	hl_type *r3;
	vdynamic *r7;
	int r4;
	varray *r2;
	r3 = &type$2397;
	r4 = 1;
	r2 = hl_alloc_array(r3,r4);
	r6 = (String)global$723;
	r7 = NULL;
	r5 = hl_alloc_enum(&type$2397,1);
	((hxsl_Output_Value*)r5)->p0 = r6;
	((hxsl_Output_Value*)r5)->p1 = r7;
	{ venum *tmp;
	tmp = hl_alloc_enum(&type$2397,2);
	((hxsl_Output_PackNormal*)tmp)->p0 = r5;
	r5 = tmp; };
	r4 = 0;
	((venum**)(r2 + 1))[r4] = r5;
	r1 = hl_types_ArrayObj_alloc(r2);
	return r1;
}

h3d__pass__Object h3d_scene_NormalPass_draw(h3d__scene__NormalPass r0,h3d__pass__Object r1) {
	bool *r9;
	String r5;
	h3d__impl__TextureCache r3;
	hl__types__ArrayObj r11;
	venum *r10;
	h3d__Engine r7;
	h3d__pass__Object r19;
	double r16;
	vdynamic *r15, *r17, *r18;
	int *r13, *r14;
	h3d__scene__RenderContext r4;
	int r6, r8;
	h3d__mat__Texture r2;
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->textures;
	if( r3 == NULL ) hl_null_access();
	r5 = (String)global$722;
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->engine;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->width;
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->engine;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->height;
	r9 = NULL;
	r10 = NULL;
	r11 = NULL;
	r2 = h3d_impl_TextureCache_allocTarget(r3,r5,r6,r8,r9,r10,r11);
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->engine;
	if( r7 == NULL ) hl_null_access();
	r13 = NULL;
	r14 = NULL;
	h3d_Engine_pushTarget(r7,r2,r13,r14);
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->engine;
	if( r7 == NULL ) hl_null_access();
	r6 = 8421504;
	r15 = hl_alloc_dynamic(&type$3);
	r15->v.i = r6;
	r6 = 1;
	r16 = (double)r6;
	r17 = hl_alloc_dynamic(&type$6);
	r17->v.d = r16;
	r18 = NULL;
	h3d_Engine_clear(r7,r15,r17,r18);
	r19 = h3d_pass_Default_draw(((h3d__pass__Default)r0),r1);
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->engine;
	if( r7 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r7);
	r4 = r0->ctx;
	if( r4 == NULL ) hl_null_access();
	r6 = r0->normalMapId;
	h3d_scene_RenderContext_setGlobalID(r4,r6,((vdynamic*)r2));
	return r19;
}

void h3d_scene_NormalPass_new(h3d__scene__NormalPass r0) {
	String r2;
	vdynamic *r3;
	int r4;
	r2 = (String)global$702;
	h3d_pass_Default_new(((h3d__pass__Default)r0),r2);
	r2 = (String)global$722;
	r3 = hxsl_Globals_allocID(r2);
	r4 = r3 ? r3->v.i : 0;
	r0->normalMapId = r4;
	return;
}

