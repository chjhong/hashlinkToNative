// Generated by HLC 4.0.0 (HL v4)
#include <hl/code.h>

h3d__pass__Base h3d_scene_DefaultRenderer_get_def(h3d__scene__DefaultRenderer r0) {
	h3d__pass__Base r1;
	r1 = r0->defaultPass;
	return r1;
}

void h3d_scene_DefaultRenderer_renderPass(h3d__scene__DefaultRenderer r0,h3d__pass__Base r1,h3d__pass__Object r2) {
	h3d__pass__Object r3;
	if( r1 == NULL ) hl_null_access();
	r3 = ((h3d__pass__Object (*)(h3d__pass__Base,h3d__pass__Object))r1->$type->vobj_proto[2])(r1,r2);
	return;
}

void h3d_scene_DefaultRenderer_render(h3d__scene__DefaultRenderer r0) {
	bool *r7;
	String r3;
	h3d__pass__DefaultShadowMap r4;
	h3d__pass__Base r6;
	bool r2;
	h3d__pass__Object r5;
	r3 = (String)global$559;
	r2 = h3d_scene_Renderer_has(((h3d__scene__Renderer)r0),r3);
	if( !r2 ) goto label$2760$7;
	r4 = r0->shadow;
	r3 = (String)global$559;
	r5 = h3d_scene_Renderer_get(((h3d__scene__Renderer)r0),r3);
	h3d_scene_DefaultRenderer_renderPass(r0,((h3d__pass__Base)r4),r5);
	label$2760$7:
	r3 = (String)global$719;
	r2 = h3d_scene_Renderer_has(((h3d__scene__Renderer)r0),r3);
	if( !r2 ) goto label$2760$14;
	r6 = r0->depth;
	r3 = (String)global$719;
	r5 = h3d_scene_Renderer_get(((h3d__scene__Renderer)r0),r3);
	h3d_scene_DefaultRenderer_renderPass(r0,r6,r5);
	label$2760$14:
	r3 = (String)global$702;
	r2 = h3d_scene_Renderer_has(((h3d__scene__Renderer)r0),r3);
	if( !r2 ) goto label$2760$21;
	r6 = r0->normal;
	r3 = (String)global$702;
	r5 = h3d_scene_Renderer_get(((h3d__scene__Renderer)r0),r3);
	h3d_scene_DefaultRenderer_renderPass(r0,r6,r5);
	label$2760$21:
	r6 = r0->defaultPass;
	r3 = (String)global$554;
	r2 = true;
	r7 = &r2;
	r5 = h3d_scene_Renderer_getSort(((h3d__scene__Renderer)r0),r3,r7);
	h3d_scene_DefaultRenderer_renderPass(r0,r6,r5);
	r6 = r0->defaultPass;
	r3 = (String)global$560;
	r7 = NULL;
	r5 = h3d_scene_Renderer_getSort(((h3d__scene__Renderer)r0),r3,r7);
	h3d_scene_DefaultRenderer_renderPass(r0,r6,r5);
	r6 = r0->defaultPass;
	r3 = (String)global$561;
	r5 = h3d_scene_Renderer_get(((h3d__scene__Renderer)r0),r3);
	h3d_scene_DefaultRenderer_renderPass(r0,r6,r5);
	return;
}

void h3d_scene_DefaultRenderer_new(h3d__scene__DefaultRenderer r0) {
	String r9;
	hl__types__ArrayObj r10;
	hl_type *r12;
	h3d__pass__Default r8;
	venum *r4;
	h3d__pass__DefaultShadowMap r1;
	h3d__pass__Base r14;
	h3d__scene__DepthPass r7;
	h3d__scene__NormalPass r6;
	int *r3;
	varray *r11;
	int r2, r13;
	r1 = (h3d__pass__DefaultShadowMap)hl_alloc_obj(h3d__pass__DefaultShadowMap__val);
	r2 = 1024;
	r3 = &r2;
	r4 = NULL;
	h3d_pass_DefaultShadowMap_new(r1,r3,r4);
	r0->shadow = r1;
	r6 = (h3d__scene__NormalPass)hl_alloc_obj(h3d__scene__NormalPass__val);
	h3d_scene_NormalPass_new(r6);
	r0->normal = ((h3d__pass__Base)r6);
	r7 = (h3d__scene__DepthPass)hl_alloc_obj(h3d__scene__DepthPass__val);
	h3d_scene_DepthPass_new(r7);
	r0->depth = ((h3d__pass__Base)r7);
	h3d_scene_Renderer_new(((h3d__scene__Renderer)r0));
	r8 = (h3d__pass__Default)hl_alloc_obj(h3d__pass__Default__val);
	r9 = (String)global$554;
	h3d_pass_Default_new(r8,r9);
	r0->defaultPass = ((h3d__pass__Base)r8);
	r12 = &type$1314;
	r13 = 4;
	r11 = hl_alloc_array(r12,r13);
	r14 = r0->defaultPass;
	r13 = 0;
	((h3d__pass__Base*)(r11 + 1))[r13] = r14;
	r14 = r0->depth;
	r13 = 1;
	((h3d__pass__Base*)(r11 + 1))[r13] = r14;
	r14 = r0->normal;
	r13 = 2;
	((h3d__pass__Base*)(r11 + 1))[r13] = r14;
	r1 = r0->shadow;
	r13 = 3;
	((h3d__pass__DefaultShadowMap*)(r11 + 1))[r13] = r1;
	r10 = hl_types_ArrayObj_alloc(r11);
	r0->allPasses = r10;
	return;
}

